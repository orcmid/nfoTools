nfoCPUID.txt 0.0.2                  UTF-8                      dh:2025-10-31
*---|----1----|----2----|----3----|----4----|----5----|----6----|----7----|--*

    <https://github.com/orcmid/nfoTools/blob/master/devLib/nfoCPUID/CPUID.txt>

                     nfoCPUID: DETECTING PROCESSOR FEATURES
                     ======================================

    A utility function to determine features of the CPU on which a program
    is running.  CPUID is the name of the processor instruction that
    reports processor features to running programs.

    A key purpose is to determine the presence or absence of special features
    on which a program may depend.  If a program requires a special feature,
    using nfoCPUID will help determine if requirements are not satisfied
    and whether any remediation is available.  If an unavailable feature is
    essential, there should be user-understandable explanation that the
    program cannot operate and employment of the particular processor is not
    supported.

MANIFEST

    nfoCPUID.txt
        This description file with a manifest and supporting Notes and TODOs

    dev/
        Development of utility function(s) releases

    tests/
        test cases for confirmation of operation



*---|----1----|----2----|----3----|----4----|----5----|----6----|----7----|--*

                      Copyright 2025 Dennis E. Hamilton

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.

*---|----1----|----2----|----3----|----4----|----5----|----6----|----7----|--*

 ATTRIBUTION

   Hamilton, Dennis E. nfoCPUID: Detecting Processor Features.  nfoTools file
   nfoCPUID.txt version 0.0.2 dated 2025-10-31, available on the Internet as a
   version of
   <https://github.com/orcmid/nfoTools/blob/master/devLib/nfoCPUID/CPUID.txt>

NOTES AND TODO

  * From <https://benlevinson.com/projects/systemInfo> we get that the
    Hardware cpuid instruction (in assembler) returns 4 32-bit words from
    registers.

  * From <https://learn.microsoft.com/en-us/cpp/intrinsics/cpuid-cpuidex>
    we get MSVC-170 description of the two functions __cpuid() and
    __cpuidEx().  The first parameter is an int cpuInfo[4], the second is
    an int function_id, and, for __cpuidex, an int subfunction_id.  These
    are "intrinsics" and the header file is <intrin.h> on Windows.  The
    example is inscrutible C++.  The details are in reference manuals from
    Intel and AMD. IT IS IMPORTANT TO GET THIS WORKING IN CLEAN C.

  * There is information on detecting the presence of CPUID support at
    <https://www.freecodecamp.org/news/retrieve-system-information-using-cpuid/>.
    This is all in assembler but there is a nice list of the features and how
    to tell that CPUID is supported and then one can dig out all of the
    feature settings.

  * This article suggests that CPUID is tricky when running in a VM, and there
    can be an exit because of it.
    <https://learn.microsoft.com/en-us/virtualization/api/hypervisor-platform/funcs/whvrunvirtualprocessor>

  * <https://en.wikipedia.org/wiki/CPUID> is helpful, especially in reporting
    that the feature is supported on Pentiums and others since 1993.  This is
    enormous.  One saving grace is the examples of Wrapper functions,
    including the Visual Studio <cpuid.h> and __cpuid() intrinsic. See
    <https://en.wikipedia.org/wiki/CPUID#CPUID_usage_from_high-level_languages>.

*---|----1----|----2----|----3----|----4----|----5----|----6----|----7----|--*

 0.0.2 2025-10-31T00:48Z Expanded TODOs
 0.0.1 2025-10-30T23:01Z Touch up, adding dev/ and tests/ sub-folders
 0.0.0 2025-10-30T20:25Z Initial placeholder for information gathering.

                          *** end of nfoCPUID.txt ***
