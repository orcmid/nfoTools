(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888,862],{8703:function(r,n,i){"use strict";i.d(n,{Z:function(){return createCache}});var o=function(){function StyleSheet(r){var n=this;this._insertTag=function(r){var i;i=0===n.tags.length?n.insertionPoint?n.insertionPoint.nextSibling:n.prepend?n.container.firstChild:n.before:n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(r,i),n.tags.push(r)},this.isSpeedy=void 0===r.speedy||r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var r=StyleSheet.prototype;return r.hydrate=function(r){r.forEach(this._insertTag)},r.insert=function(r){if(this.ctr%(this.isSpeedy?65e3:1)==0){var n;this._insertTag(((n=document.createElement("style")).setAttribute("data-emotion",this.key),void 0!==this.nonce&&n.setAttribute("nonce",this.nonce),n.appendChild(document.createTextNode("")),n.setAttribute("data-s",""),n))}var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=function(r){if(r.sheet)return r.sheet;for(var n=0;n<document.styleSheets.length;n++)if(document.styleSheets[n].ownerNode===r)return document.styleSheets[n]}(i);try{o.insertRule(r,o.cssRules.length)}catch(r){}}else i.appendChild(document.createTextNode(r));this.ctr++},r.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},StyleSheet}(),a=Math.abs,c=String.fromCharCode,u=Object.assign;function Utility_replace(r,n,i){return r.replace(n,i)}function indexof(r,n){return r.indexOf(n)}function Utility_charat(r,n){return 0|r.charCodeAt(n)}function Utility_substr(r,n,i){return r.slice(n,i)}function Utility_strlen(r){return r.length}function Utility_append(r,n){return n.push(r),r}var l=1,p=1,S=0,k=0,O=0,w="";function node(r,n,i,o,a,c,u){return{value:r,root:n,parent:i,type:o,props:a,children:c,line:l,column:p,length:u,return:""}}function Tokenizer_copy(r,n){return u(node("",null,null,"",null,null,0),r,{length:-r.length},n)}function next(){return O=k<S?Utility_charat(w,k++):0,p++,10===O&&(p=1,l++),O}function peek(){return Utility_charat(w,k)}function token(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(r){return l=p=1,S=Utility_strlen(w=r),k=0,[]}function delimit(r){var n,i;return(n=k-1,i=function delimiter(r){for(;next();)switch(O){case r:return k;case 34:case 39:34!==r&&39!==r&&delimiter(O);break;case 40:41===r&&delimiter(r);break;case 92:next()}return k}(91===r?r+2:40===r?r+1:r),Utility_substr(w,n,i)).trim()}var C="-ms-",I="-moz-",R="-webkit-",x="comm",j="rule",N="decl",W="@keyframes";function Serializer_serialize(r,n){for(var i="",o=r.length,a=0;a<o;a++)i+=n(r[a],a,r,n)||"";return i}function stringify(r,n,i,o){switch(r.type){case"@layer":if(r.children.length)break;case"@import":case N:return r.return=r.return||r.value;case x:return"";case W:return r.return=r.value+"{"+Serializer_serialize(r.children,o)+"}";case j:r.value=r.props.join(",")}return Utility_strlen(i=Serializer_serialize(r.children,o))?r.return=r.value+"{"+i+"}":""}function ruleset(r,n,i,o,c,u,l,p,S,k,O){for(var w=c-1,C=0===c?u:[""],I=C.length,R=0,x=0,N=0;R<o;++R)for(var W=0,G=Utility_substr(r,w+1,w=a(x=l[R])),$=r;W<I;++W)($=(x>0?C[W]+" "+G:Utility_replace(G,/&\f/g,C[W])).trim())&&(S[N++]=$);return node(r,n,i,0===c?j:p,S,k,O)}function declaration(r,n,i,o){return node(r,n,i,N,Utility_substr(r,0,o),Utility_substr(r,o+1,-1),o)}var identifierWithPointTracking=function(r,n,i){for(var o=0,a=0;o=a,a=peek(),38===o&&12===a&&(n[i]=1),!token(a);)next();return Utility_substr(w,r,k)},toRules=function(r,n){var i=-1,o=44;do switch(token(o)){case 0:38===o&&12===peek()&&(n[i]=1),r[i]+=identifierWithPointTracking(k-1,n,i);break;case 2:r[i]+=delimit(o);break;case 4:if(44===o){r[++i]=58===peek()?"&\f":"",n[i]=r[i].length;break}default:r[i]+=c(o)}while(o=next());return r},getRules=function(r,n){var i;return i=toRules(alloc(r),n),w="",i},G=new WeakMap,compat=function(r){if("rule"===r.type&&r.parent&&!(r.length<1)){for(var n=r.value,i=r.parent,o=r.column===i.column&&r.line===i.line;"rule"!==i.type;)if(!(i=i.parent))return;if((1!==r.props.length||58===n.charCodeAt(0)||G.get(i))&&!o){G.set(r,!0);for(var a=[],c=getRules(n,a),u=i.props,l=0,p=0;l<c.length;l++)for(var S=0;S<u.length;S++,p++)r.props[p]=a[l]?c[l].replace(/&\f/g,u[S]):u[S]+" "+c[l]}}},removeLabel=function(r){if("decl"===r.type){var n=r.value;108===n.charCodeAt(0)&&98===n.charCodeAt(2)&&(r.return="",r.value="")}},$=[function(r,n,i,o){if(r.length>-1&&!r.return)switch(r.type){case N:r.return=function emotion_cache_browser_esm_prefix(r,n){switch(45^Utility_charat(r,0)?(((n<<2^Utility_charat(r,0))<<2^Utility_charat(r,1))<<2^Utility_charat(r,2))<<2^Utility_charat(r,3):0){case 5103:return R+"print-"+r+r;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return R+r+r;case 5349:case 4246:case 4810:case 6968:case 2756:return R+r+I+r+C+r+r;case 6828:case 4268:return R+r+C+r+r;case 6165:return R+r+C+"flex-"+r+r;case 5187:return R+r+Utility_replace(r,/(\w+).+(:[^]+)/,R+"box-$1$2"+C+"flex-$1$2")+r;case 5443:return R+r+C+"flex-item-"+Utility_replace(r,/flex-|-self/,"")+r;case 4675:return R+r+C+"flex-line-pack"+Utility_replace(r,/align-content|flex-|-self/,"")+r;case 5548:return R+r+C+Utility_replace(r,"shrink","negative")+r;case 5292:return R+r+C+Utility_replace(r,"basis","preferred-size")+r;case 6060:return R+"box-"+Utility_replace(r,"-grow","")+R+r+C+Utility_replace(r,"grow","positive")+r;case 4554:return R+Utility_replace(r,/([^-])(transform)/g,"$1"+R+"$2")+r;case 6187:return Utility_replace(Utility_replace(Utility_replace(r,/(zoom-|grab)/,R+"$1"),/(image-set)/,R+"$1"),r,"")+r;case 5495:case 3959:return Utility_replace(r,/(image-set\([^]*)/,R+"$1$`$1");case 4968:return Utility_replace(Utility_replace(r,/(.+:)(flex-)?(.*)/,R+"box-pack:$3"+C+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+R+r+r;case 4095:case 3583:case 4068:case 2532:return Utility_replace(r,/(.+)-inline(.+)/,R+"$1$2")+r;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Utility_strlen(r)-1-n>6)switch(Utility_charat(r,n+1)){case 109:if(45!==Utility_charat(r,n+4))break;case 102:return Utility_replace(r,/(.+:)(.+)-([^]+)/,"$1"+R+"$2-$3$1"+I+(108==Utility_charat(r,n+3)?"$3":"$2-$3"))+r;case 115:return~indexof(r,"stretch")?emotion_cache_browser_esm_prefix(Utility_replace(r,"stretch","fill-available"),n)+r:r}break;case 4949:if(115!==Utility_charat(r,n+1))break;case 6444:switch(Utility_charat(r,Utility_strlen(r)-3-(~indexof(r,"!important")&&10))){case 107:return Utility_replace(r,":",":"+R)+r;case 101:return Utility_replace(r,/(.+:)([^;!]+)(;|!.+)?/,"$1"+R+(45===Utility_charat(r,14)?"inline-":"")+"box$3$1"+R+"$2$3$1"+C+"$2box$3")+r}break;case 5936:switch(Utility_charat(r,n+11)){case 114:return R+r+C+Utility_replace(r,/[svh]\w+-[tblr]{2}/,"tb")+r;case 108:return R+r+C+Utility_replace(r,/[svh]\w+-[tblr]{2}/,"tb-rl")+r;case 45:return R+r+C+Utility_replace(r,/[svh]\w+-[tblr]{2}/,"lr")+r}return R+r+C+r+r}return r}(r.value,r.length);break;case W:return Serializer_serialize([Tokenizer_copy(r,{value:Utility_replace(r.value,"@","@"+R)})],o);case j:if(r.length)return r.props.map(function(n){var i;switch(i=n,(i=/(::plac\w+|:read-\w+)/.exec(i))?i[0]:i){case":read-only":case":read-write":return Serializer_serialize([Tokenizer_copy(r,{props:[Utility_replace(n,/:(read-\w+)/,":"+I+"$1")]})],o);case"::placeholder":return Serializer_serialize([Tokenizer_copy(r,{props:[Utility_replace(n,/:(plac\w+)/,":"+R+"input-$1")]}),Tokenizer_copy(r,{props:[Utility_replace(n,/:(plac\w+)/,":"+I+"$1")]}),Tokenizer_copy(r,{props:[Utility_replace(n,/:(plac\w+)/,C+"input-$1")]})],o)}return""}).join("")}}],createCache=function(r){var n,i,a,u,S,C=r.key;if("css"===C){var I=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(I,function(r){-1!==r.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(r),r.setAttribute("data-s",""))})}var R=r.stylisPlugins||$,j={},N=[];u=r.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+C+' "]'),function(r){for(var n=r.getAttribute("data-emotion").split(" "),i=1;i<n.length;i++)j[n[i]]=!0;N.push(r)});var W=(i=(n=[compat,removeLabel].concat(R,[stringify,(a=function(r){S.insert(r)},function(r){!r.root&&(r=r.return)&&a(r)})])).length,function(r,o,a,c){for(var u="",l=0;l<i;l++)u+=n[l](r,o,a,c)||"";return u}),stylis=function(r){var n,i;return Serializer_serialize((i=function parse(r,n,i,o,a,u,S,C,I){for(var R,j=0,N=0,W=S,G=0,$=0,J=0,et=1,er=1,en=1,ei=0,eo="",es=a,ec=u,eu=o,el=eo;er;)switch(J=ei,ei=next()){case 40:if(108!=J&&58==Utility_charat(el,W-1)){-1!=indexof(el+=Utility_replace(delimit(ei),"&","&\f"),"&\f")&&(en=-1);break}case 34:case 39:case 91:el+=delimit(ei);break;case 9:case 10:case 13:case 32:el+=function(r){for(;O=peek();)if(O<33)next();else break;return token(r)>2||token(O)>3?"":" "}(J);break;case 92:el+=function(r,n){for(var i;--n&&next()&&!(O<48)&&!(O>102)&&(!(O>57)||!(O<65))&&(!(O>70)||!(O<97)););return i=k+(n<6&&32==peek()&&32==next()),Utility_substr(w,r,i)}(k-1,7);continue;case 47:switch(peek()){case 42:case 47:Utility_append(node(R=function(r,n){for(;next()&&r+O!==57&&(r+O!==84||47!==peek()););return"/*"+Utility_substr(w,n,k-1)+"*"+c(47===r?r:next())}(next(),k),n,i,x,c(O),Utility_substr(R,2,-2),0),I);break;default:el+="/"}break;case 123*et:C[j++]=Utility_strlen(el)*en;case 125*et:case 59:case 0:switch(ei){case 0:case 125:er=0;case 59+N:-1==en&&(el=Utility_replace(el,/\f/g,"")),$>0&&Utility_strlen(el)-W&&Utility_append($>32?declaration(el+";",o,i,W-1):declaration(Utility_replace(el," ","")+";",o,i,W-2),I);break;case 59:el+=";";default:if(Utility_append(eu=ruleset(el,n,i,j,N,a,C,eo,es=[],ec=[],W),u),123===ei){if(0===N)parse(el,n,eu,eu,es,u,W,C,ec);else switch(99===G&&110===Utility_charat(el,3)?100:G){case 100:case 108:case 109:case 115:parse(r,eu,eu,o&&Utility_append(ruleset(r,eu,eu,0,0,a,C,eo,a,es=[],W),ec),a,ec,W,C,o?es:ec);break;default:parse(el,eu,eu,eu,[""],ec,0,C,ec)}}}j=N=$=0,et=en=1,eo=el="",W=S;break;case 58:W=1+Utility_strlen(el),$=J;default:if(et<1){if(123==ei)--et;else if(125==ei&&0==et++&&125==(O=k>0?Utility_charat(w,--k):0,p--,10===O&&(p=1,l--),O))continue}switch(el+=c(ei),ei*et){case 38:en=N>0?1:(el+="\f",-1);break;case 44:C[j++]=(Utility_strlen(el)-1)*en,en=1;break;case 64:45===peek()&&(el+=delimit(next())),G=peek(),N=W=Utility_strlen(eo=el+=function(r){for(;!token(peek());)next();return Utility_substr(w,r,k)}(k)),ei++;break;case 45:45===J&&2==Utility_strlen(el)&&(et=0)}}return u}("",null,null,null,[""],n=alloc(n=r),0,[0],n),w="",i),W)},G={key:C,sheet:new o({key:C,container:u,nonce:r.nonce,speedy:r.speedy,prepend:r.prepend,insertionPoint:r.insertionPoint}),nonce:r.nonce,inserted:j,registered:{},insert:function(r,n,i,o){S=i,stylis(r?r+"{"+n.styles+"}":n.styles),o&&(G.inserted[n.name]=!0)}};return G.sheet.hydrate(N),G}},9953:function(r,n,i){"use strict";function memoize(r){var n=Object.create(null);return function(i){return void 0===n[i]&&(n[i]=r(i)),n[i]}}i.d(n,{Z:function(){return memoize}})},234:function(r,n,i){"use strict";i.d(n,{xB:function(){return w},iv:function(){return css}});var o,a=i(1844),c=i.t(a,2),u=i(8703),l=i(7997),p=!!c.useInsertionEffect&&c.useInsertionEffect||a.useLayoutEffect,S=a.createContext("undefined"!=typeof HTMLElement?(0,u.Z)({key:"css"}):null);S.Provider;var k=a.createContext({}),O=i(3106);i(4342);var w=(o=function(r,n){var i=r.styles,o=(0,l.O)([i],void 0,a.useContext(k)),c=a.useRef();return p(function(){var r=n.key+"-global",i=new n.sheet.constructor({key:r,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),a=!1,u=document.querySelector('style[data-emotion="'+r+" "+o.name+'"]');return n.sheet.tags.length&&(i.before=n.sheet.tags[0]),null!==u&&(a=!0,u.setAttribute("data-emotion",r),i.hydrate([u])),c.current=[i,a],function(){i.flush()}},[n]),p(function(){var r=c.current,i=r[0];if(r[1]){r[1]=!1;return}if(void 0!==o.next&&(0,O.My)(n,o.next,!0),i.tags.length){var a=i.tags[i.tags.length-1].nextElementSibling;i.before=a,i.flush()}n.insert("",o,i,!1)},[n,o.name]),null},(0,a.forwardRef)(function(r,n){return o(r,(0,a.useContext)(S),n)}));function css(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return(0,l.O)(n)}},7997:function(r,n,i){"use strict";i.d(n,{O:function(){return serializeStyles}});var o,a={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},c=i(9953),u=/[A-Z]|^ms/g,l=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(r){return 45===r.charCodeAt(1)},isProcessableValue=function(r){return null!=r&&"boolean"!=typeof r},p=(0,c.Z)(function(r){return isCustomProperty(r)?r:r.replace(u,"-$&").toLowerCase()}),processStyleValue=function(r,n){switch(r){case"animation":case"animationName":if("string"==typeof n)return n.replace(l,function(r,n,i){return o={name:n,styles:i,next:o},n})}return 1===a[r]||isCustomProperty(r)||"number"!=typeof n||0===n?n:n+"px"};function handleInterpolation(r,n,i){if(null==i)return"";if(void 0!==i.__emotion_styles)return i;switch(typeof i){case"boolean":return"";case"object":if(1===i.anim)return o={name:i.name,styles:i.styles,next:o},i.name;if(void 0!==i.styles){var a=i.next;if(void 0!==a)for(;void 0!==a;)o={name:a.name,styles:a.styles,next:o},a=a.next;return i.styles+";"}return function(r,n,i){var o="";if(Array.isArray(i))for(var a=0;a<i.length;a++)o+=handleInterpolation(r,n,i[a])+";";else for(var c in i){var u=i[c];if("object"!=typeof u)null!=n&&void 0!==n[u]?o+=c+"{"+n[u]+"}":isProcessableValue(u)&&(o+=p(c)+":"+processStyleValue(c,u)+";");else if(Array.isArray(u)&&"string"==typeof u[0]&&(null==n||void 0===n[u[0]]))for(var l=0;l<u.length;l++)isProcessableValue(u[l])&&(o+=p(c)+":"+processStyleValue(c,u[l])+";");else{var S=handleInterpolation(r,n,u);switch(c){case"animation":case"animationName":o+=p(c)+":"+S+";";break;default:o+=c+"{"+S+"}"}}}return o}(r,n,i);case"function":if(void 0!==r){var c=o,u=i(r);return o=c,handleInterpolation(r,n,u)}}if(null==n)return i;var l=n[i];return void 0!==l?l:i}var S=/label:\s*([^\s;\n{]+)\s*(;|$)/g,serializeStyles=function(r,n,i){if(1===r.length&&"object"==typeof r[0]&&null!==r[0]&&void 0!==r[0].styles)return r[0];var a,c=!0,u="";o=void 0;var l=r[0];null==l||void 0===l.raw?(c=!1,u+=handleInterpolation(i,n,l)):u+=l[0];for(var p=1;p<r.length;p++)u+=handleInterpolation(i,n,r[p]),c&&(u+=l[p]);S.lastIndex=0;for(var k="";null!==(a=S.exec(u));)k+="-"+a[1];return{name:function(r){for(var n,i=0,o=0,a=r.length;a>=4;++o,a-=4)n=(65535&(n=255&r.charCodeAt(o)|(255&r.charCodeAt(++o))<<8|(255&r.charCodeAt(++o))<<16|(255&r.charCodeAt(++o))<<24))*1540483477+((n>>>16)*59797<<16),n^=n>>>24,i=(65535&n)*1540483477+((n>>>16)*59797<<16)^(65535&i)*1540483477+((i>>>16)*59797<<16);switch(a){case 3:i^=(255&r.charCodeAt(o+2))<<16;case 2:i^=(255&r.charCodeAt(o+1))<<8;case 1:i^=255&r.charCodeAt(o),i=(65535&i)*1540483477+((i>>>16)*59797<<16)}return i^=i>>>13,(((i=(65535&i)*1540483477+((i>>>16)*59797<<16))^i>>>15)>>>0).toString(36)}(u)+k,styles:u,next:o}}},3106:function(r,n,i){"use strict";function getRegisteredStyles(r,n,i){var o="";return i.split(" ").forEach(function(i){void 0!==r[i]?n.push(r[i]+";"):o+=i+" "}),o}i.d(n,{My:function(){return insertStyles},fp:function(){return getRegisteredStyles}});var registerStyles=function(r,n,i){var o=r.key+"-"+n.name;!1===i&&void 0===r.registered[o]&&(r.registered[o]=n.styles)},insertStyles=function(r,n,i){registerStyles(r,n,i);var o=r.key+"-"+n.name;if(void 0===r.inserted[n.name]){var a=n;do r.insert(n===a?"."+o:"",a,r.sheet,!0),a=a.next;while(void 0!==a)}}},5414:function(r,n,i){"use strict";i.r(n),i.d(n,{Base62:function(){return o},Base64:function(){return a}});var o={};i.r(o),i.d(o,{fromBytes:function(){return fromBytes},fromHex:function(){return fromHex},toBytes:function(){return toBytes},toHex:function(){return toHex}});var a={};function _createForOfIteratorHelper(r,n){var i="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!i){if(Array.isArray(r)||(i=function(r,n){if(r){if("string"==typeof r)return _arrayLikeToArray(r,n);var i=Object.prototype.toString.call(r).slice(8,-1);if("Object"===i&&r.constructor&&(i=r.constructor.name),"Map"===i||"Set"===i)return Array.from(r);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(r,n)}}(r))||n&&r&&"number"==typeof r.length){i&&(r=i);var o=0,F=function(){};return{s:F,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(r){throw r},f:F}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){i=i.call(r)},n:function(){var r=i.next();return c=r.done,r},e:function(r){u=!0,a=r},f:function(){try{c||null==i.return||i.return()}finally{if(u)throw a}}}}function _arrayLikeToArray(r,n){(null==n||n>r.length)&&(n=r.length);for(var i=0,o=Array(n);i<n;i++)o[i]=r[i];return o}i.r(a),i.d(a,{decode:function(){return decode},encode:function(){return encode}});var c="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",u={},l={};function convert(r,n,i){var o,a=[0],c=[1],u=_createForOfIteratorHelper(r);try{for(u.s();!(o=u.n()).done;){var l=o.value;!function(r,n,i,o){var a,c,u=0;for(c=0;c<n.length;++c)a=~~r[c]+n[c]*i+u,r[c]=a%o,u=~~(a/o);for(;u;)a=~~r[c]+u,r[c]=a%o,u=~~(a/o),++c}(a,c,l,i),function(r,n,i){for(var o=0,a=0;a<r.length;++a){var c=r[a]*n+o;r[a]=c%i,o=~~(c/i)}for(;o;)r.push(o%i),o=~~(o/i)}(c,n,i)}}catch(r){u.e(r)}finally{u.f()}return a}function mapr(r,n){var i,o=[],a=_createForOfIteratorHelper(r);try{for(a.s();!(i=a.n()).done;){var c=i.value;o.push(n[c])}}catch(r){a.e(r)}finally{a.f()}return o.reverse()}function pad(r){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r.length<n;)r.push(0);return r}function fromBytes(r,n){return mapr(pad(convert(r.slice(0).reverse(),256,62),n),c).join("")}function toBytes(r,n){return pad(convert(mapr(r.split(""),l),62,256),n).reverse()}function toHex(r,n){var i=convert(mapr(r.split(""),l),62,16);return mapr(pad(i,n),c).join("")}function fromHex(r,n){var i=convert(mapr(r.split(""),u),16,62);return mapr(pad(i,n),c).join("")}!function(){for(var r=0,n=c.length;r<n;++r)l[c[r]]=r;for(var i=0;i<16;++i)u["0123456789abcdef"[i]]=i;for(var o=0;o<16;++o)u["0123456789ABCDEF"[o]]=o}();var p=i(4714),S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",k=function(){for(var r=[],n=0;n<256;++n)r[n]=255;for(var i=0;i<S.length;++i)r[S.charCodeAt(i)]=i;return String.fromCharCode.apply(String,r)}(),encode=function(r){for(var n=String(r),i=[],o=n.length,a=0;a<o;){var c=255&n.charCodeAt(a++);if(a===o){i.push(S.charAt(c>>2),S.charAt((3&c)<<4),"==");break}var u=n.charCodeAt(a++);if(a===o){i.push(S.charAt(c>>2),S.charAt((3&c)<<4|(240&u)>>4),S.charAt((15&u)<<2),"=");break}var l=n.charCodeAt(a++);i.push(S.charAt(c>>2),S.charAt((3&c)<<4|(240&u)>>4),S.charAt((15&u)<<2|(192&l)>>6),S.charAt(63&l))}return i.join("")},decode=function(r){for(var n,i,o=String(r),a=[],c=o.length,u=0;;){do n=k.charCodeAt(255&o.charCodeAt(u++));while(255===n&&u<c);do i=k.charCodeAt(255&o.charCodeAt(u++));while(255===i&&u<c);if(255===i)break;a.push((n<<2|i>>4)&255);do n=k.charCodeAt(255&o.charCodeAt(u++));while(255===n&&u<c);if(255===n)break;a.push((i<<4|n>>2)&255);do i=k.charCodeAt(255&o.charCodeAt(u++));while(255===i&&u<c);if(255===i)break;a.push((n<<6|i)&255)}return function(r){if(r.length<4096)return String.fromCharCode.apply(String,(0,p.Z)(r));var n=0,i=[];do i.push(String.fromCharCode.apply(String,(0,p.Z)(r.slice(n,n+4096)))),n+=4096;while(n<r.length);return i.join("")}(a)};window.btoa&&window.atob&&(encode=function(r){return window.btoa(r)},decode=function(r){return window.atob(r)})},874:function(r,n,i){"use strict";function isBrowserBundle(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}function getSDKSource(){return"npm"}i.d(n,{S:function(){return getSDKSource},n:function(){return isBrowserBundle}})},7994:function(r,n,i){"use strict";i.d(n,{KV:function(){return isNodeEnv},l$:function(){return dynamicRequire}});var o=i(874);r=i.hmd(r);var a=i(8104);function isNodeEnv(){return!(0,o.n)()&&"[object process]"===Object.prototype.toString.call(void 0!==a?a:0)}function dynamicRequire(r,n){return r.require(n)}},7063:function(r,n,i){"use strict";i.d(n,{Z1:function(){return O},ph:function(){return k},yW:function(){return S}});var o=i(7994),a=i(1501);r=i.hmd(r);var c=(0,a.Rf)(),u={nowSeconds:function(){return Date.now()/1e3}},l=(0,o.KV)()?function(){try{return(0,o.l$)(r,"perf_hooks").performance}catch(r){return}}():function(){var r=c.performance;if(r&&r.now)return{now:function(){return r.now()},timeOrigin:Date.now()-r.now()}}(),p=void 0===l?u:{nowSeconds:function(){return(l.timeOrigin+l.now())/1e3}},S=u.nowSeconds.bind(u),k=p.nowSeconds.bind(p),O=function(){var r=c.performance;if(r&&r.now){var n=r.now(),i=Date.now(),o=r.timeOrigin?Math.abs(r.timeOrigin+n-i):36e5,a=r.timing&&r.timing.navigationStart,u="number"==typeof a?Math.abs(a+n-i):36e5;return o<36e5||u<36e5?o<=u?r.timeOrigin:a:i}}()},1501:function(r,n,i){"use strict";function isGlobalObj(r){return r&&r.Math==Math?r:void 0}i.d(n,{Rf:function(){return getGlobalObject},YO:function(){return getGlobalSingleton},n2:function(){return o}});var o="object"==typeof globalThis&&isGlobalObj(globalThis)||isGlobalObj(window)||"object"==typeof self&&isGlobalObj(self)||"object"==typeof i.g&&isGlobalObj(i.g)||function(){return this}()||{};function getGlobalObject(){return o}function getGlobalSingleton(r,n,i){var a=i||o,c=a.__SENTRY__=a.__SENTRY__||{};return c[r]||(c[r]=n())}},6385:function(r,n,i){"use strict";i.d(n,{B:function(){return u},vp:function(){return p}});var o,a=i(6506),c=i(2188),u=function(){function EmittedEvent(r,n){(0,a.Z)(this,EmittedEvent),this.defaultPrevented=!1,this.immediateStopped=!1,this.stopped=!1,this.type=r,this.data=n}return(0,c.Z)(EmittedEvent,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}},{key:"stopPropagation",value:function(){this.stopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediateStopped=!0}}]),EmittedEvent}(),l=[];function executeDeferreds(){var r,n=l.splice(0);if(n.length)for(var i=0,o=n.length;i<o;i++)null===(r=n[i])||void 0===r||r.call(n)}"function"!=typeof window.postMessage?o="function"==typeof queueMicrotask?queueMicrotask.bind(null,executeDeferreds):"function"==typeof setImmediate?setImmediate.bind(null,executeDeferreds):setTimeout.bind(null,executeDeferreds,10):function(){var r=window.location.origin||"".concat(window.location.protocol,"//").concat(window.location.hostname);if(o=window.postMessage.bind(window,"@execute_deferreds",r),!window.__hasDeferredHandler){"function"==typeof Object.defineProperty?Object.defineProperty(window,"__hasDeferredHandler",{value:!0}):window.__hasDeferredHandler=!0;var handler=function(n){(n.origin===r||"@execute_deferreds"===n.data)&&executeDeferreds()};window.addEventListener?window.addEventListener("message",handler):window.attachEvent&&window.attachEvent("onmessage",handler)}}();var defer=function(r){var n=!l.length;l.push(r),n&&o()};function _arrayLikeToArray(r,n){(null==n||n>r.length)&&(n=r.length);for(var i=0,o=Array(n);i<n;i++)o[i]=r[i];return o}function indexOfEntry(r,n,i){for(var o=0,a=r.length;o<a;o++){var c=r[o];if((null==c?void 0:c.listener)===n&&c.options.once===i.once)return o}return -1}function isListenerUnique(r,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!i)return!1;var a=r[n];return!a||!a.length||-1===indexOfEntry(a,i,o)}function appendToStore(r,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(n&&i){var a=r[n],c={listener:i,options:o};if(!a){r[n]=[c];return}a.push(c)}}"function"==typeof window.__modDefFn?defer=window.__modDefFn:"function"==typeof Object.defineProperty?Object.defineProperty(window,"__modDefFn",{value:defer}):window.__modDefFn=defer;var p=function(){function EventEmitter(){(0,a.Z)(this,EventEmitter),this._listeners={},this._metaListeners={add:{},remove:{}}}return(0,c.Z)(EventEmitter,[{key:"_dispatchFromStore",value:function(r,n){var i=n.type,o=r[i];if(o){var a,c=function(r,n){var i="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!i){if(Array.isArray(r)||(i=function(r,n){if(r){if("string"==typeof r)return _arrayLikeToArray(r,n);var i=Object.prototype.toString.call(r).slice(8,-1);if("Object"===i&&r.constructor&&(i=r.constructor.name),"Map"===i||"Set"===i)return Array.from(r);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(r,n)}}(r))){i&&(r=i);var o=0,F=function(){};return{s:F,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(r){throw r},f:F}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){i=i.call(r)},n:function(){var r=i.next();return c=r.done,r},e:function(r){u=!0,a=r},f:function(){try{c||null==i.return||i.return()}finally{if(u)throw a}}}}(o=o.slice(0));try{for(c.s();!(a=c.n()).done;){var u=a.value;if(u.listener.call(this,n),u.options.once&&this.removeListener(i,u.listener,u.options),n.immediateStopped)break}}catch(r){c.e(r)}finally{c.f()}}}},{key:"createEvent",value:function(r,n){return new u(r,n)}},{key:"on",value:function(r,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!r)throw TypeError("Argument `eventType` is required.");if(!n)return this;var o=this._listeners;if(isListenerUnique(o,r,n,i)){var a=this._metaListeners.add,c=a[r];if(c&&c.length){var l=new u(r,{listener:n,options:i});if(this._dispatchFromStore(a,l),l.defaultPrevented)return this}appendToStore(o,r,n,i)}return this}},{key:"addListener",value:function(r,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.on(r,n,i)}},{key:"addListeners",value:function(r){for(var n in r)r.hasOwnProperty(n)&&this.on(n,r[n]);return this}},{key:"once",value:function(r,n){return this.on(r,n,{once:!0})}},{key:"removeListener",value:function(r,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!r)throw TypeError("Argument `eventType` is required.");if(!n)return this;var o=this._listeners[r];if(!o)return this;var a=indexOfEntry(o,n,i);if(-1===a)return this;var c=this._metaListeners.remove[r];if(c&&c.length){var l=new u(r,{listener:n,options:i});if(this._dispatchFromStore(this._metaListeners.remove,l),l.defaultPrevented)return this}return o.splice(a,1),this}},{key:"removeListeners",value:function(r){for(var n in r)r.hasOwnProperty(n)&&this.removeListener(n,r[n]);return this}},{key:"removeAllListeners",value:function(r){return r?this._listeners[r]=[]:this._listeners={},this}},{key:"emit",value:function(r,n){var i=this;if(!r)throw TypeError("Argument `eventType` is required.");var o=this.createEvent(r,n);return defer(function(){return i._dispatchFromStore(i._listeners,o)}),o}},{key:"emitSync",value:function(r,n){if(!r)throw TypeError("Argument `eventType` is required.");var i=this.createEvent(r,n);return this._dispatchFromStore(this._listeners,i),i}},{key:"emitEvent",value:function(r){var n=this;return defer(function(){return n._dispatchFromStore(n._listeners,r)}),r}},{key:"emitEventSync",value:function(r){return this._dispatchFromStore(this._listeners,r),r}},{key:"emitAndWait",value:function(r,n,i){var o=this;if(!r)throw TypeError("Argument `eventType` is required.");var a=this.createEvent(r,n);return defer(function(){o._dispatchFromStore(o._listeners,a),i.call(o,a)}),a}},{key:"emitEventAndWait",value:function(r,n){var i=this;return defer(function(){i._dispatchFromStore(i._listeners,r),n.call(i,r)}),r}},{key:"proxyEmit",value:function(r,n,i){var o=this;if(!r||"function"!=typeof r.on)throw TypeError("Proxy source must be an EventEmitter");if(r===this)throw ReferenceError("Cannot create recursive proxy.");if(!n||!i)throw TypeError("Parameter sourceType and targetType are required.");var cb=function(r){r.stopped||o.emitAndWait(i,r.data,function(n){n.defaultPrevented&&r.preventDefault()})};return r.on(n,cb),cb}},{key:"proxyEmitSync",value:function(r,n,i){var o=this;if(!r||"function"!=typeof r.on)throw TypeError("Proxy source must be an EventEmitter");if(r===this)throw ReferenceError("Cannot create recursive proxy.");if(!n||!i)throw TypeError("Parameter sourceType and targetType are required.");var cb=function(r){if(!r.stopped){var n=o.createEvent(i,r.data);o.emitEventSync(n),n.defaultPrevented&&r.preventDefault()}};return r.on(n,cb),cb}},{key:"proxyEmitAll",value:function(r,n){for(var i in n)n.hasOwnProperty(i)&&this.proxyEmit(r,i,n[i])}},{key:"proxyEmitAllSync",value:function(r,n){for(var i in n)n.hasOwnProperty(i)&&this.proxyEmitSync(r,i,n[i])}},{key:"onAddListener",value:function(r,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this._metaListeners.add;return isListenerUnique(o,r,n,i)&&appendToStore(o,r,n,i),this}},{key:"onRemoveListener",value:function(r,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this._metaListeners.remove;return isListenerUnique(o,r,n,i)&&appendToStore(o,r,n,i),this}}]),EventEmitter}()},9022:function(r,n){"use strict";n.i=void 0,n.i=function(r){return{name:"EventSenderStats2NonAuth",environments:["devicenonauth","browsernonauth","desktopnonauth"],data:r}}},291:function(r,n){"use strict";n.t=void 0,n.t=function(r){return{name:"RejectedClientEventNonAuth",environments:["browsernonauth","desktopnonauth","devicenonauth"],data:r}}},7591:function(r,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.hexToBase64=void 0;var o=i(5414);n.hexToBase64=function(r){if(!r||r.length%2!=0)throw TypeError("Invalid hexString value.");var n=r.split("").reduce(function(r,n,i){return i%2==0?r.push(n):r[r.length-1]=""+r[r.length-1]+n,r},[]),i=String.fromCharCode.apply(null,n.map(function(r){var n=parseInt(r,16);if(isNaN(n))throw TypeError("Invalid hexString value.");return n}));return o.Base64.encode(i)}},2840:function(r,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.createApplicationContext=void 0,n.createApplicationContext=function(r){return function(){return{name:"context_application",data:r}}}},2621:function(r,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.createApplicationDesktopContext=void 0,n.createApplicationDesktopContext=function(r){return function(){return{name:"context_application_desktop",data:r}}}},3846:function(r,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.createCacheIdContext=void 0;var o=i(7591);n.createCacheIdContext=function(r){var n=o.hexToBase64(r);return function(){return{name:"context_cache_id",data:{value:n}}}}},2171:function(r,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.createClientIdContext=void 0;var o=i(7591);n.createClientIdContext=function(r){var n=o.hexToBase64(r);return function(){return{name:"context_client_id",data:{value:n}}}}},7843:function(r,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.createClientIpContext=void 0,n.createClientIpContext=function(r){return function(){return{name:"context_client_ip",data:{value:r}}}}},5021:function(r,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.createCorrelationIdContext=void 0,n.createCorrelationIdContext=function(r){return function(){return{name:"context_correlation_id",data:{value:r}}}}},1821:function(r,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.createDeviceContext=void 0,n.createDeviceContext=function(r){return function(){return{name:"context_device",data:r}}}},1688:function(r,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.createDeviceDesktopContext=void 0,n.createDeviceDesktopContext=function(r){return function(){return{name:"context_device_desktop",data:r}}}},5688:function(r,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=i(4298);o.__exportStar(i(2840),n),o.__exportStar(i(2621),n),o.__exportStar(i(3846),n),o.__exportStar(i(2171),n),o.__exportStar(i(7843),n),o.__exportStar(i(5021),n),o.__exportStar(i(1821),n),o.__exportStar(i(1688),n),o.__exportStar(i(3475),n),o.__exportStar(i(3337),n),o.__exportStar(i(2017),n)},3475:function(r,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.createInstallationIdContext=void 0;var o=i(7591);n.createInstallationIdContext=function(r){var n=o.hexToBase64(r);return function(){return{name:"context_installation_id",data:{value:n}}}}},3337:function(r,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.createOsContext=void 0,n.createOsContext=function(r){return function(){return{name:"context_os",data:r}}}},2017:function(r,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.createUserAgentContext=void 0,n.createUserAgentContext=function(r){if(!r&&"undefined"==typeof navigator)throw Error("userAgent is not provided and navigator.UserAgent is not available");return function(){return{name:"context_user_agent",data:{value:r||navigator.userAgent}}}}},3439:function(r,n,i){"use strict";i.r(n),i.d(n,{Environment:function(){return l},EventSenderEvent:function(){return S},createEventSender:function(){return createEventSender}}),(u=l||(l={})).BACKEND="BACKEND",u.BROWSER="BROWSER",u.BROWSER_NON_AUTH="BROWSER_NON_AUTH",u.DESKTOP="DESKTOP",u.DESKTOP_NON_AUTH="DESKTOP_NON_AUTH",u.DEVICE="DEVICE",u.DEVICE_NON_AUTH="DEVICE_NON_AUTH";var o,a,c,u,l,p,S,k,O=i(4714),w=i(6506),C=i(2188),I=i(5041),R=i(2945),x=i(8419),j=i(4298),N=i(382);i(8104),(o=p||(p={}))[o.NONE=0]="NONE",o[o.LOG=1]="LOG",o[o.DEBUG=2]="DEBUG",o[o.INFO=4]="INFO",o[o.WARN=8]="WARN",o[o.ERROR=16]="ERROR";var W=function(){function DummyLogger(){(0,w.Z)(this,DummyLogger),this.tag="",this.description=""}return(0,C.Z)(DummyLogger,[{key:"matchesTag",value:function(){return!1}},{key:"setLevel",value:function(){}},{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"log",value:function(){}},{key:"debug",value:function(){}},{key:"info",value:function(){}},{key:"warn",value:function(){}},{key:"error",value:function(){}}]),DummyLogger}(),G=i(8104),$=function(){function ConsoleLogger(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!1};(0,w.Z)(this,ConsoleLogger),this._tagParts=[],this._tagText="",this._enabled=!0,this._level=p.NONE,this.tag="",this.description="",this._predicate=function(){return!1},this.tag=r,this.description=n,this._predicate=i,this._tagParts=r.split("."),this._tagText="[".concat(r,"]")}return(0,C.Z)(ConsoleLogger,[{key:"_print",value:function(r,n,i){if(this._enabled||this._level&n){var o,a={args:i,type:r,tag:this.tag};this._predicate(a)||(o=console)[r].apply(o,[this._tagText].concat((0,O.Z)(i)))}}},{key:"matchesTag",value:function(r){var n=Array.isArray(r)?r:r.split("."),i=this._tagParts;if(n.length>i.length)return!1;for(var o=0,a=n.length;o<a;o++)if(("*"!==n[o]||!i[o])&&n[o]!==i[o])return!1;return!0}},{key:"setLevel",value:function(r){var n=0;switch(r){case"error":n=p.ERROR;break;case"warn":n=p.WARN|p.ERROR;break;case"info":n=p.INFO|p.WARN|p.ERROR;break;case"debug":n=p.DEBUG|p.INFO|p.WARN|p.ERROR;break;default:n=p.LOG|p.DEBUG|p.INFO|p.WARN|p.ERROR}this._level=n}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1}},{key:"log",value:function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];this._print("log",p.LOG,n)}},{key:"debug",value:function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];this._print("debug",p.DEBUG,n)}},{key:"info",value:function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];this._print("info",p.INFO,n)}},{key:"warn",value:function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];this._print("warn",p.WARN,n)}},{key:"error",value:function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];this._print("error",p.ERROR,n)}}]),ConsoleLogger}(),J=void 0!==G&&"true"===G.env.DEBUG?$:W,et="__dbgLoggerRegistry",er=i.g[et];er||(er={map:{},list:[],loggingPredicate:function(){}},Object.defineProperty?Object.defineProperty(i.g,et,{value:er}):i.g[et]=er);var en=er.map,ei=er.list;function _checkLog(r){return!!(er.loggingPredicate&&er.loggingPredicate(r))}function forTag(r,n){if("string"==typeof r?(i=r.toLowerCase(),o=n):(i=r.tag,o=r.description),en.hasOwnProperty(i)&&en[i])return en[i];var i,o,a=new J(i,o,_checkLog);return a.setLevel("log"),en[i]=a,ei.push(a),a}var eo=i(6385);(a=S||(S={})).UPLOAD_SUCCEEDED="upload_succeeded",a.UPLOAD_FAILED="upload_failed",a.UPLOAD_REQUEST_FAILED="upload_request_failed";var es=forTag("Uploader"),ec=function(r){(0,I.Z)(Uploader,r);var n,i=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,i=(0,x.Z)(Uploader);if(n){var o=(0,x.Z)(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return(0,R.Z)(this,r)});function Uploader(r){var n,o;return(0,w.Z)(this,Uploader),(n=i.call(this))._suppressPersist=!1,n._backoff=!1,n._authorize=null===(o=r.authorize)||void 0===o||o,n._transport=r.transport,n._suppressPersist=!!r.suppressPersist,n._endpoint=n._authorize?"@webgate/gabo-receiver-service/v3/events":"@webgate/gabo-receiver-service/public/v3/events",n}return(0,C.Z)(Uploader,[{key:"_uploadBatch",value:function(r){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this._transport,o=n&&this._authorize?i.appendLastTokenQuery(this._endpoint):this._endpoint;return this._transport.request(o,{method:N.Method.POST,metadata:{eventSenderEventNames:r.map(function(r){return r.event_name})},headers:{"content-type":"application/json"},responseType:"json",parseResponseHeaders:!0,payload:JSON.stringify({suppress_persist:this._suppressPersist,events:r}),forget:n,authorize:!n&&this._authorize}).then(this._parseUploadResponse.bind(this,r,n))}},{key:"_parseUploadResponse",value:function(r,n,i){if(n)return Promise.resolve([]);var o=i.body,a=i.headers,c=i.status,u=this._authorize;if(200!==c||!o)return es.warn("Upload request failed",i),this.emit(S.UPLOAD_REQUEST_FAILED,{authorize:u,status:c}),this._backoff=!0,Promise.resolve(r);var l=[],p=[],k=[];if(o.error&&o.error.length){es.info("response errors",r,o.error);for(var O=0,w=o.error.length;O<w;O++){var C=o.error[O],I=C.transient,R=C.index,x=C.reason,N=function(r,n){var i=r.event_name,o=r.fragments,a=o.message;return{reason:n,contexts:(0,j.__rest)(o,["message"]),event_data:{name:i,data:a}}}(r[R],x);I?(l.push(r[R]),p.push(N)):k.push(N)}}this._backoff=!((null==a?void 0:a.get("backoff"))!=="true");var W=p.length+k.length,G=r.length-W;return W>0&&this.emit(S.UPLOAD_FAILED,{authorize:u,rejected:k,will_retry:p}),G>0&&this.emit(S.UPLOAD_SUCCEEDED,{authorize:this._authorize,num_events:G}),Promise.resolve(l)}},{key:"upload",value:function(r){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=i;if(!r.length)return Promise.resolve({nack:o,backoff:this._backoff});var a=(0,O.Z)(r);return this._uploadBatch(a.splice(0,20)).then(function(r){if(o=[].concat((0,O.Z)(o),(0,O.Z)(r)),n._backoff)o=[].concat((0,O.Z)(o),(0,O.Z)(a));else if(a.length)return n.upload(a,o);return{nack:o,backoff:n._backoff}})}},{key:"lastUpload",value:function(r){return r.length?this._uploadBatch(r.splice(0,100),!0).then(function(r){return 0===r.length},function(){return!1}):Promise.resolve(!0)}},{key:"shouldBackoff",value:function(){return this._backoff}}]),Uploader}(eo.vp),eu=i(8310),el=i(2674),ef=i(333),ed={baseTime:200,ceiling:0,curve:"linear",jitter:!0},ep=function(){function Counter(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,w.Z)(this,Counter),this._curve=r.curve||ed.curve,this._baseTime=r.baseTime||ed.baseTime,this._ceiling=r.ceiling||ed.ceiling,this._jitter="jitter"in r?!!r.jitter:ed.jitter}return(0,C.Z)(Counter,[{key:"getTime",value:function(r){switch(this._curve){case"static":o=1;break;case"logarithmic":o=Math.log(r);break;case"exponential":o=Math.pow(Math.E,r);break;default:o=r+1}var n,i,o,a=Math.min(4294967296,Math.floor(o*this._baseTime));return this._ceiling&&(a=Math.min(a,this._ceiling)),this._jitter?(i=(n=a)/5,Math.floor(n-i/2+Math.random()*i)):a}}]),Counter}(),eh={backoffInitial:!1,baseTime:200,ceiling:0,curve:"linear",jitter:!0,maxDuration:1/0,maxRetries:1/0,maxTime:1/0,retryPredicate:function(){return!0}},ev=function(){function Backoff(r,n){(0,w.Z)(this,Backoff),this._resolver={promise:new Promise(function(r,n){i=r,o=n}),resolve:i,reject:o},this._ts=0,this._callCount=0,this._tickInterval=0,this._isRunning=!1,this._isDestroyed=!1;var i,o,a=Object.assign(Object.assign({},eh),n),c=a.backoffInitial,u=a.maxDuration,l=a.maxRetries,p=a.maxTime,S=a.retryPredicate,k=(0,j.__rest)(a,["backoffInitial","maxDuration","maxRetries","maxTime","retryPredicate"]);this._fn=r,this._backoffInitial=c,this._maxDuration=u,this._maxRetries=l,this._maxTime=p,this._retryPredicate=S,this._backoffInitial=c,this._counter=new ep(k),this._backoffInitial&&(this._maxRetries+=1)}return(0,C.Z)(Backoff,[{key:"_destroy",value:function(){this._isRunning=!1,this._isDestroyed=!0}},{key:"_failure",value:function(r){var n=this;if(!this._isDestroyed){if(r&&"retryAfter"in r)this._retryAfter(r);else{var i=this._counter.getTime(this._callCount);this._shouldRetry(i,r)?(this._callCount++,this._tickInterval=setTimeout(function(){return n._tick()},i)):(this._resolver.reject(r),this._destroy())}}}},{key:"_retryAfter",value:function(r){var n=this;this._callCount++,this._tickInterval=setTimeout(function(){return n._tick()},r.retryAfter)}},{key:"_success",value:function(){var r;this._isDestroyed||((r=this._resolver).resolve.apply(r,arguments),this._destroy())}},{key:"_shouldRetry",value:function(r,n){var i=Date.now()-this._ts+r;return this._callCount<this._maxRetries&&r<this._maxTime&&i<this._maxDuration&&this._retryPredicate(n)}},{key:"_tick",value:function(){var r=this;this._fn().then(function(){return r._success.apply(r,arguments)}).catch(function(n){return r._failure(n)})}},{key:"getResolver",value:function(){return this._resolver.promise}},{key:"start",value:function(){var r=this;return this._isDestroyed?Promise.reject(Error("Backoff already consumed")):(this._isRunning||(this._ts=Date.now(),this._isRunning=!0,this._backoffInitial?(this._callCount=1,this._tickInterval=setTimeout(function(){return r._tick()},this._counter.getTime(0))):this._tick()),this._resolver.promise)}},{key:"stop",value:function(){clearTimeout(this._tickInterval),this._destroy()}},{key:"getRetryCount",value:function(){return this._callCount}}],[{key:"init",value:function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Backoff(r,n).start()}}]),Backoff}(),em=i(291);(c=k||(k={})).INVALID_PAYLOAD="INVALID_PAYLOAD",c.INVALID_NAME="INVALID_NAME",c.UNKNOWN_OWNER="UNKNOWN_OWNER",c.PAYLOAD_SIZE_LIMIT_EXCEEDED="PAYLOAD_SIZE_LIMIT_EXCEEDED";var ey=i(9022),eg=function(){function Utilities(){(0,w.Z)(this,Utilities)}return(0,C.Z)(Utilities,null,[{key:"pushToArrIfMissing",value:function(r,n){-1===r.indexOf(n)&&r.push(n)}},{key:"isMissingFromArray",value:function(r,n){return -1===r.indexOf(n)}}]),Utilities}(),e_=function(){function StatsSender(){(0,w.Z)(this,StatsSender)}return(0,C.Z)(StatsSender,[{key:"_addEventsToEventSenderStatsData",value:function(r,n){Object.keys(n).map(function(i){for(var o=0;o<n[i].length;o++){var a=n[i][o];a.sequence_number<r[a.sequence_id][a.event_name].sequence_number_min&&(r[a.sequence_id][a.event_name].sequence_number_min=a.sequence_number),r[a.sequence_id][a.event_name].storage_size++}})}},{key:"_initializeESSEventData",value:function(r,n,i){Object.keys(r).includes(i)||(r[i]={});for(var o=0,a=Object.entries(n);o<a.length;o++){var c=(0,eu.Z)(a[o],2),u=c[0],l=c[1];r[i][u]={sequence_number_min:l+1,sequence_number_next:l+1,storage_size:0}}}},{key:"_formatESS2UnauthEventData",value:function(r){var n={sequence_ids:[],event_names:[],loss_stats_num_entries_per_sequence_id:[],loss_stats_event_name_index:[],loss_stats_storage_sizes:[],loss_stats_sequence_number_mins:[],loss_stats_sequence_number_nexts:[]};return Object.entries(r).map(function(r){var i=(0,eu.Z)(r,2),o=i[0],a=i[1];if(eg.isMissingFromArray(n.sequence_ids,o))n.sequence_ids.push(o),n.loss_stats_num_entries_per_sequence_id.push(Object.keys(a).length);else{var c=n.sequence_ids.indexOf(o);n.loss_stats_num_entries_per_sequence_id[c]+=Object.keys(a).length}Object.entries(a).map(function(r){var i=(0,eu.Z)(r,2),o=i[0],a=i[1];eg.pushToArrIfMissing(n.event_names,o);var c=n.event_names.indexOf(o);n.loss_stats_event_name_index.push(c);for(var u=Object.keys(a),l=0;l<u.length;l++)n["loss_stats_".concat(u[l],"s")].push(a[u[l]])})}),n}},{key:"createESSEvent",value:function(r,n,i){var o={};return this._initializeESSEventData(o,n,i),this._addEventsToEventSenderStatsData(o,r),(0,ey.i)(this._formatESS2UnauthEventData(o))}}]),StatsSender}(),eb=i(5414),eS=function(){function SequenceIdGenerator(){(0,w.Z)(this,SequenceIdGenerator),this._sequenceId=eb.Base64.encode(function(r){for(var n="",i=0;i<r;i++)n+=String.fromCharCode(256*Math.random()|0);return n}(16)),this._sequenceNumbers={}}return(0,C.Z)(SequenceIdGenerator,[{key:"getSequenceId",value:function(){return this._sequenceId}},{key:"nextSequenceNumber",value:function(r){return this._sequenceNumbers[r]||(this._sequenceNumbers[r]=0),++this._sequenceNumbers[r]}},{key:"getAllSequenceNumberCounters",value:function(){return this._sequenceNumbers}}],[{key:"create",value:function(){return new SequenceIdGenerator}}]),SequenceIdGenerator}();function _arrayLikeToArray(r,n){(null==n||n>r.length)&&(n=r.length);for(var i=0,o=Array(n);i<n;i++)o[i]=r[i];return o}var eE={baseTime:200,ceiling:3e5,maxDuration:18e5},ek=function(r){(0,I.Z)(EventSender,r);var n,i=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,i=(0,x.Z)(EventSender);if(n){var o=(0,x.Z)(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return(0,R.Z)(this,r)});function EventSender(r){(0,w.Z)(this,EventSender),(o=i.call(this))._sequenceIdGenerator=eS.create(),o._statsSender=new e_,o._instanceContexts={},o._sdkVersion="".concat("4.0.3").concat(null!==(a=r._experimentSuffix)&&void 0!==a?a:""),o._transport=r.transport,o._ownerProvider=r.ownerProvider,o._events={authorized:[],unauthorized:[]},o._uploaders=r.uploaders,o._ongoingUploads={authorized:!1,unauthorized:!1},o._uploadWaiting={authorized:!1,unauthorized:!1},o._backoffTimeSettings=Object.assign(Object.assign({},eE),r.backoffTimeOverrides),o.upload=o.upload.bind((0,ef.Z)(o)),o._essLastSent=null,"function"!=typeof window.addEventListener||r.disableBeforeUnloadListener||window.addEventListener("beforeunload",o.onBeforeDisconnect.bind((0,ef.Z)(o))),o.initializeContexts(r.context);var n,o,a,c=(n={},(0,el.Z)(n,S.UPLOAD_SUCCEEDED,S.UPLOAD_SUCCEEDED),(0,el.Z)(n,S.UPLOAD_FAILED,S.UPLOAD_FAILED),(0,el.Z)(n,S.UPLOAD_REQUEST_FAILED,S.UPLOAD_REQUEST_FAILED),n);return o.proxyEmitAll(o._uploaders.authorized,c),o.proxyEmitAll(o._uploaders.unauthorized,c),o}return(0,C.Z)(EventSender,[{key:"onBeforeDisconnect",value:function(){this.uploadFlush()}},{key:"uploadFlush",value:function(){return Promise.all([this._uploaders.authorized.lastUpload(this._events.authorized.splice(0)),this._uploaders.unauthorized.lastUpload(this._events.unauthorized.splice(0))]).then(function(r){var n=(0,eu.Z)(r,2),i=n[0],o=n[1];return i&&o}).catch(function(){return!1})}},{key:"initializeContexts",value:function(r){if(null==r?void 0:r.length){var n,i=this._instanceContexts,o=function(r,n){var i="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!i){if(Array.isArray(r)||(i=function(r,n){if(r){if("string"==typeof r)return _arrayLikeToArray(r,n);var i=Object.prototype.toString.call(r).slice(8,-1);if("Object"===i&&r.constructor&&(i=r.constructor.name),"Map"===i||"Set"===i)return Array.from(r);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(r,n)}}(r))){i&&(r=i);var o=0,F=function(){};return{s:F,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(r){throw r},f:F}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){i=i.call(r)},n:function(){var r=i.next();return c=r.done,r},e:function(r){u=!0,a=r},f:function(){try{c||null==i.return||i.return()}finally{if(u)throw a}}}}(r);try{for(o.s();!(n=o.n()).done;){var a=(0,n.value)();(null==a?void 0:a.name)&&(i[a.name]=a.data)}}catch(r){o.e(r)}finally{o.f()}}}},{key:"initFlush",value:function(r){var n=this,i=this._uploaders[r].shouldBackoff(),o=this._backoffTimeSettings,a=o.ceiling,c=o.maxDuration,u=o.baseTime;return ev.init(function(){return n.upload(r)},{curve:"exponential",backoffInitial:i,retryPredicate:function(){return n._transport.isOnline()},ceiling:a,baseTime:i?a:u,maxDuration:c})}},{key:"waitForConnection",value:function(){var r=this;return new Promise(function(n){r._transport.once(N.TransportEvent.CONNECTION_ONLINE,function(){return n()})})}},{key:"upload",value:function(r){var n=this;return this._uploaders[r].upload(this._events[r].splice(0)).then(function(i){if(i.nack.length)throw n._events[r]=i.nack.concat(n._events[r]),Error("Backoff requested");return i})}},{key:"sendToGabito",value:function(r){var n=this,i=r?"authorized":"unauthorized";this._transport.isOnline()||this._ongoingUploads[i]||(this._ongoingUploads[i]=this.waitForConnection());var o=this._ongoingUploads[i];if(o)return this._uploadWaiting[i]||(this._uploadWaiting[i]=!0,this._ongoingUploads[i]=o.then(function(){return n._ongoingUploads[i]=!1,n._uploadWaiting[i]=!1,n.sendToGabito(r)})),this._ongoingUploads[i];if(!this._events[i].length)return Promise.resolve({nack:this._events[i],backoff:this._uploaders[i].shouldBackoff()});if(!this._essLastSent||Date.now()-this._essLastSent.getTime()>3e5){var a=[this.makeEvent(this._statsSender.createESSEvent(this._events,this._sequenceIdGenerator.getAllSequenceNumberCounters(),this._sequenceIdGenerator.getSequenceId()))];this._uploaders.unauthorized.upload(a).finally(function(){n._essLastSent=new Date})}var c=this.initFlush(i).then(function(r){return n._ongoingUploads[i]=!1,r}).catch(function(){return(n._ongoingUploads[i]=!1,n._transport.isOnline())?(EventSender.consoleLogger.warn("The events in the queue could not be uploaded. Throwing away ".concat(n._events[i].length," ").concat(i," events.")),n._events[i]=[],{nack:n._events[i],backoff:n._uploaders[i].shouldBackoff()}):n.sendToGabito(r)});return this._ongoingUploads[i]=c,c}},{key:"storeEvent",value:function(r,n){var i=this.makeEvent(n);this._events[r?"authorized":"unauthorized"].push(i)}},{key:"makeEvent",value:function(r){var n=this._sequenceIdGenerator;return{sequence_id:n.getSequenceId(),sequence_number:n.nextSequenceNumber(r.name),event_name:r.name,fragments:Object.assign(Object.assign({context_sdk:{version_name:this._sdkVersion,type:"javascript"},context_time:{timestamp:Date.now()}},this._instanceContexts),{message:r.data})}}},{key:"validateEventData",value:function(r,n,i){return r.name?function(r){for(var n=r.length,i=n;i--;){var o=r.charCodeAt(i);o>127&&o<=2047?n++:o>2047&&o<=65535&&(n+=2),o>=56320&&o<=57343&&i--}return n}(JSON.stringify(r.data))>5e3?k.PAYLOAD_SIZE_LIMIT_EXCEEDED:n&&i&&!i()?k.UNKNOWN_OWNER:null:k.INVALID_NAME}},{key:"checkIsEventAuthorized",value:function(r){return!r.endsWith("NonAuth")}},{key:"flush",value:function(){var r=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return this.sendToGabito(r).then(function(){}).catch(function(){})}},{key:"flushAll",value:function(){return Promise.all([this.sendToGabito(!0),this.sendToGabito(!1)]).then(function(){}).catch(function(){})}},{key:"finalFlush",value:function(){return this.uploadFlush()}},{key:"log",value:function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.send(r,n)}},{key:"send",value:function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.flush,o=this.checkIsEventAuthorized(r.name),a=this.validateEventData(r,o,this._ownerProvider);if(a===k.UNKNOWN_OWNER&&(EventSender.consoleLogger.warn("Trying to send an authenticated event without a current owner: ".concat(r.name)),a=null),a){var c=(0,em.t)({event_name:r.name,reject_reason:a});return this.storeEvent(!1,c),Promise.reject(TypeError("The event is invalid and has been rejected for reason: ".concat(a)))}return(this.storeEvent(o,r),void 0===i||i)?this.flush(o):Promise.resolve()}},{key:"hasContext",value:function(){for(var r=this,n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return i.every(function(n){return!!r._instanceContexts[n]})}}]),EventSender}(eo.vp);function createEventSender(r){var n,i={suppressPersist:r.suppressPersist,transport:r.transport};return new ek(Object.assign(Object.assign({},r),{uploaders:{authorized:new ec(i),unauthorized:(n=Object.assign(Object.assign({},i),{authorize:!1}),new ec(n))}}))}ek.consoleLogger=forTag("EventSender")},1367:function(r,n,i){"use strict";var o=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(n,"__esModule",{value:!0}),n.silly=n.verbose=n.debug=n.info=n.warn=n.error=n.log=n.logger=n.default=void 0;var a=i(4119);Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o(a).default}}),Object.defineProperty(n,"logger",{enumerable:!0,get:function(){return a.logger}}),Object.defineProperty(n,"log",{enumerable:!0,get:function(){return a.log}}),Object.defineProperty(n,"error",{enumerable:!0,get:function(){return a.error}}),Object.defineProperty(n,"warn",{enumerable:!0,get:function(){return a.warn}}),Object.defineProperty(n,"info",{enumerable:!0,get:function(){return a.info}}),Object.defineProperty(n,"debug",{enumerable:!0,get:function(){return a.debug}}),Object.defineProperty(n,"verbose",{enumerable:!0,get:function(){return a.verbose}}),Object.defineProperty(n,"silly",{enumerable:!0,get:function(){return a.silly}})},4119:function(r,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.silly=n.verbose=n.debug=n.info=n.warn=n.error=n.log=n.logger=void 0,n.logger={log:function(){var r;return(r=console).log.apply(r,arguments)},error:function(){var r;return(r=console).error.apply(r,arguments)},warn:function(){var r;return(r=console).warn.apply(r,arguments)},info:function(){var r;return(r=console).info.apply(r,arguments)},debug:function(){var r;return(r=console).debug.apply(r,arguments)},verbose:function(){for(var r,n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return(r=console).log.apply(r,["verbose:"].concat(i))},silly:function(){for(var r,n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return(r=console).log.apply(r,["silly:"].concat(i))}},n.default=n.logger,n.log=n.logger.log.bind(n.logger),n.error=n.logger.error.bind(n.logger),n.warn=n.logger.warn.bind(n.logger),n.info=n.logger.info.bind(n.logger),n.debug=n.logger.debug.bind(n.logger),n.verbose=n.logger.verbose.bind(n.logger),n.silly=n.logger.silly.bind(n.logger)},635:function(r,n,i){"use strict";var o=i(8104),a=i(4456),c=i(8907),u=i(7267),l=this&&this.__awaiter||function(r,n,i,o){return new(i||(i=Promise))(function(a,c){function fulfilled(r){try{step(o.next(r))}catch(r){c(r)}}function rejected(r){try{step(o.throw(r))}catch(r){c(r)}}function step(r){var n;r.done?a(r.value):((n=r.value)instanceof i?n:new i(function(r){r(n)})).then(fulfilled,rejected)}step((o=o.apply(r,n||[])).next())})},p=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(n,"__esModule",{value:!0}),n.sendMetric=n.reportMetrics=n.createSemanticMetrics=n.asNanoseconds=n.MetricTypes=void 0;var S=p(i(1367)),k=i(2112);n.MetricTypes={COUNTER:"counter",GAUGE:"gauge",TIMER:"timer"},n.asNanoseconds=function(r){return r};var reportMetrics=function(r,n){return l(void 0,void 0,void 0,u.mark(function _callee(){var i;return u.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!Array.isArray(n.reporter)){o.next=6;break}return i=n.reporter.map(function(n){return n.send(r)}),o.next=4,Promise.all(i);case 4:o.next=8;break;case 6:return o.next=8,n.reporter.send(r);case 8:case"end":return o.stop()}},_callee)}))};n.reportMetrics=reportMetrics;var createSemanticMetrics=function(r){(void 0!==r.dev?r.dev:o.env&&!1)&&(r.reporter=new k.NoopReporter);var n={queue:[],timeout:void 0,flush:function(){return l(this,void 0,void 0,u.mark(function _callee2(){return u.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,reportMetrics(this.queue,r);case 2:this.queue=[],this.timeout=void 0;case 4:case"end":return n.stop()}},_callee2,this)}))}},i=!1;return void 0===r.batching&&(r.batching={delay:4e3}),r.batching&&"function"==typeof window.addEventListener&&window.addEventListener("beforeunload",function(){i=!0,n.flush()}),{sendMetric:function(o){return l(void 0,void 0,void 0,u.mark(function _callee3(){var a,c,l;return u.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(l=Object.assign({},o),o.tags&&(l.tags=Object.assign({},o.tags)),l.key=l.key||r.key,l.key){u.next=5;break}throw Error('metric.key is required. Got: "'.concat(l.key,'". Set it in createSemanticMetrics(...) or pass it to sendMetric(...).'));case 5:if(l.tags=Object.assign({app:null!==(a=r.app)&&void 0!==a?a:l.key,application:null!==(c=r.app)&&void 0!==c?c:l.key},l.tags),r.component_id?l.component_id=l.component_id||r.component_id:l.component_id=r.key,!(r.batching&&!i)){u.next=12;break}n.queue.push(l),n.timeout||(n.timeout=setTimeout(function(){return n.flush()},r.batching.delay)),u.next=14;break;case 12:return u.next=14,reportMetrics([l],r);case 14:return u.abrupt("return");case 15:case"end":return u.stop()}},_callee3)}))},config:r,isWindowUnloading:i,flush:function(){return r.batching?n.flush():(S.default.warn("Manual flushing only supported in batch mode. Set config.batching: true"),Promise.resolve())}}};n.createSemanticMetrics=createSemanticMetrics;var O=function(){function SemanticMetricsSingleton(){a(this,SemanticMetricsSingleton)}return c(SemanticMetricsSingleton,null,[{key:"init",value:function(r){SemanticMetricsSingleton.config&&S.default.error("SemanticMetrics has already been initialized. This may lead to dangerous side effects such as your metrics disappearing from Grafana due to the `key` value being overwritten by something else"),S.default.warn("The singleton usage of SemanticMetrics will be deprecated. Please use createSemanticMetrics()"),SemanticMetricsSingleton.config=r;var n=createSemanticMetrics(r),i=n.sendMetric,o=n.isWindowUnloading;SemanticMetricsSingleton.sendMetric=i,SemanticMetricsSingleton.isWindowUnloading=o}}]),SemanticMetricsSingleton}();n.default=O,n.sendMetric=function(r){return l(void 0,void 0,void 0,u.mark(function _callee4(){return u.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(O.config){n.next=2;break}throw Error("SemanticMetrics has not been initialized. Call SemanticMetrics.init()");case 2:return n.abrupt("return",O.sendMetric(r));case 3:case"end":return n.stop()}},_callee4)}))}},6370:function(r,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.WEBAPI_URL=n.INTERNAL_WEBGATE_URL=void 0,n.INTERNAL_WEBGATE_URL="https://wgint.spotify.net",n.WEBAPI_URL="https://api.spotify.com"},3057:function(r,n,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(r,n,i,o){void 0===o&&(o=i),Object.defineProperty(r,o,{enumerable:!0,get:function(){return n[i]}})}:function(r,n,i,o){void 0===o&&(o=i),r[o]=n[i]}),a=this&&this.__exportStar||function(r,n){for(var i in r)"default"===i||Object.prototype.hasOwnProperty.call(n,i)||o(n,r,i)},c=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,a(i(9394),n),a(i(6448),n),a(i(329),n);var u=i(635);Object.defineProperty(n,"default",{enumerable:!0,get:function(){return c(u).default}})},9394:function(r,n,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(r,n,i,o){void 0===o&&(o=i),Object.defineProperty(r,o,{enumerable:!0,get:function(){return n[i]}})}:function(r,n,i,o){void 0===o&&(o=i),r[o]=n[i]}),a=this&&this.__exportStar||function(r,n){for(var i in r)"default"===i||Object.prototype.hasOwnProperty.call(n,i)||o(n,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),n.Time=n.Timer=void 0,a(i(635),n),a(i(6358),n),a(i(6622),n),a(i(4326),n);var c=i(5410);Object.defineProperty(n,"Timer",{enumerable:!0,get:function(){return c.Timer}});var u=i(9858);Object.defineProperty(n,"Time",{enumerable:!0,get:function(){return u.Time}})},329:function(r,n,i){"use strict";var o=i(5694);Object.defineProperty(n,"__esModule",{value:!0}),n.BrowserMetrics=void 0;var a=i(635),c=i(9858);function getNavigationTiming(){return o(window.performance.getEntriesByType("navigation"),1)[0]}function getPaintMetric(r){return new Promise(function(n,i){return window.performance&&"function"==typeof performance.getEntriesByType?window.addEventListener("load",function(){var o=performance.getEntriesByType("paint"),a=o.find(function(n){return n.name===r});return void 0!==o&&a?n(a.startTime):i("Time to paint api is not supported on this browser")}):i("window.performance api is not supported in this browser")})}function getWebVitalsMetric(r,n){var i,o=r.name,a=r.label,u=r.value;return i="cls"===o.toLowerCase()?{metric_type:"gauge",value:u}:{metric_type:"timer",value:c.Time.fromMillis(Math.round(u)).asNanos()},Object.assign(Object.assign({what:"web_vitals_".concat(o.toLowerCase())},i),{tags:Object.assign({name:o,label:a},n)})}n.BrowserMetrics={getPageLoadTime:function(){return new Promise(function(r,n){if(!window.performance||"function"!=typeof performance.getEntriesByType)return n("window.performance api is not supported in this browser");if(void 0===getNavigationTiming())return n("navigationTiming api is not supported in this browser");var i=getNavigationTiming().loadEventEnd;return i>0?r(i):window.addEventListener("load",function(){setTimeout(function(){return r(getNavigationTiming().loadEventEnd)},0)})})},getResourceTiming:function(){return window.performance.getEntriesByType("resource")},getTimeToFirstPaint:function(){return getPaintMetric("first-paint")},getTimeToFirstContentfulPaint:function(){return getPaintMetric("first-contentful-paint")},sendWebVitalsMetric:function(r,n){return a.sendMetric(getWebVitalsMetric(r,n))},getWebVitalsMetric:getWebVitalsMetric}},4326:function(r,n,i){"use strict";var o=i(7267),a=i(4456),c=i(8907),u=this&&this.__awaiter||function(r,n,i,o){return new(i||(i=Promise))(function(a,c){function fulfilled(r){try{step(o.next(r))}catch(r){c(r)}}function rejected(r){try{step(o.throw(r))}catch(r){c(r)}}function step(r){var n;r.done?a(r.value):((n=r.value)instanceof i?n:new i(function(r){r(n)})).then(fulfilled,rejected)}step((o=o.apply(r,n||[])).next())})},l=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(n,"__esModule",{value:!0}),n.ConsoleReporter=void 0;var p=l(i(1367)),S=function(){function ConsoleReporter(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";a(this,ConsoleReporter),this.spacingLevel=r,this.logLevel=n}return c(ConsoleReporter,[{key:"send",value:function(r){return u(this,void 0,void 0,o.mark(function _callee(){return o.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:p.default.log(this.logLevel,"[semantic-metrics] ".concat(JSON.stringify(r,null,this.spacingLevel)));case 1:case"end":return n.stop()}},_callee,this)}))}}]),ConsoleReporter}();n.ConsoleReporter=S},6622:function(r,n,i){"use strict";var o=i(7535),a=i(7267),c=i(4456),u=i(8907);function _arrayLikeToArray(r,n){(null==n||n>r.length)&&(n=r.length);for(var i=0,o=Array(n);i<n;i++)o[i]=r[i];return o}var l=this&&this.__awaiter||function(r,n,i,o){return new(i||(i=Promise))(function(a,c){function fulfilled(r){try{step(o.next(r))}catch(r){c(r)}}function rejected(r){try{step(o.throw(r))}catch(r){c(r)}}function step(r){var n;r.done?a(r.value):((n=r.value)instanceof i?n:new i(function(r){r(n)})).then(fulfilled,rejected)}step((o=o.apply(r,n||[])).next())})},p=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(n,"__esModule",{value:!0}),n.EventSenderReporter=void 0;var S=i(3439),k=i(7524),O=i(9393),w=p(i(1367)),C=i(382),I=i(6370);function getEventCreator(r){return function(n){return r.isAuthenticated()?k.createSemanticMetricClient(n):O.createSemanticMetricClientNonAuth(n)}}var R=function(){function EventSenderReporter(r,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"browser",o=arguments.length>3?arguments[3]:void 0;c(this,EventSenderReporter),this.eventSender=r,this.createEvent=n,this.environment=i,this.transport=o}return u(EventSenderReporter,[{key:"send",value:function(r){return l(this,void 0,void 0,a.mark(function _callee(){var n,i,o,c,u;return a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n=function(r,n){var i="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!i){if(Array.isArray(r)||(i=function(r,n){if(r){if("string"==typeof r)return _arrayLikeToArray(r,n);var i=Object.prototype.toString.call(r).slice(8,-1);if("Object"===i&&r.constructor&&(i=r.constructor.name),"Map"===i||"Set"===i)return Array.from(r);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(r,n)}}(r))){i&&(r=i);var o=0,F=function(){};return{s:F,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(r){throw r},f:F}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){i=i.call(r)},n:function(){var r=i.next();return c=r.done,r},e:function(r){u=!0,a=r},f:function(){try{c||null==i.return||i.return()}finally{if(u)throw a}}}}(r);try{for(n.s();!(i=n.n()).done;)o=i.value,(c=Object.assign({},o)).tags=Object.assign({},c.tags),c.tags.environment&&w.default.error("`tags.environment` must not be set. It is a reserved tag and will be overwritten."),c.tags.environment=this.environment,u=this.createEvent(Object.assign({},c)),this.eventSender.send(u,{flush:!1})}catch(r){n.e(r)}finally{n.f()}return a.abrupt("return",this.eventSender.flush(this.transport.isAuthenticated()));case 3:case"end":return a.stop()}},_callee,this)}))}}],[{key:"create",value:function(r){var n,i=this,c="getToken"in r?r.getToken:null,u="ownerProvider"in r?r.ownerProvider:null,p=r.context?o(r.context):void 0,k=r.environment,O=C.createBaseTransport({providers:{endpoints:(n=C.createXResolveProvider(),function(o){return l(i,void 0,void 0,a.mark(function _callee2(){var i;return a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n(o);case 2:return i=a.sent,a.abrupt("return",Object.assign(Object.assign({},i),r.internal&&{webgate:I.INTERNAL_WEBGATE_URL}));case 4:case"end":return a.stop()}},_callee2)}))}),token:function(){return new Promise(function(r){if(!c){r("");return}c(function(n,i){if(void 0!==i){r([n,i]);return}r(n)})})}}});c&&(O.on(C.TransportEvent.CONNECTED,function(){O.authenticate().catch(function(r){var n,i;w.default.debug("authentication fail.",null!==(i=null!==(n=null==r?void 0:r.message)&&void 0!==n?n:null==r?void 0:r.code)&&void 0!==i?i:"")})}),O.on(C.TransportEvent.AUTHENTICATED,function(){w.default.debug("created authenticated browser transport")}),O.on(C.TransportEvent.TOKEN_PROVIDER_ERROR,function(){w.default.debug("the token provided isn't working.")})),O.connect();var R=S.createEventSender(Object.assign({transport:O,context:p},u&&{ownerProvider:u})),x=getEventCreator(O);return new EventSenderReporter(R,x,k,O)}},{key:"createWithCustomTransport",value:function(r){var n="ownerProvider"in r?r.ownerProvider:null,i=r.context?o(r.context):void 0,a=S.createEventSender(Object.assign({transport:r.transport,context:i},n&&{ownerProvider:n})),c=getEventCreator(r.transport);return new EventSenderReporter(a,c,r.environment,r.transport)}}]),EventSenderReporter}();n.EventSenderReporter=R},2112:function(r,n,i){"use strict";var o=i(7267),a=i(4456),c=i(8907),u=this&&this.__awaiter||function(r,n,i,o){return new(i||(i=Promise))(function(a,c){function fulfilled(r){try{step(o.next(r))}catch(r){c(r)}}function rejected(r){try{step(o.throw(r))}catch(r){c(r)}}function step(r){var n;r.done?a(r.value):((n=r.value)instanceof i?n:new i(function(r){r(n)})).then(fulfilled,rejected)}step((o=o.apply(r,n||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.NoopReporter=void 0;var l=function(){function NoopReporter(){a(this,NoopReporter)}return c(NoopReporter,[{key:"send",value:function(r){return u(this,void 0,void 0,o.mark(function _callee(){return o.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",void 0);case 1:case"end":return r.stop()}},_callee)}))}}]),NoopReporter}();n.NoopReporter=l},6358:function(r,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0})},9858:function(r,n,i){"use strict";var o=i(4456),a=i(8907);Object.defineProperty(n,"__esModule",{value:!0}),n.Time=void 0;var c=function(){function Time(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;o(this,Time),this.nanos=r}return a(Time,[{key:"asSeconds",value:function(){return this.nanos/1e9}},{key:"asMillis",value:function(){return this.nanos/1e6}},{key:"asMicros",value:function(){return this.nanos/1e3}},{key:"asNanos",value:function(){return Math.round(this.nanos)}}],[{key:"fromNanos",value:function(r){return new Time(r)}},{key:"fromMicros",value:function(r){return new Time(1e3*r)}},{key:"fromMillis",value:function(r){return new Time(1e6*r)}},{key:"fromSeconds",value:function(r){return new Time(1e9*r)}},{key:"from",value:function(r){return new Time(r.asNanos())}}]),Time}();n.Time=c,c.ZERO=new c(0)},5410:function(r,n,i){"use strict";var o=i(8104),a=i(4456),c=i(8907),u=i(5694);Object.defineProperty(n,"__esModule",{value:!0}),n.Timer=n.getHighResolutionTime=n.getLowResolutionTime=n.getTime=n.getBrowserTime=n.supportsHighResolutionTime=void 0;var l=i(9858),p=i(635);n.supportsHighResolutionTime=function(){return!1},n.getBrowserTime=function(){return"undefined"!=typeof performance?performance.now():Date.now()},n.getTime=function(){return n.supportsHighResolutionTime()?o.hrtime():n.getBrowserTime()},n.getLowResolutionTime=function(r){var i=n.getTime()-r,o=l.Time.fromMillis(i);return{nanoseconds:p.asNanoseconds(o.asNanos()),milliseconds:o.asMillis(),seconds:o.asSeconds()}},n.getHighResolutionTime=function(r){var n=u(o.hrtime(r),2),i=1e9*n[0]+n[1],a=i/1e6,c=i/1e9;return{nanoseconds:p.asNanoseconds(i),milliseconds:a,seconds:c}};var S=function(){function Timer(r){a(this,Timer),this.startTime=r}return c(Timer,[{key:"end",value:function(){return n.supportsHighResolutionTime()?n.getHighResolutionTime(this.startTime):n.getLowResolutionTime(this.startTime)}}],[{key:"start",value:function(){return new Timer(n.getTime())}}]),Timer}();n.Timer=S},6448:function(r,n,i){"use strict";var o=i(7535);Object.defineProperty(n,"__esModule",{value:!0}),n.createUniversalReporter=void 0;var a=i(6622),c=i(5688);n.createUniversalReporter=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.context?[c.createUserAgentContext()].concat(o(r.context)):[c.createUserAgentContext()];return a.EventSenderReporter.create(Object.assign(Object.assign({environment:"browser"},r),{context:n}))}},7524:function(r,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.createSemanticMetricClient=void 0,n.createSemanticMetricClient=function(r){return{name:"SemanticMetricClient",environments:["browser","device"],data:r}}},9393:function(r,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.createSemanticMetricClientNonAuth=void 0,n.createSemanticMetricClientNonAuth=function(r){return{name:"SemanticMetricClientNonAuth",environments:["browsernonauth","devicenonauth"],data:r}}},7800:function(r,n,i){"use strict";var o,a;i.d(n,{J:function(){return o}}),(a=o||(o={})).HTTP_REQUEST_ABORTED="HTTP_REQUEST_ABORTED",a.HTTP_REQUEST_FAILED="HTTP_REQUEST_FAILED",a.LOGGING_REQUEST_FAILED="LOGGING_REQUEST_FAILED",a.TRANSPORT_ENDPOINTS_PROVIDER_ERROR="TRANSPORT_ENDPOINTS_PROVIDER_ERROR",a.TRANSPORT_INVALID_STATE="TRANSPORT_INVALID_STATE",a.TRANSPORT_INVALID_TOKEN="TRANSPORT_INVALID_TOKEN",a.TRANSPORT_STALE_TOKEN="TRANSPORT_STALE_TOKEN ",a.TRANSPORT_TOKEN_PROVIDER_ERROR="TRANSPORT_TOKEN_PROVIDER_ERROR",a.TRANSPORT_LIFECYCLE_DISABLED="TRANSPORT_LIFECYCLE_DISABLED",a.TRANSPORT_UNSUPPORTED_OPTION="TRANSPORT_UNSUPPORTED_OPTION",a.XRESOLVE_INCOMPLETE_RESPONSE="XRESOLVE_INCOMPLETE_RESPONSE",a.XRESOLVE_INVALID_RESPONSE="XRESOLVE_INVALID_RESPONSE",a.XRESOLVE_REQUEST_FAILED_WITH_STATUS="XRESOLVE_REQUEST_FAILED_WITH_STATUS"},4827:function(r,n,i){"use strict";var o,a;i.d(n,{j:function(){return o}}),(a=o||(o={})).CONNECTION_ONLINE="online",a.CONNECTION_OFFLINE="offline",a.PRODUCT_STATE_CHANGED="product_state_changed",a.ACCESS_TOKEN="access_token",a.AUTHENTICATED="authenticated",a.AUTHENTICATION_FAILED="authentication_failed",a.BEFORE_OFFLINE_DISCONNECT="before_offline_disconnect",a.BEFORE_ONLINE_DISCONNECT="before_online_disconnect",a.CONNECTED="connected",a.CONNECTION_FAILED="connection_failed",a.CONNECTION_ID="connection_id",a.DISCONNECTED="disconnected",a.ENDPOINTS_RESOLVED="endpoints_resolved",a.LOGGED_OUT="logged_out",a.SHORT_SESSION_DISCONNECTED="short_session_disconnected",a.TOKEN_PROVIDER_ERROR="token_provider_error",a.RECONNECTED="reconnected",a.RECONNECTING="reconnecting",a.WINDOW_BEFORE_UNLOAD="beforeunload"},5055:function(r,n,i){"use strict";var o,a;i.d(n,{n:function(){return o}}),(a=o||(o={})).DELETE="DELETE",a.GET="GET",a.OPTIONS="OPTIONS",a.PATCH="PATCH",a.POST="POST",a.PUT="PUT",a.TRACE="TRACE"},1721:function(r,n,i){"use strict";var o,a;i.d(n,{G:function(){return o}}),(a=o||(o={}))[a.UNKNOWN=0]="UNKNOWN",a[a.OK=200]="OK",a[a.CREATED=201]="CREATED",a[a.ACCEPTED=202]="ACCEPTED",a[a.NO_CONTENT=204]="NO_CONTENT",a[a.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",a[a.BAD_REQUEST=400]="BAD_REQUEST",a[a.UNAUTHORIZED=401]="UNAUTHORIZED",a[a.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",a[a.FORBIDDEN=403]="FORBIDDEN",a[a.NOT_FOUND=404]="NOT_FOUND",a[a.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",a[a.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",a[a.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",a[a.TIMED_OUT=408]="TIMED_OUT",a[a.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",a[a.CONFLICT=409]="CONFLICT",a[a.GONE=410]="GONE",a[a.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",a[a.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",a[a.REQUEST_ENTITY_TOO_LARGE=413]="REQUEST_ENTITY_TOO_LARGE",a[a.REQUEST_URI_TOO_LONG=414]="REQUEST_URI_TOO_LONG",a[a.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",a[a.REQUESTED_RANGE_NOT_SATISFIABLE=416]="REQUESTED_RANGE_NOT_SATISFIABLE",a[a.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",a[a.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",a[a.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",a[a.BAD_GATEWAY=502]="BAD_GATEWAY",a[a.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",a[a.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",a[a.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED"},382:function(r,n,i){"use strict";i.r(n),i.d(n,{ConnectionObserver:function(){return ec},DEALER_PLUGIN_NAME:function(){return eb},DealerErrors:function(){return w},DisconnectionReason:function(){return O},Method:function(){return $.n},PluginEvent:function(){return k},REQUEST_TRANSFORMER_PLUGIN_NAME:function(){return eQ},TransportErrors:function(){return W.J},TransportEvent:function(){return G.j},createAbortControllerLike:function(){return ed},createBaseTransport:function(){return createBaseTransport},createSpotifyComEndpointsProvider:function(){return createEndpointsProvider},createSpotifyComProviders:function(){return createProviders},createSpotifyComTokenProvider:function(){return createTokenProvider},createTransport:function(){return createTransport},createXResolveProvider:function(){return eY.Q},dealerCreator:function(){return dealerCreator},requestTransformerCreator:function(){return requestTransformerCreator}});var o,a,c,u,l,p,S,k,O,w,C,I,R,x,j={};i.r(j),i.d(j,{isSupported:function(){return isSupported},request:function(){return request}});var N={};i.r(N),i.d(N,{request:function(){return xhr_request}});var W=i(7800),G=i(4827),$=i(5055);(o=k||(k={})).TRANSPORT_AUTHENTICATE="transport_authenticate",o.TRANSPORT_AUTHENTICATE_FAILED="transport_authenticate_failed",o.TRANSPORT_CONNECT="transport_connect",o.TRANSPORT_DISCONNECT="transport_disconnect",o.TRANSPORT_ENDPOINTS_RESOLVED="transport_endpoints_resolved",o.TRANSPORT_BEFORE_PROCESS_REQUEST="transport_before_process_request",o.TRANSPORT_BEFORE_SEND_REQUEST="transport_before_send_request",o.TRANSPORT_BEFORE_RETURN_RESPONSE="transport_before_return_response",o.TRANSPORT_REQUEST="transport_request",o.PLUGIN_CONNECTION_INFO="plugin_connection_info",o.PLUGIN_DISCONNECTED="plugin_disconnected",o.PLUGIN_MESSAGE="plugin_message",o.PLUGIN_REQUEST="plugin_request",o.PLUGIN_ERROR="plugin_error",(a=O||(O={})).RECONNECTION_FAILED="reconnection_failed",a.EXPLICIT="explicit",a.LOG_OUT="log_out",a.WINDOW_BEFORE_UNLOAD="window_before_unload";var J=i(333),et=i(2188),er=i(6506),en=i(5041),ei=i(2945),eo=i(8419),es=i(6385);function _createSuper(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}();return function(){var i,o=(0,eo.Z)(r);if(n){var a=(0,eo.Z)(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return(0,ei.Z)(this,i)}}var ec=function(r){(0,en.Z)(ConnectionObserver,r);var n=_createSuper(ConnectionObserver);function ConnectionObserver(){return(0,er.Z)(this,ConnectionObserver),n.apply(this,arguments)}return(0,et.Z)(ConnectionObserver)}(es.vp),eu=function(r){(0,en.Z)(BrowserConnectionObserver,r);var n=_createSuper(BrowserConnectionObserver);function BrowserConnectionObserver(r){(0,er.Z)(this,BrowserConnectionObserver),i=n.call(this);var i,o=r&&r.notifyBeforeUnload;return i._navigator=window.navigator||null,"function"==typeof window.addEventListener&&(window.addEventListener("online",i.emitSync.bind((0,J.Z)(i),G.j.CONNECTION_ONLINE,null)),window.addEventListener("offline",i.emitSync.bind((0,J.Z)(i),G.j.CONNECTION_OFFLINE,null)),o&&window.addEventListener(G.j.WINDOW_BEFORE_UNLOAD,i.emitSync.bind((0,J.Z)(i),G.j.WINDOW_BEFORE_UNLOAD,null))),i}return(0,et.Z)(BrowserConnectionObserver,[{key:"isOnline",value:function(){var r=this._navigator;return!r||!("onLine"in r)||r.onLine}}],[{key:"create",value:function(r){return new BrowserConnectionObserver(r)}}]),BrowserConnectionObserver}(ec),el=function(r){(0,en.Z)(AbortSignalMicrofill,r);var n,i=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,i=(0,eo.Z)(AbortSignalMicrofill);if(n){var o=(0,eo.Z)(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return(0,ei.Z)(this,r)});function AbortSignalMicrofill(){var r;return(0,er.Z)(this,AbortSignalMicrofill),(r=i.call(this))._aborted=!1,r.onabort=null,r.on("abort",function(){var n;return null===(n=r.onabort)||void 0===n?void 0:n.call((0,J.Z)(r))}),r}return(0,et.Z)(AbortSignalMicrofill,[{key:"aborted",get:function(){return this._aborted},set:function(r){}},{key:"addEventListener",value:function(r,n){this.addListener(r,n)}},{key:"removeEventListener",value:function(r,n){this.removeListener(r,n)}},{key:"dispatchEvent",value:function(){}}],[{key:"abort",value:function(){var r=new AbortSignalMicrofill;return r._aborted=!0,r}},{key:"signalAbort",value:function(r){"_aborted"in r&&!r._aborted&&(r._aborted=!0,r.emit("abort",null))}}]),AbortSignalMicrofill}(es.vp),ef=function(){function AbortControllerMicrofill(){(0,er.Z)(this,AbortControllerMicrofill),this.signal=new el}return(0,et.Z)(AbortControllerMicrofill,[{key:"abort",value:function(){var r=this.signal;el.signalAbort(r)}}]),AbortControllerMicrofill}();function hasNativeAbortController(){return"function"==typeof window.AbortController}var ed=hasNativeAbortController()?function(){return new AbortController}:function(){return new ef},ep=i(2674);(c=w||(w={})).DEALER_CONNECTION_ERROR="DEALER_CONNECTION_ERROR",c.DEALER_AUTHENTICATION_FAILED="DEALER_AUTHENTICATION_FAILED",c.DEALER_ERROR="DEALER_ERROR",c.ENDPOINT_NOT_DEFINED="ENDPOINT_NOT_DEFINED",c.INVALID_ENDPOINT="INVALID_ENDPOINT";var eh=i(7403),ev=function(r){(0,en.Z)(DealerError,r);var n,i=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,i=(0,eo.Z)(DealerError);if(n){var o=(0,eo.Z)(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return(0,ei.Z)(this,r)});function DealerError(){var r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w.DEALER_ERROR,o=arguments.length>1?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,er.Z)(this,DealerError),(r=i.call(this,o)).name="DealerError",r.message=o,r.code=n,r.raw=a,r.wsCode=a.code||null,r.wsReason=a.reason||null,r}return(0,et.Z)(DealerError)}((0,eh.Z)(Error));(u=C||(C={})).AUTHENTICATED="authenticated",u.AUTHENTICATION_FAILED="authentication_failed",u.CONNECTED="connected",u.CONNECTION_ID="connection_id",u.ERROR="error",u.DISCONNECTED="disconnected",u.MESSAGE="message",u.REQUEST="request";var em=i(8310);function createPromiseResolver(){var r,n;return{promise:new Promise(function(i,o){r=i,n=o}),resolve:r,reject:n}}(l=I||(I={}))[l.CLOSE=4e3]="CLOSE",l[l.TIMEOUT=4001]="TIMEOUT";var ey=i(7112).Buffer,NOOP=function(){},eg=/hm:\/\/pusher\/(?:[^]+)?\/connections\/([^]+)/,e_=function(r){(0,en.Z)(Dealer,r);var n,i=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,i=(0,eo.Z)(Dealer);if(n){var o=(0,eo.Z)(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return(0,ei.Z)(this,r)});function Dealer(r){var n;return(0,er.Z)(this,Dealer),(n=i.call(this))._socket=null,n._lastPingDeferred=null,n._waitingForConnectionId=!0,n._connectionId=null,n._connectionURI=null,n._heartbeatToken=0,n._heartbeatTimeoutToken=0,n._connected=!1,n._endpoint=null,n._WebSocket=r.WebSocket||WebSocket,n._heartbeatTimeout=r.heartbeatTimeout||1e4,n}return(0,et.Z)(Dealer,[{key:"_startHeartbeat",value:function(r){var n=this,heartbeat=function(){n.ping().then(function(){return n._onHeartbeatSuccess()},function(){return n._onHeartbeatError()}),n._heartbeatTimeoutToken=setTimeout(function(){return n._onHeartbeatError()},n._heartbeatTimeout)};r?heartbeat():this._heartbeatToken=setTimeout(function(){return heartbeat()},3e4)}},{key:"_onHeartbeatError",value:function(){this._stopHeartbeat(),this._socket&&this._socket.close(I.TIMEOUT,"internal-timeout")}},{key:"_onHeartbeatSuccess",value:function(){this._stopHeartbeat(),this._startHeartbeat()}},{key:"_stopHeartbeat",value:function(){null!==this._heartbeatToken&&clearTimeout(this._heartbeatToken),null!==this._heartbeatTimeoutToken&&clearTimeout(this._heartbeatTimeoutToken)}},{key:"_prepareConnectionId",value:function(r){if(!r.uri)return!1;var n,i,o=null!==(n=r.uri.match(eg))&&void 0!==n?n:[],a=(0,em.Z)(o,2)[1];return!!a&&(i=r.headers&&r.headers["Spotify-Connection-Id"]?r.headers["Spotify-Connection-Id"]:decodeURIComponent(a),this._connectionId=i,this._connectionURI=r.uri,this.emit(C.CONNECTION_ID,{id:i,uri:r.uri}),!0)}},{key:"_reply",value:function(r,n){if(!r)throw TypeError("Invalid key.");var i=this._socket;i&&1===i.readyState&&i.send(JSON.stringify({type:"reply",key:r,payload:n}))}},{key:"_parseMessage",value:function(r){var n;try{n=JSON.parse(r)}catch(r){return}if("message"===n.type)this._waitingForConnectionId&&this._prepareConnectionId(n)?(this._waitingForConnectionId=!1,this._startHeartbeat(!0)):this.emit(C.MESSAGE,{message:n});else if("pong"===n.type&&this._lastPingDeferred)this._lastPingDeferred.resolve(!0),this._lastPingDeferred=null;else if("request"===n.type){var i=n.key;i&&this.emit(C.REQUEST,{request:n,reply:this._reply.bind(this,i)})}}},{key:"_handleOpen",value:function(r){r.resolve(!0),this._connected=!0,this.emit(C.AUTHENTICATED,null)}},{key:"_handleMessage",value:function(r){var n=this,i=r.data;if(window.Blob&&i instanceof window.Blob){var o=new FileReader;o.onloadend=function(){if(this.result){if(this.result instanceof ArrayBuffer){r="";for(var r,i=new Uint8Array(this.result),o=0;o<i.length;o++)r+=String.fromCharCode(i[o])}else r=this.result;n._parseMessage(r)}},o.readAsText(i)}else void 0!==ey&&"undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer?this._parseMessage(new ey(i).toString("ascii")):this._parseMessage(i)}},{key:"_handleClose",value:function(r){var n=this._connected;if(this._connected=!1,!n){var i=new ev(w.DEALER_AUTHENTICATION_FAILED,"Dealer connection error",r);this.emit(C.AUTHENTICATION_FAILED,{error:i});return}this.emitSync(C.DISCONNECTED,{wsCode:r.code,reason:r.reason})}},{key:"_handleError",value:function(r){var n=new ev(w.DEALER_CONNECTION_ERROR,"Cannot connect to dealer");r.reject(n),this._connected=!1,this.emit(C.ERROR,{error:n})}},{key:"connect",value:function(r){return this._endpoint=r,this._waitingForConnectionId=!0,this.emit(C.CONNECTED,null),Promise.resolve(!0)}},{key:"authenticate",value:function(r){var n=createPromiseResolver(),i="".concat(this._endpoint,"?access_token=").concat(r),o=this._socket=new this._WebSocket(i);return o.onopen=this._handleOpen.bind(this,n),o.onclose=this._handleClose.bind(this),o.onerror=this._handleError.bind(this,n),o.onmessage=this._handleMessage.bind(this),n.promise}},{key:"disconnect",value:function(){this._socket&&(this._stopHeartbeat(),this._waitingForConnectionId=!0,this._connected=!1,this._socket.close(I.CLOSE,"internal-close"),this._socket.onopen=NOOP,this._socket.onerror=NOOP,this._socket.onmessage=NOOP,this._socket.onclose=NOOP,this._socket=null,this.emitSync(C.DISCONNECTED,{wsCode:I.CLOSE,reason:"internal-close"}))}},{key:"ping",value:function(){return this._socket&&1===this._socket.readyState?(this._lastPingDeferred=createPromiseResolver(),this._socket.send('{"type":"ping"}'),this._lastPingDeferred.promise):Promise.reject(new ev(w.DEALER_CONNECTION_ERROR,"Dealer connection error"))}},{key:"getConnectionId",value:function(){var r=this;return this._waitingForConnectionId?new Promise(function(n){r.once(C.CONNECTION_ID,function(r){n(r.data.id)})}):Promise.resolve(this._connectionId)}},{key:"getConnectionInfo",value:function(){var r=this;return this._waitingForConnectionId?new Promise(function(n){r.once(C.CONNECTION_ID,function(r){n({id:r.data.id,uri:r.data.uri})})}):Promise.resolve({id:this._connectionId,uri:this._connectionURI})}},{key:"hasConnectionId",value:function(){return!this._waitingForConnectionId&&!!this._connectionId}}],[{key:"create",value:function(r){return new Dealer(r)}}]),Dealer}(es.vp),eb="dealer",eS=function(){function DealerPlugin(r){var n=this;(0,er.Z)(this,DealerPlugin),this.name=eb,this._dealer=new e_(r),this.api={hasConnectionInfo:function(){return n._dealer.hasConnectionId()},getConnectionInfo:function(){return n._dealer.getConnectionInfo().then(function(r){return Object.assign({plugin:n.name},r)})}},this._onDealerConnectionId=this._onDealerConnectionId.bind(this),this._onDealerDisconnected=this._onDealerDisconnected.bind(this),this._onDealerMessage=this._onDealerMessage.bind(this),this._onDealerRequest=this._onDealerRequest.bind(this),this._onTransportConnect=this._onTransportConnect.bind(this),this._onTransportAuthenticate=this._onTransportAuthenticate.bind(this),this._onTransportDisconnect=this._onTransportDisconnect.bind(this)}return(0,et.Z)(DealerPlugin,[{key:"_onDealerConnectionId",value:function(r){this._mediator&&this._mediator.emit(k.PLUGIN_CONNECTION_INFO,Object.assign({plugin:this.name},r.data))}},{key:"_onDealerDisconnected",value:function(r){if(this._mediator){var n=r.data;this._mediator.emit(k.PLUGIN_DISCONNECTED,{plugin:this.name,code:n.wsCode,reason:n.reason})}}},{key:"_onDealerMessage",value:function(r){this._mediator&&this._mediator.emit(k.PLUGIN_MESSAGE,Object.assign({plugin:this.name},r.data))}},{key:"_onDealerRequest",value:function(r){this._mediator&&this._mediator.emit(k.PLUGIN_REQUEST,Object.assign({plugin:this.name},r.data))}},{key:"_onTransportConnect",value:function(r){var n=r.data.endpoints,i=r.data.awaitPromise;if(!n.dealer){i(Promise.reject(new ev(w.ENDPOINT_NOT_DEFINED,'No "dealer" endpoint defined.')));return}if(!/^wss:/.test(n.dealer)){i(Promise.reject(new ev(w.INVALID_ENDPOINT,"Dealer endpoint needs to be wss://")));return}i(this._dealer.connect(n.dealer))}},{key:"_onTransportAuthenticate",value:function(r){var n=r.data;n.awaitPromise(this._dealer.authenticate(n.token))}},{key:"_onTransportDisconnect",value:function(){this._dealer.disconnect()}},{key:"_onDealerError",value:function(r){var n;null===(n=this._mediator)||void 0===n||n.emit(k.PLUGIN_ERROR,{plugin:this.name,error:r.data.error})}},{key:"attach",value:function(r,n){var i,o;this._mediator=n,n.addListeners((i={},(0,ep.Z)(i,k.TRANSPORT_CONNECT,this._onTransportConnect),(0,ep.Z)(i,k.TRANSPORT_AUTHENTICATE,this._onTransportAuthenticate),(0,ep.Z)(i,k.TRANSPORT_DISCONNECT,this._onTransportDisconnect),i)),this._dealer.addListeners((o={},(0,ep.Z)(o,C.DISCONNECTED,this._onDealerDisconnected),(0,ep.Z)(o,C.CONNECTION_ID,this._onDealerConnectionId),(0,ep.Z)(o,C.MESSAGE,this._onDealerMessage),(0,ep.Z)(o,C.REQUEST,this._onDealerRequest),(0,ep.Z)(o,C.ERROR,this._onDealerError),o))}},{key:"detach",value:function(r,n){var i,o;this._mediator=void 0,n.removeListeners((i={},(0,ep.Z)(i,k.TRANSPORT_CONNECT,this._onTransportConnect),(0,ep.Z)(i,k.TRANSPORT_AUTHENTICATE,this._onTransportAuthenticate),(0,ep.Z)(i,k.TRANSPORT_DISCONNECT,this._onTransportDisconnect),i)),this._dealer.removeListeners((o={},(0,ep.Z)(o,C.DISCONNECTED,this._onDealerDisconnected),(0,ep.Z)(o,C.CONNECTION_ID,this._onDealerConnectionId),(0,ep.Z)(o,C.MESSAGE,this._onDealerMessage),(0,ep.Z)(o,C.REQUEST,this._onDealerRequest),(0,ep.Z)(o,C.ERROR,this._onDealerError),o))}}]),DealerPlugin}();function dealerCreator(r,n){return new eS(n)}var eE=i(1174),ek={POST:!0,PUT:!0,DELETE:!0},eT=i(1721);function request_createSuper(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}();return function(){var i,o=(0,eo.Z)(r);if(n){var a=(0,eo.Z)(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return(0,ei.Z)(this,i)}}var eO=function(r){(0,en.Z)(RequestError,r);var n=request_createSuper(RequestError);function RequestError(r,i,o,a){var c;return(0,er.Z)(this,RequestError),(c=n.call(this,r)).name="RequestError",c.message=r,c.code=i,c.status=o||0,c.url=a,c}return(0,et.Z)(RequestError)}((0,eh.Z)(Error)),ew=function(r){(0,en.Z)(RequestAbortedError,r);var n=request_createSuper(RequestAbortedError);function RequestAbortedError(r){var i;return(0,er.Z)(this,RequestAbortedError),(i=n.call(this,"Request aborted by signal.",W.J.HTTP_REQUEST_ABORTED,0,r)).name="RequestAbortedError",i.message="Request aborted by signal.",i}return(0,et.Z)(RequestAbortedError)}(eO),eC=function(){function FetchHeaders(r){(0,er.Z)(this,FetchHeaders),this.get=r.get.bind(r),this.has=r.has.bind(r)}return(0,et.Z)(FetchHeaders,[{key:"get",value:function(r){return null}},{key:"has",value:function(r){return!1}}]),FetchHeaders}(),eI=function(){function HTTPResponse(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,er.Z)(this,HTTPResponse),this.url="",this.status=0,this.headers=null,this.body=null,this.offline=!1,this.timing=null,this.metadata=null,this.retries={count:0},this.url=r,this.status=n,this.ok=n>=200&&n<=299}return(0,et.Z)(HTTPResponse,[{key:"getStatusFamily",value:function(){return 0|this.status/100}}]),HTTPResponse}(),eR=eE.P.forTag("transport.http.fetch"),ex={json:!0,text:!0,arraybuffer:!0,blob:!0};function isSupported(){return"function"==typeof fetch}function request(r){if(!isSupported())return Promise.reject(TypeError("Fetch is not supported"));var n=r.options.signal;if(null==n?void 0:n.aborted)return Promise.reject(new ew(r.url));if(!r.url)return Promise.reject(TypeError("Request URL cannot be blank."));var i=r.method||"GET",o=r.url,a=null;if(i in ek&&r.payload?a=r.payload:r.payload&&(o+="?".concat(r.payload)),r.options.responseType&&!(r.options.responseType in ex))return Promise.reject(TypeError("Cannot set responseType: not supported in browser."));var c={mode:r.options.mode||"cors",credentials:r.options.credentials||"same-origin",redirect:r.options.redirect||"follow",signal:n,method:i};r.headers.count()&&(c.headers=r.headers.toJSON()),a&&(c.body=a);var u=Date.now();return fetch(o,c).then(function(n){i=r.options.ignoreResponseBody||n.status===eT.G.NO_CONTENT?null:"json"===r.options.responseType?n.json().catch(function(r){return eR.warn("Could not parse response as JSON:",r),null}):"arraybuffer"===r.options.responseType?n.arrayBuffer():"blob"===r.options.responseType?n.blob():n.text();var i,o=r.options.parseResponseHeaders||n.status>299?new eC(n.headers):null;return Promise.all([n.url,n.status,o,i])}).then(function(n){var i=(0,em.Z)(n,4),o=i[0],a=i[1],c=i[2],l=i[3],p=new eI(o,a);if(p.body=l,p.headers=c,r.options.timing){var S=Date.now()-u;p.timing={completed:S}}return p}).catch(function(n){if((null==n?void 0:n.name)==="AbortError")throw new ew(o);var i=new eI(o);if(r.options.timing){var a=Date.now()-u;i.timing={completed:a}}return i}).then(function(n){return r.options.connectionObserver&&(n.offline=!r.options.connectionObserver.isOnline()),n})}var eA=i(4298),eP={baseTime:200,ceiling:0,curve:"linear",jitter:!0},ej=function(){function Counter(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,er.Z)(this,Counter),this._curve=r.curve||eP.curve,this._baseTime=r.baseTime||eP.baseTime,this._ceiling=r.ceiling||eP.ceiling,this._jitter="jitter"in r?!!r.jitter:eP.jitter}return(0,et.Z)(Counter,[{key:"getTime",value:function(r){switch(this._curve){case"static":o=1;break;case"logarithmic":o=Math.log(r);break;case"exponential":o=Math.pow(Math.E,r);break;default:o=r+1}var n,i,o,a=Math.min(4294967296,Math.floor(o*this._baseTime));return this._ceiling&&(a=Math.min(a,this._ceiling)),this._jitter?(i=(n=a)/5,Math.floor(n-i/2+Math.random()*i)):a}}]),Counter}(),eN={backoffInitial:!1,baseTime:200,ceiling:0,curve:"linear",jitter:!0,maxDuration:1/0,maxRetries:1/0,maxTime:1/0,retryPredicate:function(){return!0}},eD=function(){function Backoff(r,n){(0,er.Z)(this,Backoff),this._resolver=createPromiseResolver(),this._ts=0,this._callCount=0,this._tickInterval=0,this._isRunning=!1,this._isDestroyed=!1;var i=Object.assign(Object.assign({},eN),n),o=i.backoffInitial,a=i.maxDuration,c=i.maxRetries,u=i.maxTime,l=i.retryPredicate,p=(0,eA.__rest)(i,["backoffInitial","maxDuration","maxRetries","maxTime","retryPredicate"]);this._fn=r,this._backoffInitial=o,this._maxDuration=a,this._maxRetries=c,this._maxTime=u,this._retryPredicate=l,this._backoffInitial=o,this._counter=new ej(p),this._backoffInitial&&(this._maxRetries+=1)}return(0,et.Z)(Backoff,[{key:"_destroy",value:function(){this._isRunning=!1,this._isDestroyed=!0}},{key:"_failure",value:function(r){var n=this;if(!this._isDestroyed){if(r&&"retryAfter"in r)this._retryAfter(r);else{var i=this._counter.getTime(this._callCount);this._shouldRetry(i,r)?(this._callCount++,this._tickInterval=setTimeout(function(){return n._tick()},i)):(this._resolver.reject(r),this._destroy())}}}},{key:"_retryAfter",value:function(r){var n=this;this._callCount++,this._tickInterval=setTimeout(function(){return n._tick()},r.retryAfter)}},{key:"_success",value:function(){var r;this._isDestroyed||((r=this._resolver).resolve.apply(r,arguments),this._destroy())}},{key:"_shouldRetry",value:function(r,n){var i=Date.now()-this._ts+r;return this._callCount<this._maxRetries&&r<this._maxTime&&i<this._maxDuration&&this._retryPredicate(n)}},{key:"_tick",value:function(){var r=this;this._fn().then(function(){return r._success.apply(r,arguments)}).catch(function(n){return r._failure(n)})}},{key:"getResolver",value:function(){return this._resolver.promise}},{key:"start",value:function(){var r=this;return this._isDestroyed?Promise.reject(Error("Backoff already consumed")):(this._isRunning||(this._ts=Date.now(),this._isRunning=!0,this._backoffInitial?(this._callCount=1,this._tickInterval=setTimeout(function(){return r._tick()},this._counter.getTime(0))):this._tick()),this._resolver.promise)}},{key:"stop",value:function(){clearTimeout(this._tickInterval),this._destroy()}},{key:"getRetryCount",value:function(){return this._callCount}}],[{key:"init",value:function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Backoff(r,n).start()}}]),Backoff}();(p=R||(R={}))[p.CONNECTION_ERROR=0]="CONNECTION_ERROR",p[p.INFORMATIONAL=1]="INFORMATIONAL",p[p.SUCCESS=2]="SUCCESS",p[p.REDIRECTION=3]="REDIRECTION",p[p.CLIENT_ERROR=4]="CLIENT_ERROR",p[p.SERVER_ERROR=5]="SERVER_ERROR";var eM=function(r){(0,en.Z)(TransportError,r);var n,i=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,i=(0,eo.Z)(TransportError);if(n){var o=(0,eo.Z)(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return(0,ei.Z)(this,r)});function TransportError(r,n){var o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,er.Z)(this,TransportError),(o=i.call(this,n)).name="TransportError",o.message=n,o.code=r,o.origin=a,o}return(0,et.Z)(TransportError)}((0,eh.Z)(Error)),eL=function(){function HTTPRequestHeaders(r){(0,er.Z)(this,HTTPRequestHeaders),this._headers={},this._count=0,this._setAll(r)}return(0,et.Z)(HTTPRequestHeaders,[{key:"_setAll",value:function(r){var n=0;for(var i in r)r.hasOwnProperty(i)&&r[i]&&(this._headers[i.toLowerCase()]=r[i],n++);this._count=n}},{key:"get",value:function(r){return this._headers[r.toLowerCase()]||null}},{key:"has",value:function(r){return!!this._headers[r.toLowerCase()]}},{key:"set",value:function(r,n){this._headers[r.toLowerCase()]=n,this._count++}},{key:"delete",value:function(r){var n=r.toLowerCase();this._headers[n]&&this._count--,delete this._headers[r.toLowerCase()]}},{key:"count",value:function(){return this._count}},{key:"toJSON",value:function(){return Object.assign({},this._headers)}}]),HTTPRequestHeaders}(),eB=function(){function HTTPRequest(r,n){(0,er.Z)(this,HTTPRequest),this.url=r,this.method=(null==n?void 0:n.method)||"GET",this.headers=new eL(null==n?void 0:n.headers),this.options=(null==n?void 0:n.options)||{},this.payload=null==n?void 0:n.payload,this.urlExpanded=(null==n?void 0:n.urlExpanded)||!1,this.retryOptions=(null==n?void 0:n.retryOptions)||{}}return(0,et.Z)(HTTPRequest,[{key:"clone",value:function(){var r=new HTTPRequest(this.url);return r.method=this.method,r.headers=new eL(this.headers.toJSON()),r.options=this.options,r.payload=this.payload,r.urlExpanded=this.urlExpanded,r.retryOptions=this.retryOptions,r}}],[{key:"create",value:function(r,n){return new HTTPRequest(r,n)}}]),HTTPRequest}();(S=x||(x={})).EVENT_ACCESS_TOKEN="access_token",S.EVENT_CONNECTION_ID="connection_id",S.EVENT_CONNECTION_OFFLINE="connection_offline",S.EVENT_CONNECTION_ONLINE="connection_online",S.EVENT_ENDPOINTS_RESOLVED="endpoints_resolved";var eF=function(r){(0,en.Z)(PublicTransport,r);var n,i=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,i=(0,eo.Z)(PublicTransport);if(n){var o=(0,eo.Z)(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return(0,ei.Z)(this,r)});function PublicTransport(r,n){(0,er.Z)(this,PublicTransport),(o=i.call(this)).EVENT_ACCESS_TOKEN=x.EVENT_ACCESS_TOKEN,o.EVENT_CONNECTION_ID=x.EVENT_CONNECTION_ID,o.EVENT_CONNECTION_OFFLINE=x.EVENT_CONNECTION_OFFLINE,o.EVENT_CONNECTION_ONLINE=x.EVENT_CONNECTION_ONLINE,o.EVENT_ENDPOINTS_RESOLVED=x.EVENT_ENDPOINTS_RESOLVED,o.StatusCode=eT.G,o.StatusFamily=R,o.getConnectionId=r.getConnectionId.bind(r),o.getEndpoints=r.getEndpoints.bind(r),o.getInitTime=r.getInitTime.bind(r),o.getLastToken=r.getLastToken.bind(r),o.matchMessages=r.matchMessages.bind(r),o.unmatchMessages=r.unmatchMessages.bind(r),o.handlePushRequests=r.handlePushRequests.bind(r),o.unhandlePushRequests=r.unhandlePushRequests.bind(r),o.hasPlugin=r.hasPlugin.bind(r),o.getPluginAPI=r.getPluginAPI.bind(r);var o,a=r.request.bind(r);return(null==n?void 0:n.requestOptions)?o.request=function(r,i){return i?a(r,Object.assign(Object.assign(Object.assign({},null==n?void 0:n.requestOptions),i),{metadata:Object.assign(Object.assign({},n.requestOptions.metadata),null==i?void 0:i.metadata),retry:Object.assign(Object.assign({},n.requestOptions.retry),null==i?void 0:i.retry)})):a(r,n.requestOptions)}:o.request=a,o.proxyEmit(r,G.j.ACCESS_TOKEN,x.EVENT_ACCESS_TOKEN),o.proxyEmit(r,G.j.CONNECTION_OFFLINE,x.EVENT_CONNECTION_OFFLINE),o.proxyEmit(r,G.j.CONNECTION_ONLINE,x.EVENT_CONNECTION_ONLINE),o.proxyEmit(r,G.j.ENDPOINTS_RESOLVED,x.EVENT_ENDPOINTS_RESOLVED),o.onAddListener(x.EVENT_CONNECTION_ID,o._onAddConnectionIdListener.bind((0,J.Z)(o),r.on.bind(r))),o.onRemoveListener(x.EVENT_CONNECTION_ID,o._onRemoveConnectionIdListener.bind((0,J.Z)(o),r.removeListener.bind(r))),o}return(0,et.Z)(PublicTransport,[{key:"_onAddConnectionIdListener",value:function(r,n){var i=this;n.preventDefault();var o=n.data.listener,renamingWrapper=function(r){var n=i.createEvent(x.EVENT_CONNECTION_ID,r.data);o.call(i,n)};o.$proxy_wrapper=renamingWrapper,r(G.j.CONNECTION_ID,renamingWrapper,n.data.options)}},{key:"_onRemoveConnectionIdListener",value:function(r,n){n.preventDefault();var i=n.data.listener;i.$proxy_wrapper&&r(G.j.CONNECTION_ID,i.$proxy_wrapper,n.data.options)}},{key:"removeAllListeners",value:function(){return this}}]),PublicTransport}(es.vp),eU=function(){function OperationMetricsTracker(){(0,er.Z)(this,OperationMetricsTracker),this._startTime=null,this._endTime=null}return(0,et.Z)(OperationMetricsTracker,[{key:"start",value:function(){if(null!==this._startTime)throw Error("Measurement is already in progress.");this._startTime=Date.now()}},{key:"end",value:function(){if(null===this._startTime||null!==this._endTime)throw Error("Measurement is not in progress.");this._endTime=Date.now()}},{key:"getMetrics",value:function(){if(null===this._startTime||null===this._endTime)throw Error("Measurement is not done.");return{start_time:this._startTime,end_time:this._endTime}}}],[{key:"create",value:function(){return new OperationMetricsTracker}}]),OperationMetricsTracker}();function transport_arrayLikeToArray(r,n){(null==n||n>r.length)&&(n=r.length);for(var i=0,o=Array(n);i<n;i++)o[i]=r[i];return o}var eH=eE.P.forTag("transport.transport"),eZ=/^(?:https?:\/\/)?@([^\/]+)\//,eq=/^(ws|http)s?:\/\/.*[^\/]$/,ez=/^([a-zA-Z]{3},\ \d{1,2}\ [a-zA-Z]{3}\ (\d{1,2}.){3})/,eW={xhr:!0,fetch:!0},eG={CONNECTED:1,AUTHENTICATED:4};function appendAccessTokenQuery(r,n){var i="access_token=".concat(encodeURIComponent(n)),o=r.split("?"),a=(0,em.Z)(o,2),c=a[0],u=a[1];if(!u)return"".concat(c,"?").concat(i);var l=u.replace(/access_token=[^&]*(&|$)/,"".concat(i,"$1"));return l!==u?"".concat(c,"?").concat(l):"".concat(c,"?").concat(i,"&").concat(u)}var eK=function(r){(0,en.Z)(Transport,r);var n,i=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,i=(0,eo.Z)(Transport);if(n){var o=(0,eo.Z)(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return(0,ei.Z)(this,r)});function Transport(r){if((0,er.Z)(this,Transport),(n=i.call(this))._plugins={},n._pluginMediator=new es.vp,n._connectCalled=!1,n._authenticateCalled=!1,n._endpoints=null,n._lastToken=null,n._lastTokenExpiry=0,n._refreshTokenPromise=null,n._authenticationPromise=null,n._reconnectTimeout=0,n._isReconnecting=!1,n._initTime=0,n._lastDisconnect=0,n._stateMask=0,n._quickDisconnectCount=0,n._counter=new ej({curve:"exponential",baseTime:5e3,ceiling:15e3}),n._stateAwareListeners={connected:[],authenticated:[],connection_id:[],transport_connect:[],transport_authenticate:[]},n._stateAwareOperationMetrics={authenticated:null},n._stateAwareRunners={connected:null,authenticated:null,connection_id:null,transport_connect:null,transport_authenticate:null},!r)throw TypeError("Argument `options` for Transport cannot be null.");if(!r.providers)throw TypeError("Argument `options.providers` for Transport cannot be null.");n._ownerRef="ownerRef"in r?Object(r.ownerRef):{},n._tokenProvider=r.providers.token,n._endpointsProvider=r.providers.endpoints,n._XHR=r.XHR,n._Fetch=r.Fetch,n._reconnectionRetries=r.reconnectionRetries>=0?r.reconnectionRetries:3,n._requestMode=r.requestMode in eW?r.requestMode:"xhr",n._forcePolyfillTypes=r.forcePolyfillTypes||{},n._disableAutoLogout="disableAutoLogout"in r&&!!r.disableAutoLogout,n._disconnectBeforeUnload=r.disconnectBeforeUnload||!1;var n,o=r.createConnectionObserver||eu.create;return n._connectionObserver=o({notifyBeforeUnload:n._disconnectBeforeUnload}),n.authenticate=n.authenticate.bind((0,J.Z)(n)),n._authenticateWithToken=n._authenticateWithToken.bind((0,J.Z)(n)),n._connectToEndpoints=n._connectToEndpoints.bind((0,J.Z)(n)),n._parseProvidedToken=n._parseProvidedToken.bind((0,J.Z)(n)),n._onConnected=n._onConnected.bind((0,J.Z)(n)),n._onAuthenticated=n._onAuthenticated.bind((0,J.Z)(n)),n._onAuthenticationFailed=n._onAuthenticationFailed.bind((0,J.Z)(n)),n._init(),n}return(0,et.Z)(Transport,[{key:"_init",value:function(){var r=this;this.onAddListener(G.j.CONNECTED,this._onAddListener.bind(this,"connected")),this.onAddListener(G.j.AUTHENTICATED,this._onAddListener.bind(this,"authenticated")),this.onAddListener(G.j.CONNECTION_ID,this._onAddListener.bind(this,"connection_id")),this.onRemoveListener(G.j.CONNECTED,this._onRemoveListener.bind(this,"connected")),this.onRemoveListener(G.j.AUTHENTICATED,this._onRemoveListener.bind(this,"authenticated")),this.onRemoveListener(G.j.CONNECTION_ID,this._onRemoveListener.bind(this,"connection_id")),this._pluginMediator.onAddListener(k.TRANSPORT_CONNECT,this._onAddListener.bind(this,"transport_connect")),this._pluginMediator.onAddListener(k.TRANSPORT_AUTHENTICATE,this._onAddListener.bind(this,"transport_authenticate")),this._pluginMediator.onRemoveListener(k.TRANSPORT_CONNECT,this._onRemoveListener.bind(this,"transport_connect")),this._pluginMediator.onRemoveListener(k.TRANSPORT_AUTHENTICATE,this._onRemoveListener.bind(this,"transport_authenticate")),"fetch"!==this._requestMode||this._Fetch&&this._Fetch.isSupported()||(eH.warn('Default "fetch" request mode unavailable; Fallback to "xhr"'),this._requestMode="xhr");var n=this._pluginMediator;n.addListeners((0,ep.Z)({},k.PLUGIN_DISCONNECTED,this._onPluginDisconnected.bind(this))),this.proxyEmit(n,k.PLUGIN_CONNECTION_INFO,G.j.CONNECTION_ID),this._disableAutoLogout||this.matchMessages("client:logout",function(){return r._onLogout()}),this._connectionObserver.on(G.j.CONNECTION_ONLINE,function(){return r._onOnline()}),this._connectionObserver.on(G.j.CONNECTION_OFFLINE,function(){return r._onOffline()}),this._connectionObserver.on(G.j.WINDOW_BEFORE_UNLOAD,function(){return r._disconnect(O.WINDOW_BEFORE_UNLOAD)})}},{key:"_runStateAwareQueues",value:function(r,n){var i,o=function(r,n){var i="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!i){if(Array.isArray(r)||(i=function(r,n){if(r){if("string"==typeof r)return transport_arrayLikeToArray(r,n);var i=Object.prototype.toString.call(r).slice(8,-1);if("Object"===i&&r.constructor&&(i=r.constructor.name),"Map"===i||"Set"===i)return Array.from(r);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return transport_arrayLikeToArray(r,n)}}(r))){i&&(r=i);var o=0,F=function(){};return{s:F,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(r){throw r},f:F}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){i=i.call(r)},n:function(){var r=i.next();return c=r.done,r},e:function(r){u=!0,a=r},f:function(){try{c||null==i.return||i.return()}finally{if(u)throw a}}}}(this._stateAwareListeners[r].splice(0));try{for(o.s();!(i=o.n()).done;)i.value.call(this,n)}catch(r){o.e(r)}finally{o.f()}this._stateAwareRunners[r]=null}},{key:"_connect",value:function(){var r=this;return this._stateMask&eG.CONNECTED?Promise.resolve(!1):this._connectionObserver.isOnline()?this._performConnect():new Promise(function(n,i){eH.info("Waiting to go online before connecting"),r._connectionObserver.once(G.j.CONNECTION_ONLINE,function(){r._performConnect().then(n,i)})})}},{key:"_performConnect",value:function(){var r=this;return new Promise(function(n){eH.info("Resolving endpoints"),n(r._endpointsProvider(r.toPublic()))}).catch(function(r){var n=(null==r?void 0:r.code)?r:new eM(W.J.TRANSPORT_ENDPOINTS_PROVIDER_ERROR,(null==r?void 0:r.message)||"Endpoints provider error",null!=r?r:null);return eH.error("Endpoints resolution failed",n),Promise.reject(n)}).then(this._connectToEndpoints).then(this._onConnected).catch(function(n){var i=n&&n.error?n.error:n;return r.emit(G.j.CONNECTION_FAILED,{error:i}),eH.error("Connection failed",i),Promise.reject(i)})}},{key:"_connectToEndpoints",value:function(r){var n=this,i={webgate:"",webapi:""};for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];a&&(eq.test(a)&&(a+="/"),i[o]=a)}this._endpoints=i,this.emit(G.j.ENDPOINTS_RESOLVED,{endpoints:Object.assign({},i)}),eH.info("Endpoints resolved");var c=[],awaitPromise=function(r){c.push(r)};return eH.info("Waiting for plugins to connect"),new Promise(function(r,o){n._pluginMediator.emitAndWait(k.TRANSPORT_CONNECT,{endpoints:Object.assign({},i),awaitPromise:awaitPromise},function(){Promise.all(c).then(function(){return r(!0)},o)})})}},{key:"_refreshToken",value:function(){var r=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._refreshTokenPromise)return this._refreshTokenPromise;if(!n&&this._lastToken&&this._lastTokenExpiry>Date.now())return Promise.resolve(this._lastToken);this._refreshTokenPromise=new Promise(function(n){eH.info("Requesting token from provider"),n(r._tokenProvider())}).then(this._parseProvidedToken);var clearPromise=function(){r._refreshTokenPromise=null};return this._refreshTokenPromise.then(clearPromise,clearPromise),this._refreshTokenPromise.catch(function(n){var i=(null==n?void 0:n.code)?n:new eM(W.J.TRANSPORT_TOKEN_PROVIDER_ERROR,(null==n?void 0:n.message)||"Token provider error",n);return r.emit(G.j.TOKEN_PROVIDER_ERROR,{error:i}),eH.error("Token provider error",i),Promise.reject(i)})}},{key:"_parseProvidedToken",value:function(r){if(Array.isArray(r)?(n=r[0],isNaN(i=parseInt(r[1],10))&&(i=3540)):(n=r,i=3540),!n)throw this._lastToken=null,this._lastTokenExpiry=0,eH.error("No token was provided"),new eM(W.J.TRANSPORT_INVALID_TOKEN,'Token provider returned an invalid token, "'.concat(n,'"'));if(this._lastToken===n){eH.error("TokenProvider returned same token twice.");var n,i,o=new eM(W.J.TRANSPORT_STALE_TOKEN,"Token provider returned the same token twice.");throw this._lastToken=null,this._lastTokenExpiry=0,o}return this._lastToken=n,this._lastTokenExpiry=Date.now()+1e3*i,this.emit(G.j.ACCESS_TOKEN,{token:n}),eH.info("Access token set"),n}},{key:"_authenticateWithToken",value:function(r){var n=this;if(!this._endpoints)return Promise.resolve(!0);var i=[],awaitPromise=function(r){i.push(r)};return eH.info("Waiting for plugins to authenticate"),new Promise(function(o,a){n._pluginMediator.emitAndWait(k.TRANSPORT_AUTHENTICATE,{token:r,awaitPromise:awaitPromise},function(){Promise.all(i).then(function(){return o(!0)},a)})})}},{key:"_authenticate",value:function(r){var n=this;if(!(this._stateMask&eG.CONNECTED))return Promise.reject(new eM(W.J.TRANSPORT_INVALID_STATE,"Cannot authenticate disconnected transport."));if(this._authenticationPromise)return this._authenticationPromise;var i=eU.create();return i.start(),this._authenticationPromise=eD.init(function(){return eH.info("Authenticating"),n._refreshToken(r).then(n._authenticateWithToken)},{curve:"exponential",maxRetries:2,baseTime:500,retryPredicate:function(r){return eH.warn("Retrying authentication due to failure",r),!0}}).then(function(){return n._onAuthenticated(i)}).catch(function(r){return n._onAuthenticationFailed(r,i)}),this._authenticationPromise}},{key:"_performDisconnect",value:function(r){return this._stateMask=0,r&&(this.emit(G.j.DISCONNECTED,{reason:r}),eH.info("Disconnected")),eH.info("Waiting for plugins to disconnect."),this._pluginMediator.emitSync(k.TRANSPORT_DISCONNECT,{supressed:!r}),!0}},{key:"_createReconnector",value:function(){var r=this,n=!1;return function(){return r._isReconnecting=!0,r.emit(G.j.RECONNECTING,null),eH.info("Reconnecting"),r._performDisconnect(),r._connect().then(function(){return!!r._authenticateCalled&&r._authenticate(n).then(function(r){return n=!1,r},function(r){return n=!0,Promise.reject(r)})}).then(function(){return r._isReconnecting=!1,r.emit(G.j.RECONNECTED,null),eH.info("Reconnected"),!0})}}},{key:"_tryToReconnect",value:function(){var r=this;if(this._isReconnecting){eH.warn("Reconnection triggered while already reconnecting");return}this._stateMask=0,eD.init(this._createReconnector(),{baseTime:1e3,maxTime:15e3,maxRetries:this._reconnectionRetries,retryPredicate:function(r){return eH.warn("Retrying reconnection due to failure",r),!0}}).catch(function(){r._stateMask=0,r._isReconnecting=!1,r.emit(G.j.DISCONNECTED,{reason:O.RECONNECTION_FAILED}),eH.info("Disconnected: reconnection failed")})}},{key:"_sendRequest",value:function(r){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.signal;return(null==a?void 0:a.aborted)?Promise.reject(new ew(r)):this._processRequestArgs(r,i).then(function(i){return(null==a?void 0:a.aborted)?Promise.reject(new ew(r)):i.options.forget?n._sendFireAndForgetRequest(i):n._sendRetriedRequest(i,o)})}},{key:"_processRequestArgs",value:function(r){var n,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===(n=o.signal)||void 0===n?void 0:n.aborted)return Promise.reject(new ew(r));var a=r,c=!1,u=Object.assign(Object.assign({},o),{forcePolyfill:!!(o.responseType&&o.responseType in this._forcePolyfillTypes),requestMode:null!==(i=null==o?void 0:o.requestMode)&&void 0!==i?i:this._requestMode,connectionObserver:this._connectionObserver,metadata:(null==o?void 0:o.metadata)||null});if((null==o?void 0:o.signal)&&!hasNativeAbortController()&&("fetch"===o.requestMode?eH.warn("Request with `{requestMode: fetch}` but no native AbortController."):u.requestMode="xhr"),eZ.test(a)){c=!0;try{a=this._tryExpandSpecialURL(a)}catch(r){return Promise.reject(r)}"authorize"in u||(u.authorize=!0,u.autoAuthorized=!0)}var l=Object.assign(Object.assign({maxRetries:2,curve:"exponential"},o.retry),{retryPredicate:function(r){return!(r instanceof ew)}});return Promise.resolve(eB.create(a,{method:o.method,headers:o.headers,payload:o.payload,options:u,urlExpanded:c,retryOptions:l}))}},{key:"_tryExpandSpecialURL",value:function(r){var n=this._endpoints;return r.replace(eZ,function(r,i){if(!n.hasOwnProperty(i))throw TypeError("Cannot replace endpoint @".concat(i,": endpoint not defined."));return n[i]})}},{key:"_sendFireAndForgetRequest",value:function(r){var n,i=r.url,o=r.method,a=r.options;if(null===(n=a.signal)||void 0===n?void 0:n.aborted)return Promise.reject(new ew(i));if("GET"!==o&&"POST"!==o)return Promise.reject(new eM(W.J.TRANSPORT_UNSUPPORTED_OPTION,"Option 'forget' cannot be used for ".concat(o," request.")));if(!a.autoAuthorized&&a.authorize)return Promise.reject(new eM(W.J.TRANSPORT_UNSUPPORTED_OPTION,"Option 'forget' cannot be used for authorized request."));if(a.requestMode="xhr",a.authorize=!1,a.ignoreResponseBody=!0,"GET"===o){if("function"==typeof fetch){var c={mode:"no-cors"};a.signal&&hasNativeAbortController()&&(c.signal=a.signal),fetch(i,c).catch(function(){})}else"function"==typeof Image?new Image().src=i:this._sendRetriedRequest(r,{}).catch(function(){})}else if("POST"===o){if("undefined"!=typeof navigator&&(null==navigator?void 0:navigator.sendBeacon)){var u=r.headers.get("content-type");navigator.sendBeacon(r.url,"string"==typeof r.payload&&u?new Blob([r.payload],{type:u}):r.payload)}else if("function"==typeof fetch){var l=r.headers.get("content-type"),p={method:"POST",body:r.payload,headers:l?{"content-type":l}:void 0};a.signal&&hasNativeAbortController()&&(p.signal=a.signal),fetch(i,p).catch(function(){})}else this._sendRetriedRequest(r,{}).catch(function(){})}return Promise.resolve(new eI(i,0))}},{key:"_sendRetriedRequest",value:function(r,n){var i=this,o=r.retryOptions,a=r.options.signal,c=!1,updateToken=function(){return(null==a?void 0:a.aborted)?Promise.reject(new ew(r.url)):i._setAuthHeader(r,c)},u=this._connectionObserver,l=new eD(function(){return(u.isOnline()||r.options.allowOffline?updateToken():new Promise(function(r,n){u.once(G.j.CONNECTION_ONLINE,function(){updateToken().then(r,n)})})).then(function(){var o;if(null==a?void 0:a.aborted)return Promise.reject(new ew(r.url));if(i._pluginMediator.emitSync(k.TRANSPORT_BEFORE_SEND_REQUEST,{request:r,context:n}),"fetch"===r.options.requestMode&&i._Fetch&&i._Fetch.isSupported())o=i._Fetch.request(r);else if(i._XHR)o=i._XHR.request(r);else throw Error("No available request mechanisms.");return o}).then(function(n){if(null==a?void 0:a.aborted)return Promise.reject(new ew(r.url));var i=null;if(n.headers&&(i=n.headers.get("Retry-After")),n.status===eT.G.UNAUTHORIZED&&!r.options.ignoreUnauthorized)return c=!0,Promise.reject(n);if("function"==typeof(null==o?void 0:o.condition)&&(o.condition(n,R)||i)){if(null!==i){if(ez.test(i))n.retryAfter=new Date(i).getTime()-Date.now();else{var u=parseInt(i,10);u>0&&(n.retryAfter=1e3*u)}}return Promise.reject(n)}return Promise.resolve(n)})},o);return l.start().catch(this._handleRetriedRequestError).then(function(o){return(null==a?void 0:a.aborted)?Promise.reject(new ew(r.url)):(o.metadata=r.options.metadata,o.retries=o.retries||{count:0},o.retries.count=l.getRetryCount(),i._pluginMediator.emitSync(k.TRANSPORT_BEFORE_RETURN_RESPONSE,{context:n,response:o}),r.options.rejectNotOk&&!o.ok)?Promise.reject(o):o})}},{key:"_setAuthHeader",value:function(r,n){var i=this;if(!r.options.authorize)return Promise.resolve(r);var setterFn=function(){return i._refreshToken(n).then(function(n){return r.headers.set("Authorization","Bearer ".concat(n)),r})};return this._stateMask&eG.AUTHENTICATED?setterFn():new Promise(function(r,n){eH.info("Auth header setting awaiting authentication."),i.once(G.j.AUTHENTICATED,function(){eH.info("Auth header set after authentication."),setterFn().then(r,n)})})}},{key:"_handleRetriedRequestError",value:function(r){return r instanceof eI?Promise.resolve(r):Promise.reject(r)}},{key:"_onAddListener",value:function(r,n){var i,o=this,a=n.data.options;if(!a.ignoreCurrentState){switch(r){case"connected":if(!this.isConnected())return;i=Promise.resolve(this.createEvent(G.j.CONNECTED,null));break;case"authenticated":if(!this.isAuthenticated())return;var c=this._stateAwareOperationMetrics.authenticated;i=Promise.resolve(this.createEvent(G.j.AUTHENTICATED,{timing:c}));break;case"connection_id":var u=this.getPluginAPI("dealer");if(!u||!u.hasConnectionInfo())return;i=u.getConnectionInfo().then(function(r){return o.createEvent(G.j.CONNECTION_ID,r)});break;case"transport_connect":if(!this.isConnected()||!this._endpoints)return;i=Promise.resolve(this._pluginMediator.createEvent(k.TRANSPORT_CONNECT,{endpoints:Object.assign({},this._endpoints),awaitPromise:function(r){}}));break;case"transport_authenticate":if(!this.isAuthenticated())return;i=this._refreshToken().then(function(r){return o._pluginMediator.createEvent(k.TRANSPORT_AUTHENTICATE,{token:r,awaitPromise:function(r){}})});break;default:return}var l=n.data.listener;this._stateAwareListeners[r].push(l);var p=this._stateAwareRunners;!p[r]&&(p[r]=i.then(this._runStateAwareQueues.bind(this,r)),a.once&&n.preventDefault())}}},{key:"_onRemoveListener",value:function(r,n){var i=n.data.options;if(!i.ignoreCurrentState&&!i.once){var o=n.data.listener,a=this._stateAwareListeners[r].indexOf(o);-1!==a&&this._stateAwareListeners[r].splice(a,1)}}},{key:"_getQuickDisconnectTimeout",value:function(){return this._counter.getTime(this._quickDisconnectCount)}},{key:"_onPluginDisconnected",value:function(r){var n=Date.now(),i=n-this._lastDisconnect;if(this._performDisconnect(),r.data.code===I.CLOSE){eH.info('Plugin "'.concat(r.data.plugin,'" explicitly disconnected')),this._quickDisconnectCount=0;return}this._connectionObserver.isOnline()&&(eH.info('Plugin "'.concat(r.data.plugin,'" unexpectedly disconnect; trying to reconnect')),i<5e3?(this._reconnectTimeout&&clearTimeout(this._reconnectTimeout),this._quickDisconnectCount++,this.emit(G.j.SHORT_SESSION_DISCONNECTED,{disconnectCount:this._quickDisconnectCount,sessionLength:i}),this._reconnectTimeout=setTimeout(this._tryToReconnect.bind(this),this._getQuickDisconnectTimeout())):(this._quickDisconnectCount=0,this._lastDisconnect=n,this._tryToReconnect()))}},{key:"_onOnline",value:function(){this.emit(G.j.CONNECTION_ONLINE,null),eH.info("ConnectionObserver online"),this._connectCalled&&this._tryToReconnect()}},{key:"_onOffline",value:function(){this.emit(G.j.CONNECTION_OFFLINE,null),eH.info("ConnectioObserver offline"),this._performDisconnect()}},{key:"_onConnected",value:function(){return this._stateMask|=eG.CONNECTED,this.emit(G.j.CONNECTED,null),eH.info("Connected"),Promise.resolve(!0)}},{key:"_onAuthenticated",value:function(r){r.end(),clearTimeout(this._reconnectTimeout),this._authenticationPromise=null,this._stateMask|=eG.AUTHENTICATED,this._initTime=Date.now();var n=r.getMetrics();return this.emit(G.j.AUTHENTICATED,{timing:n}),this._stateAwareOperationMetrics.authenticated=n,eH.info("Authenticated"),Promise.resolve(!0)}},{key:"_onAuthenticationFailed",value:function(r,n){n.end();var i=r&&r.error?r.error:r;this._authenticationPromise=null,this._stateMask&=~eG.AUTHENTICATED;var o={error:i,timing:n.getMetrics()};return this.emit(G.j.AUTHENTICATION_FAILED,o),this._pluginMediator.emit(k.TRANSPORT_AUTHENTICATE_FAILED,o),eH.info("Authentication failed",i),Promise.reject(i)}},{key:"_onLogout",value:function(){var r=this,handler=function(){r._lastToken=null,r._lastTokenExpiry=0,r.emit(G.j.LOGGED_OUT,null)};this._disconnect(O.LOG_OUT).then(handler,handler)}},{key:"_disconnect",value:function(r){var n=this;if(!this._connectCalled)return Promise.resolve(!1);this._connectCalled=!1,this._authenticateCalled=!1;var i=this.isConnected()?G.j.BEFORE_ONLINE_DISCONNECT:G.j.BEFORE_OFFLINE_DISCONNECT,o=[];return this.emitSync(i,{awaitPromise:function(r){o.push(r.catch(function(){}))}}),Promise.all(o).then(function(){return n._performDisconnect(r)})}},{key:"isConnected",value:function(){return!!(this._stateMask&eG.CONNECTED)}},{key:"isAuthenticated",value:function(){return!!(this._stateMask&eG.AUTHENTICATED)}},{key:"isReconnecting",value:function(){return this._isReconnecting}},{key:"isOnline",value:function(){return this._connectionObserver.isOnline()}},{key:"connect",value:function(){return this._connectCalled=!0,this._connect()}},{key:"authenticate",value:function(){return this._authenticateCalled=!0,this._authenticate(!0)}},{key:"disconnect",value:function(){return this._disconnect(O.EXPLICIT)}},{key:"forceDisconnect",value:function(){return this._connectCalled?(this._connectCalled=!1,this._authenticateCalled=!1,this._performDisconnect(O.EXPLICIT),Promise.resolve(!0)):Promise.resolve(!1)}},{key:"forceTokenRefresh",value:function(){return this._refreshToken(!0).then(function(){return!0})}},{key:"getInitTime",value:function(){return this._initTime}},{key:"getEndpoints",value:function(){return this._endpoints?Object.assign({},this._endpoints):null}},{key:"getLastToken",value:function(){return this._lastToken}},{key:"toPublic",value:function(r){return new eF(this,r)}},{key:"hasOwnerRef",value:function(r){return this._ownerRef===r}},{key:"appendTokenQuery",value:function(r){return this._refreshToken().then(function(n){return appendAccessTokenQuery(r,n)})}},{key:"appendLastTokenQuery",value:function(r){return this._lastToken?appendAccessTokenQuery(r,this._lastToken):r}},{key:"matchMessages",value:function(r,n,i){if(!r)throw TypeError('Message "matcher" cannot be null.');if("function"!=typeof n)throw TypeError("Message callback cannot be null.");var wrapper=function(o){var a=o.data.message;a.uri&&a.uri.match(r)&&(!i||i===o.data.plugin)&&n(a)};wrapper.__matchMessagesExp=r,wrapper.__matchMessagesPlugin=i,n.__matchMessagesWrapper=wrapper,this._pluginMediator.on(k.PLUGIN_MESSAGE,wrapper)}},{key:"unmatchMessages",value:function(r,n,i){if("function"!=typeof n)throw TypeError("Message callback cannot be null.");var o=n.__matchMessagesWrapper;return!!o&&o.__matchMessagesExp===r&&o.__matchMessagesPlugin===i&&(this._pluginMediator.removeListener(k.PLUGIN_MESSAGE,o),!0)}},{key:"handlePushRequests",value:function(r,n,i){if(!r)throw TypeError('Push request "matcher" cannot be null.');if("function"!=typeof n)throw TypeError("Push request callback cannot be null.");var wrapper=function(o){var a=o.data.request;a.message_ident&&a.message_ident.match(r)&&(!i||i===o.data.plugin)&&Promise.resolve(n(a)).then(o.data.reply)};wrapper.__matchRequestExp=r,wrapper.__matchRequestPlugin=i,n.__matchRequestWrapper=wrapper,this._pluginMediator.on(k.PLUGIN_REQUEST,wrapper)}},{key:"unhandlePushRequests",value:function(r,n,i){if("function"!=typeof n)throw TypeError("Push request callback cannot be null.");var o=n.__matchRequestWrapper;return!!o&&o.__matchRequestExp===r&&o.__matchRequestPlugin===i&&(this._pluginMediator.removeListener(k.PLUGIN_REQUEST,o),!0)}},{key:"request",value:function(r,n){var i,o=this,a={uri:r,options:n,context:{}};this._pluginMediator.emitSync(k.TRANSPORT_BEFORE_PROCESS_REQUEST,a);var c=this._sendRequest.bind(this,a.uri,a.options,a.context);return!this._endpoints&&eZ.test(a.uri)?(eH.info("Request queued until endpoints resolved",a.uri),new Promise(function(r,n){o.once(G.j.ENDPOINTS_RESOLVED,function(){eH.info("Sending endpoints-queued request",a.uri),c().then(r,n)})})):this._connectionObserver.isOnline()||(null===(i=a.options)||void 0===i?void 0:i.allowOffline)?c():(eH.info("Request queued until online",a.uri),new Promise(function(r,n){o.once(G.j.CONNECTION_ONLINE,function(){eH.info("Sending offline-queued request",a.uri),c().then(r,n)})}))}},{key:"addPlugin",value:function(r,n){var i=r(this,n),o=i.name;if(this._plugins[o])throw TypeError("Plugin is already added.");return i.attach(this,this._pluginMediator),this._plugins[o]=i,o}},{key:"removePlugin",value:function(r){var n=this._plugins[r];return!!n&&(n.detach(this,this._pluginMediator),this._plugins[r]=void 0,!0)}},{key:"hasPlugin",value:function(r){return!!this._plugins[r]}},{key:"getPluginAPI",value:function(r){var n=this._plugins[r];return n&&n.api?n.api:null}},{key:"getConnectionId",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dealer",n=this._plugins[r];return n?n.api&&"getConnectionInfo"in n.api?n.api.getConnectionInfo().then(function(r){return r.id}):Promise.reject(TypeError("Plugin ".concat(n," is not a socket plugin."))):Promise.reject(TypeError("Cannot retrieve connection id for plugin ".concat(n,".")))}},{key:"removeAllListeners",value:function(){return this}}],[{key:"create",value:function(r){return new Transport(r)}}]),Transport}(es.vp);function headers_arrayLikeToArray(r,n){(null==n||n>r.length)&&(n=r.length);for(var i=0,o=Array(n);i<n;i++)o[i]=r[i];return o}var eV=function(){function XHRHeaders(r){(0,er.Z)(this,XHRHeaders),this._headers={},this._init(r)}return(0,et.Z)(XHRHeaders,[{key:"_init",value:function(r){if(r){var n,i=function(r,n){var i="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!i){if(Array.isArray(r)||(i=function(r,n){if(r){if("string"==typeof r)return headers_arrayLikeToArray(r,n);var i=Object.prototype.toString.call(r).slice(8,-1);if("Object"===i&&r.constructor&&(i=r.constructor.name),"Map"===i||"Set"===i)return Array.from(r);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return headers_arrayLikeToArray(r,n)}}(r))){i&&(r=i);var o=0,F=function(){};return{s:F,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(r){throw r},f:F}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){i=i.call(r)},n:function(){var r=i.next();return c=r.done,r},e:function(r){u=!0,a=r},f:function(){try{c||null==i.return||i.return()}finally{if(u)throw a}}}}(r.split("\r\n"));try{for(i.s();!(n=i.n()).done;){var o=n.value,a=o.indexOf(": ");if(a>0){var c=o.substring(0,a).toLowerCase(),u=o.substring(a+2);this._headers[c]=u}}}catch(r){i.e(r)}finally{i.f()}}}},{key:"get",value:function(r){return this._headers[r.toLowerCase()]||null}},{key:"has",value:function(r){return this._headers.hasOwnProperty(r.toLowerCase())}}]),XHRHeaders}(),e$=eE.P.forTag("transport.http.xhr"),xhr_NOOP=function(){},eX={json:!0,text:!0,document:!0};function handleEnd(){this.onabort=xhr_NOOP,this.onerror=xhr_NOOP,this.onload=xhr_NOOP,this.onloadend=xhr_NOOP}function handleLoad(r,n,i){if(null===(o=r.options.signal)||void 0===o||!o.aborted){var o,a,c=Date.now(),u=this.status,l=new eI(this.responseURL||r.url,u);l.body=null;var p=r.options;if(p.timing&&(l.timing={completed:c-n}),(null===(a=p.connectionObserver)||void 0===a?void 0:a.isOnline)&&(l.offline=!p.connectionObserver.isOnline()),(p.parseResponseHeaders||u>299)&&(l.headers=new eV(this.getAllResponseHeaders())),!p.ignoreResponseBody&&u!==eT.G.NO_CONTENT){var S=p.responseType||"";if(!p.forcePolyfill&&"response"in this&&S===this.responseType)l.body=this.response;else if("document"===S)l.body=this.responseXML;else if("json"===S)try{l.body=JSON.parse(this.responseText)}catch(r){e$.warn("Could not parse response as JSON:",r),l.body=null}else("text"===S||""===S)&&(l.body=this.responseText)}i(l)}}function handleError(r,n,i){4===this.readyState?n(new eI(this.responseURL||r,this.status)):i(new eO("Request cannot be completed.",W.J.HTTP_REQUEST_FAILED,this.status,r))}function xhr_request(r){var n;return n=r.options.signal,new Promise(function(i,o){if(null==n?void 0:n.aborted){o(new ew(r.url));return}var a=new XMLHttpRequest,c=r.url;if(!c){o(TypeError("Request URL cannot be blank."));return}var u=null,l=r.method||"GET",p=r.payload||"";l in ek&&p?u=p:p&&(c+="?".concat(p)),a.open(l,c,!0),a.onerror=handleError.bind(a,c,i,o),a.onabort=handleEnd,a.onloadend=handleEnd,a.onprogress=xhr_NOOP;var S=r.options;"include"===S.credentials&&(a.withCredentials=!0);var k=S.responseType;if(k){if(S.forcePolyfill){if(!(k in eX)){o(TypeError('Cannot polyfill responseType "'.concat(k,'"')));return}}else{if(!("responseType"in a)&&!(k in eX)){o(TypeError("Cannot set responseType: not supported in browser."));return}try{a.responseType=k}catch(r){o(TypeError('Unknown responseType "'.concat(k,'".')));return}if(a&&k!==a.responseType&&!(k in eX)){o(TypeError('Unknown responseType "'.concat(k,'".')));return}}}var O=r.headers.count()?r.headers.toJSON():null;if(O){for(var w in O)if(O.hasOwnProperty(w)&&O[w])try{a.setRequestHeader(w,O[w])}catch(r){o(r);return}}n&&n.addEventListener("abort",function onAbort(){n.removeEventListener("abort",onAbort),a.abort(),o(new ew(c))}),a.onload=handleLoad.bind(a,r,Date.now(),i);try{a.send(u)}catch(r){o(r);return}})}var eY=i(6569);function createEndpointsProvider(){return function(){return Promise.resolve({webgate:"https://www.spotify.com/api/",webapi:"https://api.spotify.com"})}}function createTokenProvider(){return function(){return Promise.resolve("NOT_A_TOKEN")}}function createProviders(){return{endpoints:createEndpointsProvider(),token:createTokenProvider()}}var eQ="request-transformer",eJ=function(){function RequestTransformer(r){(0,er.Z)(this,RequestTransformer),this.name=eQ,this._uriTransformer=r.uriTransformer,this._optionsOverrides=r.optionsOverrides,this._include=r.include,this._processRequest=this._processRequest.bind(this)}return(0,et.Z)(RequestTransformer,[{key:"_processRequest",value:function(r){var n,i,o=r.data;if((null===(i=null===(n=o.options)||void 0===n?void 0:n.metadata)||void 0===i||!i.noRequestTransform)&&(!this._include||this._include(o.uri,o.options))){this._uriTransformer&&(o.uri=this._uriTransformer(o.uri));var a=this._optionsOverrides;if(a){if(o.options){var c=Object.assign(Object.assign(Object.assign({},o.options),a),{metadata:Object.assign(Object.assign({},o.options.metadata),a.metadata),retry:Object.assign(Object.assign({},o.options.retry),a.retry),headers:Object.assign(Object.assign({},o.options.headers),a.headers)});o.options=c}else o.options=a}}}},{key:"attach",value:function(r,n){n.on(k.TRANSPORT_BEFORE_PROCESS_REQUEST,this._processRequest)}},{key:"detach",value:function(r,n){n.removeListener(k.TRANSPORT_BEFORE_PROCESS_REQUEST,this._processRequest)}}]),RequestTransformer}();function requestTransformerCreator(r,n){return new eJ(n)}function createBaseTransport(r){var n=Object.assign({},r);return n.XHR||(n.XHR=N),n.Fetch=j,eK.create(n)}function createTransport(r){var n=createBaseTransport(r);return n.addPlugin(dealerCreator,{WebSocket:WebSocket}),n}},6569:function(r,n,i){"use strict";i.d(n,{Q:function(){return createProvider}});var o=i(7800),a=i(2188),c=i(6506),u=i(5041),l=i(2945),p=i(8419),S=function(r){(0,u.Z)(XResolveError,r);var n,i=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,i=(0,p.Z)(XResolveError);if(n){var o=(0,p.Z)(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return(0,l.Z)(this,r)});function XResolveError(r,n){var o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return(0,c.Z)(this,XResolveError),(o=i.call(this,n)).name="XResolveError",o.message=n,o.code=r,o.status=a,o}return(0,a.Z)(XResolveError)}((0,i(7403).Z)(Error)),k={DEALER:"dealer",WEBGATE:"spclient"},O={spclient:"spclient.wg.spotify.com",exp:"exp.wg.spotify.com",partners:"partners.wg.spotify.com"};function createProvider(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={dealer:r.dealer||k.DEALER,webgate:r.webgate||k.WEBGATE},i="".concat("https://apresolve.spotify.com/","?type=").concat(n.dealer,"&type=").concat(n.webgate);return function(r){return r.request(i,{forcePolyfill:!0,responseType:"json",retry:{maxRetries:3,curve:"exponential",condition:function(r,n){return r.getStatusFamily()!==n.SUCCESS}},metadata:{noRequestTransform:!0}}).then(function(r){var i,a,c,u,l,p=r.body,k={dealer:null!==(a=null===(i=null==p?void 0:p[n.dealer])||void 0===i?void 0:i[0])&&void 0!==a?a:"dealer.spotify.com",webgate:null!==(l=null!==(u=null===(c=null==p?void 0:p[n.webgate])||void 0===c?void 0:c[0])&&void 0!==u?u:O[n.webgate])&&void 0!==l?l:O.spclient,webapi:"https://api.spotify.com/"};if(!k.dealer||!k.webgate)throw new S(o.J.XRESOLVE_INCOMPLETE_RESPONSE,"X-Resolve responded with incomplete results.",r.status);return k}).then(function(r){return r.dealer="wss://".concat(r.dealer.replace(/:443$/,"")),r.webgate="https://".concat(r.webgate.replace(/:443$/,"")),r})}}},1174:function(r,n,i){"use strict";i.d(n,{P:function(){return c}});var o,a,c={};i.r(c),i.d(c,{disable:function(){return disable},disableAll:function(){return disableAll},enable:function(){return enable},enableAll:function(){return enableAll},forTag:function(){return forTag},intercept:function(){return intercept},list:function(){return list},remove:function(){return remove},setLevel:function(){return setLevel},unintercept:function(){return unintercept}});var u=i(4714),l=i(6506),p=i(2188);(o=a||(a={}))[o.NONE=0]="NONE",o[o.LOG=1]="LOG",o[o.DEBUG=2]="DEBUG",o[o.INFO=4]="INFO",o[o.WARN=8]="WARN",o[o.ERROR=16]="ERROR";var S=function(){function DummyLogger(){(0,l.Z)(this,DummyLogger),this.tag="",this.description=""}return(0,p.Z)(DummyLogger,[{key:"matchesTag",value:function(){return!1}},{key:"setLevel",value:function(){}},{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"log",value:function(){}},{key:"debug",value:function(){}},{key:"info",value:function(){}},{key:"warn",value:function(){}},{key:"error",value:function(){}}]),DummyLogger}(),k=i(8104),O=function(){function ConsoleLogger(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!1};(0,l.Z)(this,ConsoleLogger),this._tagParts=[],this._tagText="",this._enabled=!0,this._level=a.NONE,this.tag="",this.description="",this._predicate=function(){return!1},this.tag=r,this.description=n,this._predicate=i,this._tagParts=r.split("."),this._tagText="[".concat(r,"]")}return(0,p.Z)(ConsoleLogger,[{key:"_print",value:function(r,n,i){if(this._enabled||this._level&n){var o,a={args:i,type:r,tag:this.tag};this._predicate(a)||(o=console)[r].apply(o,[this._tagText].concat((0,u.Z)(i)))}}},{key:"matchesTag",value:function(r){var n=Array.isArray(r)?r:r.split("."),i=this._tagParts;if(n.length>i.length)return!1;for(var o=0,a=n.length;o<a;o++)if(("*"!==n[o]||!i[o])&&n[o]!==i[o])return!1;return!0}},{key:"setLevel",value:function(r){var n=0;switch(r){case"error":n=a.ERROR;break;case"warn":n=a.WARN|a.ERROR;break;case"info":n=a.INFO|a.WARN|a.ERROR;break;case"debug":n=a.DEBUG|a.INFO|a.WARN|a.ERROR;break;default:n=a.LOG|a.DEBUG|a.INFO|a.WARN|a.ERROR}this._level=n}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1}},{key:"log",value:function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];this._print("log",a.LOG,n)}},{key:"debug",value:function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];this._print("debug",a.DEBUG,n)}},{key:"info",value:function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];this._print("info",a.INFO,n)}},{key:"warn",value:function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];this._print("warn",a.WARN,n)}},{key:"error",value:function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];this._print("error",a.ERROR,n)}}]),ConsoleLogger}(),w=void 0!==k&&"true"===k.env.DEBUG?O:S,C="__dbgLoggerRegistry",I=i.g[C];I||(I={map:{},list:[],loggingPredicate:function(){}},Object.defineProperty?Object.defineProperty(i.g,C,{value:I}):i.g[C]=I);var R=I.map,x=I.list;function _checkLog(r){return!!(I.loggingPredicate&&I.loggingPredicate(r))}var j="log";function intercept(r){if("function"!=typeof r)throw TypeError("Logging.intercept requires a function predicate.");I.loggingPredicate=r}function unintercept(){I.loggingPredicate=function(){}}function list(r){var n=Object.keys(R).filter(function(r){return R[r]}).sort();return r?n.map(function(r){return{tag:r,description:R[r].description||"No description."}}):n.reduce(function(r,n){return r[n]=R[n].description||"No description",r},{})}function enable(r){for(var n,i=Array.isArray(r)?r:[r],o=i.length;o--;)for(var a=null===(n=i[o])||void 0===n?void 0:n.toLowerCase(),c=x.length;c--;){var u=x[c];u.matchesTag(a)&&u.enable()}}function disable(r){for(var n,i=Array.isArray(r)?r:[r],o=i.length;o--;)for(var a=null===(n=i[o])||void 0===n?void 0:n.toLowerCase(),c=x.length;c--;){var u=x[c];u.matchesTag(a)&&u.disable()}}function setLevel(r){j=r;for(var n=x.length;n--;){var i=x[n];i&&i.setLevel(r)}}function enableAll(){for(var r=x.length;r--;)x[r]&&x[r].enable()}function disableAll(){for(var r=x.length;r--;)x[r]&&x[r].disable()}function forTag(r,n){if("string"==typeof r?(i=r.toLowerCase(),o=n):(i=r.tag,o=r.description),R.hasOwnProperty(i)&&R[i])return R[i];var i,o,a=new w(i,o,_checkLog);return a.setLevel(j),R[i]=a,x.push(a),a}function remove(r){var n=r.toLowerCase();if(R.hasOwnProperty(n)&&R[n]){var i=R[n];R[n]=null;var o=x.indexOf(i);-1!==o&&x.splice(o,1)}}},4175:function(r,n){"use strict";n.byteLength=function(r){var n=getLens(r),i=n[0],o=n[1];return(i+o)*3/4-o},n.toByteArray=function(r){var n,i,c=getLens(r),u=c[0],l=c[1],p=new a((u+l)*3/4-l),S=0,k=l>0?u-4:u;for(i=0;i<k;i+=4)n=o[r.charCodeAt(i)]<<18|o[r.charCodeAt(i+1)]<<12|o[r.charCodeAt(i+2)]<<6|o[r.charCodeAt(i+3)],p[S++]=n>>16&255,p[S++]=n>>8&255,p[S++]=255&n;return 2===l&&(n=o[r.charCodeAt(i)]<<2|o[r.charCodeAt(i+1)]>>4,p[S++]=255&n),1===l&&(n=o[r.charCodeAt(i)]<<10|o[r.charCodeAt(i+1)]<<4|o[r.charCodeAt(i+2)]>>2,p[S++]=n>>8&255,p[S++]=255&n),p},n.fromByteArray=function(r){for(var n,o=r.length,a=o%3,c=[],u=0,l=o-a;u<l;u+=16383)c.push(function(r,n,o){for(var a,c=[],u=n;u<o;u+=3)c.push(i[(a=(r[u]<<16&16711680)+(r[u+1]<<8&65280)+(255&r[u+2]))>>18&63]+i[a>>12&63]+i[a>>6&63]+i[63&a]);return c.join("")}(r,u,u+16383>l?l:u+16383));return 1===a?c.push(i[(n=r[o-1])>>2]+i[n<<4&63]+"=="):2===a&&c.push(i[(n=(r[o-2]<<8)+r[o-1])>>10]+i[n>>4&63]+i[n<<2&63]+"="),c.join("")};for(var i=[],o=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,l=c.length;u<l;++u)i[u]=c[u],o[c.charCodeAt(u)]=u;function getLens(r){var n=r.length;if(n%4>0)throw Error("Invalid string. Length must be a multiple of 4");var i=r.indexOf("=");-1===i&&(i=n);var o=i===n?0:4-i%4;return[i,o]}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},7112:function(r,n,i){"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var o=i(4175),a=i(381),c="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function createBuffer(r){if(r>2147483647)throw RangeError('The value "'+r+'" is invalid for option "size"');var n=new Uint8Array(r);return Object.setPrototypeOf(n,Buffer.prototype),n}function Buffer(r,n,i){if("number"==typeof r){if("string"==typeof n)throw TypeError('The "string" argument must be of type string. Received type number');return allocUnsafe(r)}return from(r,n,i)}function from(r,n,i){if("string"==typeof r)return function(r,n){if(("string"!=typeof n||""===n)&&(n="utf8"),!Buffer.isEncoding(n))throw TypeError("Unknown encoding: "+n);var i=0|byteLength(r,n),o=createBuffer(i),a=o.write(r,n);return a!==i&&(o=o.slice(0,a)),o}(r,n);if(ArrayBuffer.isView(r))return function(r){if(isInstance(r,Uint8Array)){var n=new Uint8Array(r);return fromArrayBuffer(n.buffer,n.byteOffset,n.byteLength)}return fromArrayLike(r)}(r);if(null==r)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(isInstance(r,ArrayBuffer)||r&&isInstance(r.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(isInstance(r,SharedArrayBuffer)||r&&isInstance(r.buffer,SharedArrayBuffer)))return fromArrayBuffer(r,n,i);if("number"==typeof r)throw TypeError('The "value" argument must not be of type number. Received type number');var o=r.valueOf&&r.valueOf();if(null!=o&&o!==r)return Buffer.from(o,n,i);var a=function(r){if(Buffer.isBuffer(r)){var n,i=0|checked(r.length),o=createBuffer(i);return 0===o.length||r.copy(o,0,0,i),o}return void 0!==r.length?"number"!=typeof r.length||(n=r.length)!=n?createBuffer(0):fromArrayLike(r):"Buffer"===r.type&&Array.isArray(r.data)?fromArrayLike(r.data):void 0}(r);if(a)return a;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof r[Symbol.toPrimitive])return Buffer.from(r[Symbol.toPrimitive]("string"),n,i);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}function assertSize(r){if("number"!=typeof r)throw TypeError('"size" argument must be of type number');if(r<0)throw RangeError('The value "'+r+'" is invalid for option "size"')}function allocUnsafe(r){return assertSize(r),createBuffer(r<0?0:0|checked(r))}function fromArrayLike(r){for(var n=r.length<0?0:0|checked(r.length),i=createBuffer(n),o=0;o<n;o+=1)i[o]=255&r[o];return i}function fromArrayBuffer(r,n,i){var o;if(n<0||r.byteLength<n)throw RangeError('"offset" is outside of buffer bounds');if(r.byteLength<n+(i||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(o=void 0===n&&void 0===i?new Uint8Array(r):void 0===i?new Uint8Array(r,n):new Uint8Array(r,n,i),Buffer.prototype),o}function checked(r){if(r>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|r}function byteLength(r,n){if(Buffer.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||isInstance(r,ArrayBuffer))return r.byteLength;if("string"!=typeof r)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);var i=r.length,o=arguments.length>2&&!0===arguments[2];if(!o&&0===i)return 0;for(var a=!1;;)switch(n){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return utf8ToBytes(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return base64ToBytes(r).length;default:if(a)return o?-1:utf8ToBytes(r).length;n=(""+n).toLowerCase(),a=!0}}function slowToString(r,n,i){var a,c,u=!1;if((void 0===n||n<0)&&(n=0),n>this.length||((void 0===i||i>this.length)&&(i=this.length),i<=0||(i>>>=0)<=(n>>>=0)))return"";for(r||(r="utf8");;)switch(r){case"hex":return function(r,n,i){var o=r.length;(!n||n<0)&&(n=0),(!i||i<0||i>o)&&(i=o);for(var a="",c=n;c<i;++c)a+=l[r[c]];return a}(this,n,i);case"utf8":case"utf-8":return utf8Slice(this,n,i);case"ascii":return function(r,n,i){var o="";i=Math.min(r.length,i);for(var a=n;a<i;++a)o+=String.fromCharCode(127&r[a]);return o}(this,n,i);case"latin1":case"binary":return function(r,n,i){var o="";i=Math.min(r.length,i);for(var a=n;a<i;++a)o+=String.fromCharCode(r[a]);return o}(this,n,i);case"base64":return a=n,c=i,0===a&&c===this.length?o.fromByteArray(this):o.fromByteArray(this.slice(a,c));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(r,n,i){for(var o=r.slice(n,i),a="",c=0;c<o.length-1;c+=2)a+=String.fromCharCode(o[c]+256*o[c+1]);return a}(this,n,i);default:if(u)throw TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),u=!0}}function swap(r,n,i){var o=r[n];r[n]=r[i],r[i]=o}function bidirectionalIndexOf(r,n,i,o,a){var c;if(0===r.length)return -1;if("string"==typeof i?(o=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),(c=i=+i)!=c&&(i=a?0:r.length-1),i<0&&(i=r.length+i),i>=r.length){if(a)return -1;i=r.length-1}else if(i<0){if(!a)return -1;i=0}if("string"==typeof n&&(n=Buffer.from(n,o)),Buffer.isBuffer(n))return 0===n.length?-1:arrayIndexOf(r,n,i,o,a);if("number"==typeof n)return(n&=255,"function"==typeof Uint8Array.prototype.indexOf)?a?Uint8Array.prototype.indexOf.call(r,n,i):Uint8Array.prototype.lastIndexOf.call(r,n,i):arrayIndexOf(r,[n],i,o,a);throw TypeError("val must be string, number or Buffer")}function arrayIndexOf(r,n,i,o,a){var c,u=1,l=r.length,p=n.length;if(void 0!==o&&("ucs2"===(o=String(o).toLowerCase())||"ucs-2"===o||"utf16le"===o||"utf-16le"===o)){if(r.length<2||n.length<2)return -1;u=2,l/=2,p/=2,i/=2}function read(r,n){return 1===u?r[n]:r.readUInt16BE(n*u)}if(a){var S=-1;for(c=i;c<l;c++)if(read(r,c)===read(n,-1===S?0:c-S)){if(-1===S&&(S=c),c-S+1===p)return S*u}else -1!==S&&(c-=c-S),S=-1}else for(i+p>l&&(i=l-p),c=i;c>=0;c--){for(var k=!0,O=0;O<p;O++)if(read(r,c+O)!==read(n,O)){k=!1;break}if(k)return c}return -1}function utf8Slice(r,n,i){i=Math.min(r.length,i);for(var o=[],a=n;a<i;){var c,u,l,p,S=r[a],k=null,O=S>239?4:S>223?3:S>191?2:1;if(a+O<=i)switch(O){case 1:S<128&&(k=S);break;case 2:(192&(c=r[a+1]))==128&&(p=(31&S)<<6|63&c)>127&&(k=p);break;case 3:c=r[a+1],u=r[a+2],(192&c)==128&&(192&u)==128&&(p=(15&S)<<12|(63&c)<<6|63&u)>2047&&(p<55296||p>57343)&&(k=p);break;case 4:c=r[a+1],u=r[a+2],l=r[a+3],(192&c)==128&&(192&u)==128&&(192&l)==128&&(p=(15&S)<<18|(63&c)<<12|(63&u)<<6|63&l)>65535&&p<1114112&&(k=p)}null===k?(k=65533,O=1):k>65535&&(k-=65536,o.push(k>>>10&1023|55296),k=56320|1023&k),o.push(k),a+=O}return function(r){var n=r.length;if(n<=4096)return String.fromCharCode.apply(String,r);for(var i="",o=0;o<n;)i+=String.fromCharCode.apply(String,r.slice(o,o+=4096));return i}(o)}function checkOffset(r,n,i){if(r%1!=0||r<0)throw RangeError("offset is not uint");if(r+n>i)throw RangeError("Trying to access beyond buffer length")}function checkInt(r,n,i,o,a,c){if(!Buffer.isBuffer(r))throw TypeError('"buffer" argument must be a Buffer instance');if(n>a||n<c)throw RangeError('"value" argument is out of bounds');if(i+o>r.length)throw RangeError("Index out of range")}function checkIEEE754(r,n,i,o,a,c){if(i+o>r.length||i<0)throw RangeError("Index out of range")}function writeFloat(r,n,i,o,c){return n=+n,i>>>=0,c||checkIEEE754(r,n,i,4,34028234663852886e22,-34028234663852886e22),a.write(r,n,i,o,23,4),i+4}function writeDouble(r,n,i,o,c){return n=+n,i>>>=0,c||checkIEEE754(r,n,i,8,17976931348623157e292,-17976931348623157e292),a.write(r,n,i,o,52,8),i+8}n.Buffer=Buffer,n.SlowBuffer=function(r){return+r!=r&&(r=0),Buffer.alloc(+r)},n.INSPECT_MAX_BYTES=50,n.kMaxLength=2147483647,Buffer.TYPED_ARRAY_SUPPORT=function(){try{var r=new Uint8Array(1),n={foo:function(){return 42}};return Object.setPrototypeOf(n,Uint8Array.prototype),Object.setPrototypeOf(r,n),42===r.foo()}catch(r){return!1}}(),Buffer.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Buffer.prototype,"parent",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.buffer}}),Object.defineProperty(Buffer.prototype,"offset",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.byteOffset}}),Buffer.poolSize=8192,Buffer.from=function(r,n,i){return from(r,n,i)},Object.setPrototypeOf(Buffer.prototype,Uint8Array.prototype),Object.setPrototypeOf(Buffer,Uint8Array),Buffer.alloc=function(r,n,i){return(assertSize(r),r<=0)?createBuffer(r):void 0!==n?"string"==typeof i?createBuffer(r).fill(n,i):createBuffer(r).fill(n):createBuffer(r)},Buffer.allocUnsafe=function(r){return allocUnsafe(r)},Buffer.allocUnsafeSlow=function(r){return allocUnsafe(r)},Buffer.isBuffer=function(r){return null!=r&&!0===r._isBuffer&&r!==Buffer.prototype},Buffer.compare=function(r,n){if(isInstance(r,Uint8Array)&&(r=Buffer.from(r,r.offset,r.byteLength)),isInstance(n,Uint8Array)&&(n=Buffer.from(n,n.offset,n.byteLength)),!Buffer.isBuffer(r)||!Buffer.isBuffer(n))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(r===n)return 0;for(var i=r.length,o=n.length,a=0,c=Math.min(i,o);a<c;++a)if(r[a]!==n[a]){i=r[a],o=n[a];break}return i<o?-1:o<i?1:0},Buffer.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(r,n){if(!Array.isArray(r))throw TypeError('"list" argument must be an Array of Buffers');if(0===r.length)return Buffer.alloc(0);if(void 0===n)for(i=0,n=0;i<r.length;++i)n+=r[i].length;var i,o=Buffer.allocUnsafe(n),a=0;for(i=0;i<r.length;++i){var c=r[i];if(isInstance(c,Uint8Array))a+c.length>o.length?Buffer.from(c).copy(o,a):Uint8Array.prototype.set.call(o,c,a);else if(Buffer.isBuffer(c))c.copy(o,a);else throw TypeError('"list" argument must be an Array of Buffers');a+=c.length}return o},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var r=this.length;if(r%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<r;n+=2)swap(this,n,n+1);return this},Buffer.prototype.swap32=function(){var r=this.length;if(r%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<r;n+=4)swap(this,n,n+3),swap(this,n+1,n+2);return this},Buffer.prototype.swap64=function(){var r=this.length;if(r%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<r;n+=8)swap(this,n,n+7),swap(this,n+1,n+6),swap(this,n+2,n+5),swap(this,n+3,n+4);return this},Buffer.prototype.toString=function(){var r=this.length;return 0===r?"":0==arguments.length?utf8Slice(this,0,r):slowToString.apply(this,arguments)},Buffer.prototype.toLocaleString=Buffer.prototype.toString,Buffer.prototype.equals=function(r){if(!Buffer.isBuffer(r))throw TypeError("Argument must be a Buffer");return this===r||0===Buffer.compare(this,r)},Buffer.prototype.inspect=function(){var r="",i=n.INSPECT_MAX_BYTES;return r=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(r+=" ... "),"<Buffer "+r+">"},c&&(Buffer.prototype[c]=Buffer.prototype.inspect),Buffer.prototype.compare=function(r,n,i,o,a){if(isInstance(r,Uint8Array)&&(r=Buffer.from(r,r.offset,r.byteLength)),!Buffer.isBuffer(r))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof r);if(void 0===n&&(n=0),void 0===i&&(i=r?r.length:0),void 0===o&&(o=0),void 0===a&&(a=this.length),n<0||i>r.length||o<0||a>this.length)throw RangeError("out of range index");if(o>=a&&n>=i)return 0;if(o>=a)return -1;if(n>=i)return 1;if(n>>>=0,i>>>=0,o>>>=0,a>>>=0,this===r)return 0;for(var c=a-o,u=i-n,l=Math.min(c,u),p=this.slice(o,a),S=r.slice(n,i),k=0;k<l;++k)if(p[k]!==S[k]){c=p[k],u=S[k];break}return c<u?-1:u<c?1:0},Buffer.prototype.includes=function(r,n,i){return -1!==this.indexOf(r,n,i)},Buffer.prototype.indexOf=function(r,n,i){return bidirectionalIndexOf(this,r,n,i,!0)},Buffer.prototype.lastIndexOf=function(r,n,i){return bidirectionalIndexOf(this,r,n,i,!1)},Buffer.prototype.write=function(r,n,i,o){if(void 0===n)o="utf8",i=this.length,n=0;else if(void 0===i&&"string"==typeof n)o=n,i=this.length,n=0;else if(isFinite(n))n>>>=0,isFinite(i)?(i>>>=0,void 0===o&&(o="utf8")):(o=i,i=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var a,c,u,l,p,S,k,O,w=this.length-n;if((void 0===i||i>w)&&(i=w),r.length>0&&(i<0||n<0)||n>this.length)throw RangeError("Attempt to write outside buffer bounds");o||(o="utf8");for(var C=!1;;)switch(o){case"hex":return function(r,n,i,o){i=Number(i)||0;var a=r.length-i;o?(o=Number(o))>a&&(o=a):o=a;var c=n.length;o>c/2&&(o=c/2);for(var u=0;u<o;++u){var l=parseInt(n.substr(2*u,2),16);if(l!=l)break;r[i+u]=l}return u}(this,r,n,i);case"utf8":case"utf-8":return a=n,c=i,blitBuffer(utf8ToBytes(r,this.length-a),this,a,c);case"ascii":case"latin1":case"binary":return u=n,l=i,blitBuffer(function(r){for(var n=[],i=0;i<r.length;++i)n.push(255&r.charCodeAt(i));return n}(r),this,u,l);case"base64":return p=n,S=i,blitBuffer(base64ToBytes(r),this,p,S);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k=n,O=i,blitBuffer(function(r,n){for(var i,o,a=[],c=0;c<r.length&&!((n-=2)<0);++c)o=(i=r.charCodeAt(c))>>8,a.push(i%256),a.push(o);return a}(r,this.length-k),this,k,O);default:if(C)throw TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),C=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},Buffer.prototype.slice=function(r,n){var i=this.length;r=~~r,n=void 0===n?i:~~n,r<0?(r+=i)<0&&(r=0):r>i&&(r=i),n<0?(n+=i)<0&&(n=0):n>i&&(n=i),n<r&&(n=r);var o=this.subarray(r,n);return Object.setPrototypeOf(o,Buffer.prototype),o},Buffer.prototype.readUintLE=Buffer.prototype.readUIntLE=function(r,n,i){r>>>=0,n>>>=0,i||checkOffset(r,n,this.length);for(var o=this[r],a=1,c=0;++c<n&&(a*=256);)o+=this[r+c]*a;return o},Buffer.prototype.readUintBE=Buffer.prototype.readUIntBE=function(r,n,i){r>>>=0,n>>>=0,i||checkOffset(r,n,this.length);for(var o=this[r+--n],a=1;n>0&&(a*=256);)o+=this[r+--n]*a;return o},Buffer.prototype.readUint8=Buffer.prototype.readUInt8=function(r,n){return r>>>=0,n||checkOffset(r,1,this.length),this[r]},Buffer.prototype.readUint16LE=Buffer.prototype.readUInt16LE=function(r,n){return r>>>=0,n||checkOffset(r,2,this.length),this[r]|this[r+1]<<8},Buffer.prototype.readUint16BE=Buffer.prototype.readUInt16BE=function(r,n){return r>>>=0,n||checkOffset(r,2,this.length),this[r]<<8|this[r+1]},Buffer.prototype.readUint32LE=Buffer.prototype.readUInt32LE=function(r,n){return r>>>=0,n||checkOffset(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+16777216*this[r+3]},Buffer.prototype.readUint32BE=Buffer.prototype.readUInt32BE=function(r,n){return r>>>=0,n||checkOffset(r,4,this.length),16777216*this[r]+(this[r+1]<<16|this[r+2]<<8|this[r+3])},Buffer.prototype.readIntLE=function(r,n,i){r>>>=0,n>>>=0,i||checkOffset(r,n,this.length);for(var o=this[r],a=1,c=0;++c<n&&(a*=256);)o+=this[r+c]*a;return o>=(a*=128)&&(o-=Math.pow(2,8*n)),o},Buffer.prototype.readIntBE=function(r,n,i){r>>>=0,n>>>=0,i||checkOffset(r,n,this.length);for(var o=n,a=1,c=this[r+--o];o>0&&(a*=256);)c+=this[r+--o]*a;return c>=(a*=128)&&(c-=Math.pow(2,8*n)),c},Buffer.prototype.readInt8=function(r,n){return(r>>>=0,n||checkOffset(r,1,this.length),128&this[r])?-((255-this[r]+1)*1):this[r]},Buffer.prototype.readInt16LE=function(r,n){r>>>=0,n||checkOffset(r,2,this.length);var i=this[r]|this[r+1]<<8;return 32768&i?4294901760|i:i},Buffer.prototype.readInt16BE=function(r,n){r>>>=0,n||checkOffset(r,2,this.length);var i=this[r+1]|this[r]<<8;return 32768&i?4294901760|i:i},Buffer.prototype.readInt32LE=function(r,n){return r>>>=0,n||checkOffset(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24},Buffer.prototype.readInt32BE=function(r,n){return r>>>=0,n||checkOffset(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]},Buffer.prototype.readFloatLE=function(r,n){return r>>>=0,n||checkOffset(r,4,this.length),a.read(this,r,!0,23,4)},Buffer.prototype.readFloatBE=function(r,n){return r>>>=0,n||checkOffset(r,4,this.length),a.read(this,r,!1,23,4)},Buffer.prototype.readDoubleLE=function(r,n){return r>>>=0,n||checkOffset(r,8,this.length),a.read(this,r,!0,52,8)},Buffer.prototype.readDoubleBE=function(r,n){return r>>>=0,n||checkOffset(r,8,this.length),a.read(this,r,!1,52,8)},Buffer.prototype.writeUintLE=Buffer.prototype.writeUIntLE=function(r,n,i,o){if(r=+r,n>>>=0,i>>>=0,!o){var a=Math.pow(2,8*i)-1;checkInt(this,r,n,i,a,0)}var c=1,u=0;for(this[n]=255&r;++u<i&&(c*=256);)this[n+u]=r/c&255;return n+i},Buffer.prototype.writeUintBE=Buffer.prototype.writeUIntBE=function(r,n,i,o){if(r=+r,n>>>=0,i>>>=0,!o){var a=Math.pow(2,8*i)-1;checkInt(this,r,n,i,a,0)}var c=i-1,u=1;for(this[n+c]=255&r;--c>=0&&(u*=256);)this[n+c]=r/u&255;return n+i},Buffer.prototype.writeUint8=Buffer.prototype.writeUInt8=function(r,n,i){return r=+r,n>>>=0,i||checkInt(this,r,n,1,255,0),this[n]=255&r,n+1},Buffer.prototype.writeUint16LE=Buffer.prototype.writeUInt16LE=function(r,n,i){return r=+r,n>>>=0,i||checkInt(this,r,n,2,65535,0),this[n]=255&r,this[n+1]=r>>>8,n+2},Buffer.prototype.writeUint16BE=Buffer.prototype.writeUInt16BE=function(r,n,i){return r=+r,n>>>=0,i||checkInt(this,r,n,2,65535,0),this[n]=r>>>8,this[n+1]=255&r,n+2},Buffer.prototype.writeUint32LE=Buffer.prototype.writeUInt32LE=function(r,n,i){return r=+r,n>>>=0,i||checkInt(this,r,n,4,4294967295,0),this[n+3]=r>>>24,this[n+2]=r>>>16,this[n+1]=r>>>8,this[n]=255&r,n+4},Buffer.prototype.writeUint32BE=Buffer.prototype.writeUInt32BE=function(r,n,i){return r=+r,n>>>=0,i||checkInt(this,r,n,4,4294967295,0),this[n]=r>>>24,this[n+1]=r>>>16,this[n+2]=r>>>8,this[n+3]=255&r,n+4},Buffer.prototype.writeIntLE=function(r,n,i,o){if(r=+r,n>>>=0,!o){var a=Math.pow(2,8*i-1);checkInt(this,r,n,i,a-1,-a)}var c=0,u=1,l=0;for(this[n]=255&r;++c<i&&(u*=256);)r<0&&0===l&&0!==this[n+c-1]&&(l=1),this[n+c]=(r/u>>0)-l&255;return n+i},Buffer.prototype.writeIntBE=function(r,n,i,o){if(r=+r,n>>>=0,!o){var a=Math.pow(2,8*i-1);checkInt(this,r,n,i,a-1,-a)}var c=i-1,u=1,l=0;for(this[n+c]=255&r;--c>=0&&(u*=256);)r<0&&0===l&&0!==this[n+c+1]&&(l=1),this[n+c]=(r/u>>0)-l&255;return n+i},Buffer.prototype.writeInt8=function(r,n,i){return r=+r,n>>>=0,i||checkInt(this,r,n,1,127,-128),r<0&&(r=255+r+1),this[n]=255&r,n+1},Buffer.prototype.writeInt16LE=function(r,n,i){return r=+r,n>>>=0,i||checkInt(this,r,n,2,32767,-32768),this[n]=255&r,this[n+1]=r>>>8,n+2},Buffer.prototype.writeInt16BE=function(r,n,i){return r=+r,n>>>=0,i||checkInt(this,r,n,2,32767,-32768),this[n]=r>>>8,this[n+1]=255&r,n+2},Buffer.prototype.writeInt32LE=function(r,n,i){return r=+r,n>>>=0,i||checkInt(this,r,n,4,2147483647,-2147483648),this[n]=255&r,this[n+1]=r>>>8,this[n+2]=r>>>16,this[n+3]=r>>>24,n+4},Buffer.prototype.writeInt32BE=function(r,n,i){return r=+r,n>>>=0,i||checkInt(this,r,n,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),this[n]=r>>>24,this[n+1]=r>>>16,this[n+2]=r>>>8,this[n+3]=255&r,n+4},Buffer.prototype.writeFloatLE=function(r,n,i){return writeFloat(this,r,n,!0,i)},Buffer.prototype.writeFloatBE=function(r,n,i){return writeFloat(this,r,n,!1,i)},Buffer.prototype.writeDoubleLE=function(r,n,i){return writeDouble(this,r,n,!0,i)},Buffer.prototype.writeDoubleBE=function(r,n,i){return writeDouble(this,r,n,!1,i)},Buffer.prototype.copy=function(r,n,i,o){if(!Buffer.isBuffer(r))throw TypeError("argument should be a Buffer");if(i||(i=0),o||0===o||(o=this.length),n>=r.length&&(n=r.length),n||(n=0),o>0&&o<i&&(o=i),o===i||0===r.length||0===this.length)return 0;if(n<0)throw RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw RangeError("Index out of range");if(o<0)throw RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),r.length-n<o-i&&(o=r.length-n+i);var a=o-i;return this===r&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(n,i,o):Uint8Array.prototype.set.call(r,this.subarray(i,o),n),a},Buffer.prototype.fill=function(r,n,i,o){if("string"==typeof r){if("string"==typeof n?(o=n,n=0,i=this.length):"string"==typeof i&&(o=i,i=this.length),void 0!==o&&"string"!=typeof o)throw TypeError("encoding must be a string");if("string"==typeof o&&!Buffer.isEncoding(o))throw TypeError("Unknown encoding: "+o);if(1===r.length){var a,c=r.charCodeAt(0);("utf8"===o&&c<128||"latin1"===o)&&(r=c)}}else"number"==typeof r?r&=255:"boolean"==typeof r&&(r=Number(r));if(n<0||this.length<n||this.length<i)throw RangeError("Out of range index");if(i<=n)return this;if(n>>>=0,i=void 0===i?this.length:i>>>0,r||(r=0),"number"==typeof r)for(a=n;a<i;++a)this[a]=r;else{var u=Buffer.isBuffer(r)?r:Buffer.from(r,o),l=u.length;if(0===l)throw TypeError('The value "'+r+'" is invalid for argument "value"');for(a=0;a<i-n;++a)this[a+n]=u[a%l]}return this};var u=/[^+/0-9A-Za-z-_]/g;function utf8ToBytes(r,n){n=n||1/0;for(var i,o=r.length,a=null,c=[],u=0;u<o;++u){if((i=r.charCodeAt(u))>55295&&i<57344){if(!a){if(i>56319||u+1===o){(n-=3)>-1&&c.push(239,191,189);continue}a=i;continue}if(i<56320){(n-=3)>-1&&c.push(239,191,189),a=i;continue}i=(a-55296<<10|i-56320)+65536}else a&&(n-=3)>-1&&c.push(239,191,189);if(a=null,i<128){if((n-=1)<0)break;c.push(i)}else if(i<2048){if((n-=2)<0)break;c.push(i>>6|192,63&i|128)}else if(i<65536){if((n-=3)<0)break;c.push(i>>12|224,i>>6&63|128,63&i|128)}else if(i<1114112){if((n-=4)<0)break;c.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else throw Error("Invalid code point")}return c}function base64ToBytes(r){return o.toByteArray(function(r){if((r=(r=r.split("=")[0]).trim().replace(u,"")).length<2)return"";for(;r.length%4!=0;)r+="=";return r}(r))}function blitBuffer(r,n,i,o){for(var a=0;a<o&&!(a+i>=n.length)&&!(a>=r.length);++a)n[a+i]=r[a];return a}function isInstance(r,n){return r instanceof n||null!=r&&null!=r.constructor&&null!=r.constructor.name&&r.constructor.name===n.name}var l=function(){for(var r="0123456789abcdef",n=Array(256),i=0;i<16;++i)for(var o=16*i,a=0;a<16;++a)n[o+a]=r[i]+r[a];return n}()},4342:function(r,n,i){"use strict";var o=i(3235),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},c={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},u={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function getStatics(r){return o.isMemo(r)?u:l[r.$$typeof]||a}l[o.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[o.Memo]=u;var p=Object.defineProperty,S=Object.getOwnPropertyNames,k=Object.getOwnPropertySymbols,O=Object.getOwnPropertyDescriptor,w=Object.getPrototypeOf,C=Object.prototype;r.exports=function hoistNonReactStatics(r,n,i){if("string"!=typeof n){if(C){var o=w(n);o&&o!==C&&hoistNonReactStatics(r,o,i)}var a=S(n);k&&(a=a.concat(k(n)));for(var u=getStatics(r),l=getStatics(n),I=0;I<a.length;++I){var R=a[I];if(!c[R]&&!(i&&i[R])&&!(l&&l[R])&&!(u&&u[R])){var x=O(n,R);try{p(r,R,x)}catch(r){}}}}return r}},284:function(r,n){"use strict";/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,c=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,p=i?Symbol.for("react.provider"):60109,S=i?Symbol.for("react.context"):60110,k=i?Symbol.for("react.async_mode"):60111,O=i?Symbol.for("react.concurrent_mode"):60111,w=i?Symbol.for("react.forward_ref"):60112,C=i?Symbol.for("react.suspense"):60113,I=i?Symbol.for("react.suspense_list"):60120,R=i?Symbol.for("react.memo"):60115,x=i?Symbol.for("react.lazy"):60116,j=i?Symbol.for("react.block"):60121,N=i?Symbol.for("react.fundamental"):60117,W=i?Symbol.for("react.responder"):60118,G=i?Symbol.for("react.scope"):60119;function z(r){if("object"==typeof r&&null!==r){var n=r.$$typeof;switch(n){case o:switch(r=r.type){case k:case O:case c:case l:case u:case C:return r;default:switch(r=r&&r.$$typeof){case S:case w:case x:case R:case p:return r;default:return n}}case a:return n}}}function A(r){return z(r)===O}n.AsyncMode=k,n.ConcurrentMode=O,n.ContextConsumer=S,n.ContextProvider=p,n.Element=o,n.ForwardRef=w,n.Fragment=c,n.Lazy=x,n.Memo=R,n.Portal=a,n.Profiler=l,n.StrictMode=u,n.Suspense=C,n.isAsyncMode=function(r){return A(r)||z(r)===k},n.isConcurrentMode=A,n.isContextConsumer=function(r){return z(r)===S},n.isContextProvider=function(r){return z(r)===p},n.isElement=function(r){return"object"==typeof r&&null!==r&&r.$$typeof===o},n.isForwardRef=function(r){return z(r)===w},n.isFragment=function(r){return z(r)===c},n.isLazy=function(r){return z(r)===x},n.isMemo=function(r){return z(r)===R},n.isPortal=function(r){return z(r)===a},n.isProfiler=function(r){return z(r)===l},n.isStrictMode=function(r){return z(r)===u},n.isSuspense=function(r){return z(r)===C},n.isValidElementType=function(r){return"string"==typeof r||"function"==typeof r||r===c||r===O||r===l||r===u||r===C||r===I||"object"==typeof r&&null!==r&&(r.$$typeof===x||r.$$typeof===R||r.$$typeof===p||r.$$typeof===S||r.$$typeof===w||r.$$typeof===N||r.$$typeof===W||r.$$typeof===G||r.$$typeof===j)},n.typeOf=z},3235:function(r,n,i){"use strict";r.exports=i(284)},381:function(r,n){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */n.read=function(r,n,i,o,a){var c,u,l=8*a-o-1,p=(1<<l)-1,S=p>>1,k=-7,O=i?a-1:0,w=i?-1:1,C=r[n+O];for(O+=w,c=C&(1<<-k)-1,C>>=-k,k+=l;k>0;c=256*c+r[n+O],O+=w,k-=8);for(u=c&(1<<-k)-1,c>>=-k,k+=o;k>0;u=256*u+r[n+O],O+=w,k-=8);if(0===c)c=1-S;else{if(c===p)return u?NaN:(C?-1:1)*(1/0);u+=Math.pow(2,o),c-=S}return(C?-1:1)*u*Math.pow(2,c-o)},n.write=function(r,n,i,o,a,c){var u,l,p,S=8*c-a-1,k=(1<<S)-1,O=k>>1,w=23===a?5960464477539062e-23:0,C=o?0:c-1,I=o?1:-1,R=n<0||0===n&&1/n<0?1:0;for(isNaN(n=Math.abs(n))||n===1/0?(l=isNaN(n)?1:0,u=k):(u=Math.floor(Math.log(n)/Math.LN2),n*(p=Math.pow(2,-u))<1&&(u--,p*=2),u+O>=1?n+=w/p:n+=w*Math.pow(2,1-O),n*p>=2&&(u++,p/=2),u+O>=k?(l=0,u=k):u+O>=1?(l=(n*p-1)*Math.pow(2,a),u+=O):(l=n*Math.pow(2,O-1)*Math.pow(2,a),u=0));a>=8;r[i+C]=255&l,C+=I,l/=256,a-=8);for(u=u<<a|l,S+=a;S>0;r[i+C]=255&u,C+=I,u/=256,S-=8);r[i+C-I]|=128*R}},7707:function(r,n,i){r.exports=i(6862)},8104:function(r,n,i){"use strict";var o,a;r.exports=(null==(o=i.g.process)?void 0:o.env)&&"object"==typeof(null==(a=i.g.process)?void 0:a.env)?i.g.process:i(163)},163:function(r){!function(){var n={229:function(r){var n,i,o,a=r.exports={};function defaultSetTimout(){throw Error("setTimeout has not been defined")}function defaultClearTimeout(){throw Error("clearTimeout has not been defined")}function runTimeout(r){if(n===setTimeout)return setTimeout(r,0);if((n===defaultSetTimout||!n)&&setTimeout)return n=setTimeout,setTimeout(r,0);try{return n(r,0)}catch(i){try{return n.call(null,r,0)}catch(i){return n.call(this,r,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(r){n=defaultSetTimout}try{i="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(r){i=defaultClearTimeout}}();var c=[],u=!1,l=-1;function cleanUpNextTick(){u&&o&&(u=!1,o.length?c=o.concat(c):l=-1,c.length&&drainQueue())}function drainQueue(){if(!u){var r=runTimeout(cleanUpNextTick);u=!0;for(var n=c.length;n;){for(o=c,c=[];++l<n;)o&&o[l].run();l=-1,n=c.length}o=null,u=!1,function(r){if(i===clearTimeout)return clearTimeout(r);if((i===defaultClearTimeout||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(r);try{i(r)}catch(n){try{return i.call(null,r)}catch(n){return i.call(this,r)}}}(r)}}function Item(r,n){this.fun=r,this.array=n}function noop(){}a.nextTick=function(r){var n=Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)n[i-1]=arguments[i];c.push(new Item(r,n)),1!==c.length||u||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=noop,a.addListener=noop,a.once=noop,a.off=noop,a.removeListener=noop,a.removeAllListeners=noop,a.emit=noop,a.prependListener=noop,a.prependOnceListener=noop,a.listeners=function(r){return[]},a.binding=function(r){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(r){throw Error("process.chdir is not supported")},a.umask=function(){return 0}}},i={};function __nccwpck_require__(r){var o=i[r];if(void 0!==o)return o.exports;var a=i[r]={exports:{}},c=!0;try{n[r](a,a.exports,__nccwpck_require__),c=!1}finally{c&&delete i[r]}return a.exports}__nccwpck_require__.ab="//";var o=__nccwpck_require__(229);r.exports=o}()},8896:function(r,n,i){r.exports=i(2410)},8526:function(r,n,i){r.exports=i(793)},2959:function(r,n){"use strict";/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i,o=Symbol.for("react.element"),a=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),S=Symbol.for("react.context"),k=Symbol.for("react.server_context"),O=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen");i=Symbol.for("react.module.reference"),n.isValidElementType=function(r){return"string"==typeof r||"function"==typeof r||r===c||r===l||r===u||r===w||r===C||r===x||"object"==typeof r&&null!==r&&(r.$$typeof===R||r.$$typeof===I||r.$$typeof===p||r.$$typeof===S||r.$$typeof===O||r.$$typeof===i||void 0!==r.getModuleId)},n.typeOf=function(r){if("object"==typeof r&&null!==r){var n=r.$$typeof;switch(n){case o:switch(r=r.type){case c:case l:case u:case w:case C:return r;default:switch(r=r&&r.$$typeof){case k:case S:case O:case R:case I:case p:return r;default:return n}}case a:return n}}}},4035:function(r,n,i){"use strict";r.exports=i(2959)},1366:function(r){r.exports=function(r,n,i,o){var a=i?i.call(o,r,n):void 0;if(void 0!==a)return!!a;if(r===n)return!0;if("object"!=typeof r||!r||"object"!=typeof n||!n)return!1;var c=Object.keys(r),u=Object.keys(n);if(c.length!==u.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),p=0;p<c.length;p++){var S=c[p];if(!l(S))return!1;var k=r[S],O=n[S];if(!1===(a=i?i.call(o,k,O,S):void 0)||void 0===a&&k!==O)return!1}return!0}},5980:function(r,n,i){"use strict";i.d(n,{vJ:function(){return $e},iv:function(){return Ae},ZP:function(){return ex},F4:function(){return We}});var o,a=i(4035),c=i(1844),u=i(1366),l=i.n(u),stylis_browser_esm=function(r){function X(r,n,i){var o=n.trim().split(u);n=o;var a=o.length,c=r.length;switch(c){case 0:case 1:var l=0;for(r=0===c?"":r[0]+" ";l<a;++l)n[l]=Z(r,n[l],i).trim();break;default:var p=l=0;for(n=[];l<a;++l)for(var S=0;S<c;++S)n[p++]=Z(r[S]+" ",o[l],i).trim()}return n}function Z(r,n,i){var o=n.charCodeAt(0);switch(33>o&&(o=(n=n.trim()).charCodeAt(0)),o){case 38:return n.replace(l,"$1"+r.trim());case 58:return r.trim()+n.replace(l,"$1"+r.trim());default:if(0<1*i&&0<n.indexOf("\f"))return n.replace(l,(58===r.charCodeAt(0)?"":"$1")+r.trim())}return r+n}function P(r,n,i,u){var l=r+";",p=2*n+3*i+4*u;if(944===p){r=l.indexOf(":",9)+1;var S=l.substring(r,l.length-1).trim();return S=l.substring(0,r).trim()+S+";",1===$||2===$&&L(S,1)?"-webkit-"+S+S:S}if(0===$||2===$&&!L(l,1))return l;switch(p){case 1015:return 97===l.charCodeAt(10)?"-webkit-"+l+l:l;case 951:return 116===l.charCodeAt(3)?"-webkit-"+l+l:l;case 963:return 110===l.charCodeAt(5)?"-webkit-"+l+l:l;case 1009:if(100!==l.charCodeAt(4))break;case 969:case 942:return"-webkit-"+l+l;case 978:return"-webkit-"+l+"-moz-"+l+l;case 1019:case 983:return"-webkit-"+l+"-moz-"+l+"-ms-"+l+l;case 883:if(45===l.charCodeAt(8))return"-webkit-"+l+l;if(0<l.indexOf("image-set(",11))return l.replace(j,"$1-webkit-$2")+l;break;case 932:if(45===l.charCodeAt(4))switch(l.charCodeAt(5)){case 103:return"-webkit-box-"+l.replace("-grow","")+"-webkit-"+l+"-ms-"+l.replace("grow","positive")+l;case 115:return"-webkit-"+l+"-ms-"+l.replace("shrink","negative")+l;case 98:return"-webkit-"+l+"-ms-"+l.replace("basis","preferred-size")+l}return"-webkit-"+l+"-ms-"+l+l;case 964:return"-webkit-"+l+"-ms-flex-"+l+l;case 1023:if(99!==l.charCodeAt(8))break;return"-webkit-box-pack"+(S=l.substring(l.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+l+"-ms-flex-pack"+S+l;case 1005:return a.test(l)?l.replace(o,":-webkit-")+l.replace(o,":-moz-")+l:l;case 1e3:switch(n=(S=l.substring(13).trim()).indexOf("-")+1,S.charCodeAt(0)+S.charCodeAt(n)){case 226:S=l.replace(O,"tb");break;case 232:S=l.replace(O,"tb-rl");break;case 220:S=l.replace(O,"lr");break;default:return l}return"-webkit-"+l+"-ms-"+S+l;case 1017:if(-1===l.indexOf("sticky",9))break;case 975:switch(n=(l=r).length-10,p=(S=(33===l.charCodeAt(n)?l.substring(0,n):l).substring(r.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|S.charCodeAt(7))){case 203:if(111>S.charCodeAt(8))break;case 115:l=l.replace(S,"-webkit-"+S)+";"+l;break;case 207:case 102:l=l.replace(S,"-webkit-"+(102<p?"inline-":"")+"box")+";"+l.replace(S,"-webkit-"+S)+";"+l.replace(S,"-ms-"+S+"box")+";"+l}return l+";";case 938:if(45===l.charCodeAt(5))switch(l.charCodeAt(6)){case 105:return S=l.replace("-items",""),"-webkit-"+l+"-webkit-box-"+S+"-ms-flex-"+S+l;case 115:return"-webkit-"+l+"-ms-flex-item-"+l.replace(I,"")+l;default:return"-webkit-"+l+"-ms-flex-line-pack"+l.replace("align-content","").replace(I,"")+l}break;case 973:case 989:if(45!==l.charCodeAt(3)||122===l.charCodeAt(4))break;case 931:case 953:if(!0===x.test(r))return 115===(S=r.substring(r.indexOf(":")+1)).charCodeAt(0)?P(r.replace("stretch","fill-available"),n,i,u).replace(":fill-available",":stretch"):l.replace(S,"-webkit-"+S)+l.replace(S,"-moz-"+S.replace("fill-",""))+l;break;case 962:if(l="-webkit-"+l+(102===l.charCodeAt(5)?"-ms-"+l:"")+l,211===i+u&&105===l.charCodeAt(13)&&0<l.indexOf("transform",10))return l.substring(0,l.indexOf(";",27)+1).replace(c,"$1-webkit-$2")+l}return l}function L(r,n){var i=r.indexOf(1===n?":":"{"),o=r.substring(0,3!==n?i:10);return i=r.substring(i+1,r.length-1),en(2!==n?o:o.replace(R,"$1"),i,n)}function ea(r,n){var i=P(n,n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2));return i!==n+";"?i.replace(C," or ($1)").substring(4):"("+n+")"}function H(r,n,i,o,a,c,u,l,p,S){for(var k,O=0,w=n;O<er;++O)switch(k=et[O].call(B,r,w,i,o,a,c,u,l,p,S)){case void 0:case!1:case!0:case null:break;default:w=k}if(w!==n)return w}function U(r){return void 0!==(r=r.prefix)&&(en=null,r?"function"!=typeof r?$=1:($=2,en=r):$=0),U}function B(r,o){var a=r;if(33>a.charCodeAt(0)&&(a=a.trim()),a=[a],0<er){var c=H(-1,o,a,a,W,N,0,0,0,0);void 0!==c&&"string"==typeof c&&(o=c)}var u=function M(r,o,a,c,u){for(var l,O,C,I,R,x=0,j=0,et=0,en=0,eo=0,es=0,ec=C=l=0,eu=0,el=0,ef=0,ed=0,ep=a.length,eh=ep-1,ev="",em="",ey="",eg="";eu<ep;){if(O=a.charCodeAt(eu),eu===eh&&0!==j+en+et+x&&(0!==j&&(O=47===j?10:47),en=et=x=0,ep++,eh++),0===j+en+et+x){if(eu===eh&&(0<el&&(ev=ev.replace(i,"")),0<ev.trim().length)){switch(O){case 32:case 9:case 59:case 13:case 10:break;default:ev+=a.charAt(eu)}O=59}switch(O){case 123:for(l=(ev=ev.trim()).charCodeAt(0),C=1,ed=++eu;eu<ep;){switch(O=a.charCodeAt(eu)){case 123:C++;break;case 125:C--;break;case 47:switch(O=a.charCodeAt(eu+1)){case 42:case 47:e:{for(ec=eu+1;ec<eh;++ec)switch(a.charCodeAt(ec)){case 47:if(42===O&&42===a.charCodeAt(ec-1)&&eu+2!==ec){eu=ec+1;break e}break;case 10:if(47===O){eu=ec+1;break e}}eu=ec}}break;case 91:O++;case 40:O++;case 34:case 39:for(;eu++<eh&&a.charCodeAt(eu)!==O;);}if(0===C)break;eu++}if(C=a.substring(ed,eu),0===l&&(l=(ev=ev.replace(n,"").trim()).charCodeAt(0)),64===l){switch(0<el&&(ev=ev.replace(i,"")),O=ev.charCodeAt(1)){case 100:case 109:case 115:case 45:el=o;break;default:el=J}if(ed=(C=M(o,el,C,O,u+1)).length,0<er&&(R=H(3,C,el=X(J,ev,ef),o,W,N,ed,O,u,c),ev=el.join(""),void 0!==R&&0===(ed=(C=R.trim()).length)&&(O=0,C="")),0<ed)switch(O){case 115:ev=ev.replace(w,ea);case 100:case 109:case 45:C=ev+"{"+C+"}";break;case 107:C=(ev=ev.replace(p,"$1 $2"))+"{"+C+"}",C=1===$||2===$&&L("@"+C,3)?"@-webkit-"+C+"@"+C:"@"+C;break;default:C=ev+C,112===c&&(em+=C,C="")}else C=""}else C=M(o,X(o,ev,ef),C,c,u+1);ey+=C,C=ef=el=ec=l=0,ev="",O=a.charCodeAt(++eu);break;case 125:case 59:if(1<(ed=(ev=(0<el?ev.replace(i,""):ev).trim()).length))switch(0===ec&&(45===(l=ev.charCodeAt(0))||96<l&&123>l)&&(ed=(ev=ev.replace(" ",":")).length),0<er&&void 0!==(R=H(1,ev,o,r,W,N,em.length,c,u,c))&&0===(ed=(ev=R.trim()).length)&&(ev="\x00\x00"),l=ev.charCodeAt(0),O=ev.charCodeAt(1),l){case 0:break;case 64:if(105===O||99===O){eg+=ev+a.charAt(eu);break}default:58!==ev.charCodeAt(ed-1)&&(em+=P(ev,l,O,ev.charCodeAt(2)))}ef=el=ec=l=0,ev="",O=a.charCodeAt(++eu)}}switch(O){case 13:case 10:47===j?j=0:0===1+l&&107!==c&&0<ev.length&&(el=1,ev+="\x00"),0<er*ei&&H(0,ev,o,r,W,N,em.length,c,u,c),N=1,W++;break;case 59:case 125:if(0===j+en+et+x){N++;break}default:switch(N++,I=a.charAt(eu),O){case 9:case 32:if(0===en+x+j)switch(eo){case 44:case 58:case 9:case 32:I="";break;default:32!==O&&(I=" ")}break;case 0:I="\\0";break;case 12:I="\\f";break;case 11:I="\\v";break;case 38:0===en+j+x&&(el=ef=1,I="\f"+I);break;case 108:if(0===en+j+x+G&&0<ec)switch(eu-ec){case 2:112===eo&&58===a.charCodeAt(eu-3)&&(G=eo);case 8:111===es&&(G=es)}break;case 58:0===en+j+x&&(ec=eu);break;case 44:0===j+et+en+x&&(el=1,I+="\r");break;case 34:case 39:0===j&&(en=en===O?0:0===en?O:en);break;case 91:0===en+j+et&&x++;break;case 93:0===en+j+et&&x--;break;case 41:0===en+j+x&&et--;break;case 40:0===en+j+x&&(0===l&&(2*eo+3*es==533||(l=1)),et++);break;case 64:0===j+et+en+x+ec+C&&(C=1);break;case 42:case 47:if(!(0<en+x+et))switch(j){case 0:switch(2*O+3*a.charCodeAt(eu+1)){case 235:j=47;break;case 220:ed=eu,j=42}break;case 42:47===O&&42===eo&&ed+2!==eu&&(33===a.charCodeAt(ed+2)&&(em+=a.substring(ed,eu+1)),I="",j=0)}}0===j&&(ev+=I)}es=eo,eo=O,eu++}if(0<(ed=em.length)){if(el=o,0<er&&void 0!==(R=H(2,em,el,r,W,N,ed,c,u,c))&&0===(em=R).length)return eg+em+ey;if(em=el.join(",")+"{"+em+"}",0!=$*G){switch(2!==$||L(em,2)||(G=0),G){case 111:em=em.replace(k,":-moz-$1")+em;break;case 112:em=em.replace(S,"::-webkit-input-$1")+em.replace(S,"::-moz-$1")+em.replace(S,":-ms-input-$1")+em}G=0}}return eg+em+ey}(J,a,o,0,0);return 0<er&&void 0!==(c=H(-2,u,a,a,W,N,u.length,0,0,0))&&(u=c),G=0,N=W=1,u}var n=/^\0+/g,i=/[\0\r\f]/g,o=/: */g,a=/zoo|gra/,c=/([,: ])(transform)/g,u=/,\r+?/g,l=/([\t\r\n ])*\f?&/g,p=/@(k\w+)\s*(\S*)\s*/,S=/::(place)/g,k=/:(read-only)/g,O=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,C=/([\s\S]*?);/g,I=/-self|flex-/g,R=/[^]*?(:[rp][el]a[\w-]+)[^]*/,x=/stretch|:\s*\w+\-(?:conte|avail)/,j=/([^-])(image-set\()/,N=1,W=1,G=0,$=1,J=[],et=[],er=0,en=null,ei=0;return B.use=function T(r){switch(r){case void 0:case null:er=et.length=0;break;default:if("function"==typeof r)et[er++]=r;else if("object"==typeof r)for(var n=0,i=r.length;n<i;++n)T(r[n]);else ei=0|!!r}return T},B.set=U,void 0!==r&&U(r),B},p={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},S=i(9953),k=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,O=(0,S.Z)(function(r){return k.test(r)||111===r.charCodeAt(0)&&110===r.charCodeAt(1)&&91>r.charCodeAt(2)}),w=i(4342),C=i.n(w),I=i(8104);function y(){return(y=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])}return r}).apply(this,arguments)}var v=function(r,n){for(var i=[r[0]],o=0,a=n.length;o<a;o+=1)i.push(n[o],r[o+1]);return i},g=function(r){return null!==r&&"object"==typeof r&&"[object Object]"===(r.toString?r.toString():Object.prototype.toString.call(r))&&!(0,a.typeOf)(r)},R=Object.freeze([]),x=Object.freeze({});function E(r){return"function"==typeof r}function b(r){return r.displayName||r.name||"Component"}function _(r){return r&&"string"==typeof r.styledComponentId}var j=void 0!==I&&void 0!==I.env&&(I.env.REACT_APP_SC_ATTR||I.env.SC_ATTR)||"data-styled",N="HTMLElement"in window,W=!!("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:void 0!==I&&void 0!==I.env&&(void 0!==I.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==I.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==I.env.REACT_APP_SC_DISABLE_SPEEDY&&I.env.REACT_APP_SC_DISABLE_SPEEDY:void 0!==I.env.SC_DISABLE_SPEEDY&&""!==I.env.SC_DISABLE_SPEEDY&&"false"!==I.env.SC_DISABLE_SPEEDY&&I.env.SC_DISABLE_SPEEDY)),G={};function D(r){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];throw Error("An error occurred. See https://git.io/JUIaE#"+r+" for more information."+(i.length>0?" Args: "+i.join(", "):""))}var $=function(){function e(r){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=r}var r=e.prototype;return r.indexOfGroup=function(r){for(var n=0,i=0;i<r;i++)n+=this.groupSizes[i];return n},r.insertRules=function(r,n){if(r>=this.groupSizes.length){for(var i=this.groupSizes,o=i.length,a=o;r>=a;)(a<<=1)<0&&D(16,""+r);this.groupSizes=new Uint32Array(a),this.groupSizes.set(i),this.length=a;for(var c=o;c<a;c++)this.groupSizes[c]=0}for(var u=this.indexOfGroup(r+1),l=0,p=n.length;l<p;l++)this.tag.insertRule(u,n[l])&&(this.groupSizes[r]++,u++)},r.clearGroup=function(r){if(r<this.length){var n=this.groupSizes[r],i=this.indexOfGroup(r),o=i+n;this.groupSizes[r]=0;for(var a=i;a<o;a++)this.tag.deleteRule(i)}},r.getGroup=function(r){var n="";if(r>=this.length||0===this.groupSizes[r])return n;for(var i=this.groupSizes[r],o=this.indexOfGroup(r),a=o+i,c=o;c<a;c++)n+=this.tag.getRule(c)+"/*!sc*/\n";return n},e}(),J=new Map,et=new Map,er=1,V=function(r){if(J.has(r))return J.get(r);for(;et.has(er);)er++;var n=er++;return J.set(r,n),et.set(n,r),n},z=function(r,n){n>=er&&(er=n+1),J.set(r,n),et.set(n,r)},en="style["+j+'][data-styled-version="5.3.11"]',ei=RegExp("^"+j+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),L=function(r,n,i){for(var o,a=i.split(","),c=0,u=a.length;c<u;c++)(o=a[c])&&r.registerName(n,o)},F=function(r,n){for(var i=(n.textContent||"").split("/*!sc*/\n"),o=[],a=0,c=i.length;a<c;a++){var u=i[a].trim();if(u){var l=u.match(ei);if(l){var p=0|parseInt(l[1],10),S=l[2];0!==p&&(z(S,p),L(r,S,l[3]),r.getTag().insertRules(p,o)),o.length=0}else o.push(u)}}},Y=function(){return i.nc},q=function(r){var n=document.head,i=r||n,o=document.createElement("style"),a=function(r){for(var n=r.childNodes,i=n.length;i>=0;i--){var o=n[i];if(o&&1===o.nodeType&&o.hasAttribute(j))return o}}(i),c=void 0!==a?a.nextSibling:null;o.setAttribute(j,"active"),o.setAttribute("data-styled-version","5.3.11");var u=Y();return u&&o.setAttribute("nonce",u),i.insertBefore(o,c),o},eo=function(){function e(r){var n=this.element=q(r);n.appendChild(document.createTextNode("")),this.sheet=function(r){if(r.sheet)return r.sheet;for(var n=document.styleSheets,i=0,o=n.length;i<o;i++){var a=n[i];if(a.ownerNode===r)return a}D(17)}(n),this.length=0}var r=e.prototype;return r.insertRule=function(r,n){try{return this.sheet.insertRule(n,r),this.length++,!0}catch(r){return!1}},r.deleteRule=function(r){this.sheet.deleteRule(r),this.length--},r.getRule=function(r){var n=this.sheet.cssRules[r];return void 0!==n&&"string"==typeof n.cssText?n.cssText:""},e}(),es=function(){function e(r){var n=this.element=q(r);this.nodes=n.childNodes,this.length=0}var r=e.prototype;return r.insertRule=function(r,n){if(r<=this.length&&r>=0){var i=document.createTextNode(n),o=this.nodes[r];return this.element.insertBefore(i,o||null),this.length++,!0}return!1},r.deleteRule=function(r){this.element.removeChild(this.nodes[r]),this.length--},r.getRule=function(r){return r<this.length?this.nodes[r].textContent:""},e}(),ec=function(){function e(r){this.rules=[],this.length=0}var r=e.prototype;return r.insertRule=function(r,n){return r<=this.length&&(this.rules.splice(r,0,n),this.length++,!0)},r.deleteRule=function(r){this.rules.splice(r,1),this.length--},r.getRule=function(r){return r<this.length?this.rules[r]:""},e}(),eu=N,el={isServer:!N,useCSSOMInjection:!W},ef=function(){function e(r,n,i){void 0===r&&(r=x),void 0===n&&(n={}),this.options=y({},el,{},r),this.gs=n,this.names=new Map(i),this.server=!!r.isServer,!this.server&&N&&eu&&(eu=!1,function(r){for(var n=document.querySelectorAll(en),i=0,o=n.length;i<o;i++){var a=n[i];a&&"active"!==a.getAttribute(j)&&(F(r,a),a.parentNode&&a.parentNode.removeChild(a))}}(this))}e.registerId=function(r){return V(r)};var r=e.prototype;return r.reconstructWithOptions=function(r,n){return void 0===n&&(n=!0),new e(y({},this.options,{},r),this.gs,n&&this.names||void 0)},r.allocateGSInstance=function(r){return this.gs[r]=(this.gs[r]||0)+1},r.getTag=function(){var r,n,i,o,a;return this.tag||(this.tag=(i=(n=this.options).isServer,o=n.useCSSOMInjection,a=n.target,r=i?new ec(a):o?new eo(a):new es(a),new $(r)))},r.hasNameForId=function(r,n){return this.names.has(r)&&this.names.get(r).has(n)},r.registerName=function(r,n){if(V(r),this.names.has(r))this.names.get(r).add(n);else{var i=new Set;i.add(n),this.names.set(r,i)}},r.insertRules=function(r,n,i){this.registerName(r,n),this.getTag().insertRules(V(r),i)},r.clearNames=function(r){this.names.has(r)&&this.names.get(r).clear()},r.clearRules=function(r){this.getTag().clearGroup(V(r)),this.clearNames(r)},r.clearTag=function(){this.tag=void 0},r.toString=function(){return function(r){for(var n=r.getTag(),i=n.length,o="",a=0;a<i;a++){var c,u=(c=a,et.get(c));if(void 0!==u){var l=r.names.get(u),p=n.getGroup(a);if(l&&p&&l.size){var S=j+".g"+a+'[id="'+u+'"]',k="";void 0!==l&&l.forEach(function(r){r.length>0&&(k+=r+",")}),o+=""+p+S+'{content:"'+k+'"}/*!sc*/\n'}}}return o}(this)},e}(),ed=/(a)(d)/gi,K=function(r){return String.fromCharCode(r+(r>25?39:97))};function Q(r){var n,i="";for(n=Math.abs(r);n>52;n=n/52|0)i=K(n%52)+i;return(K(n%52)+i).replace(ed,"$1-$2")}var ee=function(r,n){for(var i=n.length;i;)r=33*r^n.charCodeAt(--i);return r},te=function(r){return ee(5381,r)};function ne(r){for(var n=0;n<r.length;n+=1){var i=r[n];if(E(i)&&!_(i))return!1}return!0}var ep=te("5.3.11"),eh=function(){function e(r,n,i){this.rules=r,this.staticRulesId="",this.isStatic=(void 0===i||i.isStatic)&&ne(r),this.componentId=n,this.baseHash=ee(ep,n),this.baseStyle=i,ef.registerId(n)}return e.prototype.generateAndInjectStyles=function(r,n,i){var o=this.componentId,a=[];if(this.baseStyle&&a.push(this.baseStyle.generateAndInjectStyles(r,n,i)),this.isStatic&&!i.hash){if(this.staticRulesId&&n.hasNameForId(o,this.staticRulesId))a.push(this.staticRulesId);else{var c=_e(this.rules,r,n,i).join(""),u=Q(ee(this.baseHash,c)>>>0);if(!n.hasNameForId(o,u)){var l=i(c,"."+u,void 0,o);n.insertRules(o,u,l)}a.push(u),this.staticRulesId=u}}else{for(var p=this.rules.length,S=ee(this.baseHash,i.hash),k="",O=0;O<p;O++){var w=this.rules[O];if("string"==typeof w)k+=w;else if(w){var C=_e(w,r,n,i),I=Array.isArray(C)?C.join(""):C;S=ee(S,I+O),k+=I}}if(k){var R=Q(S>>>0);if(!n.hasNameForId(o,R)){var x=i(k,"."+R,void 0,o);n.insertRules(o,R,x)}a.push(R)}}return a.join(" ")},e}(),ev=/^\s*\/\/.*$/gm,em=[":","[",".","#"];function ae(r){var n,i,o,a,c=void 0===r?x:r,u=c.options,l=void 0===u?x:u,p=c.plugins,S=void 0===p?R:p,k=new stylis_browser_esm(l),O=[],w=function(r){function t(n){if(n)try{r(n+"}")}catch(r){}}return function(n,i,o,a,c,u,l,p,S,k){switch(n){case 1:if(0===S&&64===i.charCodeAt(0))return r(i+";"),"";break;case 2:if(0===p)return i+"/*|*/";break;case 3:switch(p){case 102:case 112:return r(o[0]+i),"";default:return i+(0===k?"/*|*/":"")}case -2:i.split("/*|*/}").forEach(t)}}}(function(r){O.push(r)}),f=function(r,o,c){return 0===o&&-1!==em.indexOf(c[i.length])||c.match(a)?r:"."+n};function m(r,c,u,l){void 0===l&&(l="&");var p=r.replace(ev,""),S=c&&u?u+" "+c+" { "+p+" }":p;return n=l,o=RegExp("\\"+(i=c)+"\\b","g"),a=RegExp("(\\"+i+"\\b){2,}"),k(u||!c?"":c,S)}return k.use([].concat(S,[function(r,n,a){2===r&&a.length&&a[0].lastIndexOf(i)>0&&(a[0]=a[0].replace(o,f))},w,function(r){if(-2===r){var n=O;return O=[],n}}])),m.hash=S.length?S.reduce(function(r,n){return n.name||D(15),ee(r,n.name)},5381).toString():"",m}var ey=c.createContext(),eg=(ey.Consumer,c.createContext()),e_=(eg.Consumer,new ef),eb=ae();function pe(){return(0,c.useContext)(ey)||e_}function fe(){return(0,c.useContext)(eg)||eb}function me(r){var n=(0,c.useState)(r.stylisPlugins),i=n[0],o=n[1],a=pe(),u=(0,c.useMemo)(function(){var n=a;return r.sheet?n=r.sheet:r.target&&(n=n.reconstructWithOptions({target:r.target},!1)),r.disableCSSOMInjection&&(n=n.reconstructWithOptions({useCSSOMInjection:!1})),n},[r.disableCSSOMInjection,r.sheet,r.target]),p=(0,c.useMemo)(function(){return ae({options:{prefix:!r.disableVendorPrefixes},plugins:i})},[r.disableVendorPrefixes,i]);return(0,c.useEffect)(function(){l()(i,r.stylisPlugins)||o(r.stylisPlugins)},[r.stylisPlugins]),c.createElement(ey.Provider,{value:u},c.createElement(eg.Provider,{value:p},r.children))}var eS=function(){function e(r,n){var i=this;this.inject=function(r,n){void 0===n&&(n=eb);var o=i.name+n.hash;r.hasNameForId(i.id,o)||r.insertRules(i.id,o,n(i.rules,o,"@keyframes"))},this.toString=function(){return D(12,String(i.name))},this.name=r,this.id="sc-keyframes-"+r,this.rules=n}return e.prototype.getName=function(r){return void 0===r&&(r=eb),this.name+r.hash},e}(),eE=/([A-Z])/,ek=/([A-Z])/g,eT=/^ms-/,we=function(r){return"-"+r.toLowerCase()};function Ee(r){return eE.test(r)?r.replace(ek,we).replace(eT,"-ms-"):r}var be=function(r){return null==r||!1===r||""===r};function _e(r,n,i,o){if(Array.isArray(r)){for(var a,c=[],u=0,l=r.length;u<l;u+=1)""!==(a=_e(r[u],n,i,o))&&(Array.isArray(a)?c.push.apply(c,a):c.push(a));return c}return be(r)?"":_(r)?"."+r.styledComponentId:E(r)?"function"!=typeof r||r.prototype&&r.prototype.isReactComponent||!n?r:_e(r(n),n,i,o):r instanceof eS?i?(r.inject(i,o),r.getName(o)):r:g(r)?function e(r,n){var i,o=[];for(var a in r)r.hasOwnProperty(a)&&!be(r[a])&&(Array.isArray(r[a])&&r[a].isCss||E(r[a])?o.push(Ee(a)+":",r[a],";"):g(r[a])?o.push.apply(o,e(r[a],a)):o.push(Ee(a)+": "+(null==(i=r[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||a in p||a.startsWith("--")?String(i).trim():i+"px")+";"));return n?[n+" {"].concat(o,["}"]):o}(r):r.toString()}var Ne=function(r){return Array.isArray(r)&&(r.isCss=!0),r};function Ae(r){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return E(r)||g(r)?Ne(_e(v(R,[r].concat(i)))):0===i.length&&1===r.length&&"string"==typeof r[0]?r:Ne(_e(v(r,i)))}var Oe=function(r,n,i){return void 0===i&&(i=x),r.theme!==i.theme&&r.theme||n||i.theme},eO=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ew=/(^-|-$)/g;function je(r){return r.replace(eO,"-").replace(ew,"")}var Te=function(r){return Q(te(r)>>>0)};function xe(r){return"string"==typeof r}var ke=function(r){return"function"==typeof r||"object"==typeof r&&null!==r&&!Array.isArray(r)},eC=c.createContext();eC.Consumer;var eI={},qe=function(r){return function e(r,n,i){if(void 0===i&&(i=x),!(0,a.isValidElementType)(n))return D(1,String(n));var s=function(){return r(n,i,Ae.apply(void 0,arguments))};return s.withConfig=function(o){return e(r,n,y({},i,{},o))},s.attrs=function(o){return e(r,n,y({},i,{attrs:Array.prototype.concat(i.attrs,o).filter(Boolean)}))},s}(function Ye(r,n,i){var o=_(r),a=!xe(r),u=n.attrs,l=void 0===u?R:u,p=n.componentId,S=void 0===p?(W=n.displayName,G=n.parentComponentId,eI[$="string"!=typeof W?"sc":je(W)]=(eI[$]||0)+1,J=$+"-"+Te("5.3.11"+$+eI[$]),G?G+"-"+J:J):p,k=n.displayName,w=void 0===k?xe(r)?"styled."+r:"Styled("+b(r)+")":k,I=n.displayName&&n.componentId?je(n.displayName)+"-"+n.componentId:n.componentId||S,j=o&&r.attrs?Array.prototype.concat(r.attrs,l).filter(Boolean):l,N=n.shouldForwardProp;o&&r.shouldForwardProp&&(N=n.shouldForwardProp?function(i,o,a){return r.shouldForwardProp(i,o,a)&&n.shouldForwardProp(i,o,a)}:r.shouldForwardProp);var W,G,$,J,et,er=new eh(i,I,o?r.componentStyle:void 0),en=er.isStatic&&0===l.length,P=function(r,n){return function(r,n,i,o){var a,u,l,p,S,k=r.attrs,w=r.componentStyle,C=r.defaultProps,I=r.foldedComponentIds,R=r.shouldForwardProp,j=r.styledComponentId,N=r.target,W=(void 0===(a=Oe(n,(0,c.useContext)(eC),C)||x)&&(a=x),u=y({},n,{theme:a}),l={},k.forEach(function(r){var n,i,o,a=r;for(n in E(a)&&(a=a(u)),a)u[n]=l[n]="className"===n?(i=l[n],o=a[n],i&&o?i+" "+o:i||o):a[n]}),[u,l]),G=W[0],$=W[1],J=(p=pe(),S=fe(),o?w.generateAndInjectStyles(x,p,S):w.generateAndInjectStyles(G,p,S)),et=$.$as||n.$as||$.as||n.as||N,er=xe(et),en=$!==n?y({},n,{},$):n,ei={};for(var eo in en)"$"!==eo[0]&&"as"!==eo&&("forwardedAs"===eo?ei.as=en[eo]:(R?R(eo,O,et):!er||O(eo))&&(ei[eo]=en[eo]));return n.style&&$.style!==n.style&&(ei.style=y({},n.style,{},$.style)),ei.className=Array.prototype.concat(I,j,J!==j?J:null,n.className,$.className).filter(Boolean).join(" "),ei.ref=i,(0,c.createElement)(et,ei)}(et,r,n,en)};return P.displayName=w,(et=c.forwardRef(P)).attrs=j,et.componentStyle=er,et.displayName=w,et.shouldForwardProp=N,et.foldedComponentIds=o?Array.prototype.concat(r.foldedComponentIds,r.styledComponentId):R,et.styledComponentId=I,et.target=o?r.target:r,et.withComponent=function(r){var o=n.componentId,a=function(r,n){if(null==r)return{};var i,o,a={},c=Object.keys(r);for(o=0;o<c.length;o++)n.indexOf(i=c[o])>=0||(a[i]=r[i]);return a}(n,["componentId"]),c=o&&o+"-"+(xe(r)?r:je(b(r)));return Ye(r,y({},a,{attrs:j,componentId:c}),i)},Object.defineProperty(et,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(n){this._foldedDefaultProps=o?function ze(r){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];for(var a=0;a<i.length;a++){var c=i[a];if(ke(c))for(var u in c)"__proto__"!==u&&"constructor"!==u&&"prototype"!==u&&function(r,n,i){var o=r[i];ke(n)&&ke(o)?ze(o,n):r[i]=n}(r,c[u],u)}return r}({},r.defaultProps,n):n}}),Object.defineProperty(et,"toString",{value:function(){return"."+et.styledComponentId}}),a&&C()(et,r,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),et},r)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(r){qe[r]=qe(r)});var eR=function(){function e(r,n){this.rules=r,this.componentId=n,this.isStatic=ne(r),ef.registerId(this.componentId+1)}var r=e.prototype;return r.createStyles=function(r,n,i,o){var a=o(_e(this.rules,n,i,o).join(""),""),c=this.componentId+r;i.insertRules(c,c,a)},r.removeStyles=function(r,n){n.clearRules(this.componentId+r)},r.renderStyles=function(r,n,i,o){r>2&&ef.registerId(this.componentId+r),this.removeStyles(r,i),this.createStyles(r,n,i,o)},e}();function $e(r){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var a=Ae.apply(void 0,[r].concat(i)),u="sc-global-"+Te(JSON.stringify(a)),l=new eR(a,u);function d(r){var n=pe(),i=fe(),o=(0,c.useContext)(eC),a=(0,c.useRef)(n.allocateGSInstance(u)).current;return n.server&&h(a,r,n,o,i),(0,c.useLayoutEffect)(function(){if(!n.server)return h(a,r,n,o,i),function(){return l.removeStyles(a,n)}},[a,r,n,o,i]),null}function h(r,n,i,o,a){if(l.isStatic)l.renderStyles(r,G,i,a);else{var c=y({},n,{theme:Oe(n,o,d.defaultProps)});l.renderStyles(r,c,i,a)}}return c.memo(d)}function We(r){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var a=Ae.apply(void 0,[r].concat(i)).join(""),c=Te(a);return new eS(c,a)}(o=(function(){var r=this;this._emitSheetCSS=function(){var n=r.instance.toString();if(!n)return"";var i=Y();return"<style "+[i&&'nonce="'+i+'"',j+'="true"','data-styled-version="5.3.11"'].filter(Boolean).join(" ")+">"+n+"</style>"},this.getStyleTags=function(){return r.sealed?D(2):r._emitSheetCSS()},this.getStyleElement=function(){if(r.sealed)return D(2);var n,i=((n={})[j]="",n["data-styled-version"]="5.3.11",n.dangerouslySetInnerHTML={__html:r.instance.toString()},n),o=Y();return o&&(i.nonce=o),[c.createElement("style",y({},i,{key:"sc-0-0"}))]},this.seal=function(){r.sealed=!0},this.instance=new ef({isServer:!0}),this.sealed=!1}).prototype).collectStyles=function(r){return this.sealed?D(2):c.createElement(me,{sheet:this.instance},r)},o.interleaveWithNodeStream=function(r){return D(3)};var ex=qe},8126:function(r,n,i){"use strict";var o,a,c,u,l,p,S,k,O,w,C,I,R,x,j,N,W,G,$,J,et,er,en,ei,eo,es,ec,eu=i(4714),el=i(2674),ef=i(6506),ed=i(2188),ep=Object.prototype.toString;function isError(r){switch(ep.call(r)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return isInstanceOf(r,Error)}}function isBuiltin(r,n){return ep.call(r)==="[object ".concat(n,"]")}function isErrorEvent(r){return isBuiltin(r,"ErrorEvent")}function isDOMError(r){return isBuiltin(r,"DOMError")}function isString(r){return isBuiltin(r,"String")}function is_isPrimitive(r){return null===r||"object"!=typeof r&&"function"!=typeof r}function isPlainObject(r){return isBuiltin(r,"Object")}function isEvent(r){return"undefined"!=typeof Event&&isInstanceOf(r,Event)}function is_isThenable(r){return!!(r&&r.then&&"function"==typeof r.then)}function is_isNaN(r){return"number"==typeof r&&r!=r}function isInstanceOf(r,n){try{return r instanceof n}catch(r){return!1}}function isVueViewModel(r){return!!("object"==typeof r&&null!==r&&(r.__isVue||r._isVue))}var eh=i(1501),ev=(0,eh.Rf)();function htmlTreeAsString(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!r)return"<unknown>";try{for(var i,o=r,a=[],c=0,u=0,l=Array.isArray(n)?n:n.keyAttrs,p=!Array.isArray(n)&&n.maxStringLength||80;o&&c++<5&&(i=function(r,n){var i,o,a,c,u,l=[];if(!r||!r.tagName)return"";l.push(r.tagName.toLowerCase());var p=n&&n.length?n.filter(function(n){return r.getAttribute(n)}).map(function(n){return[n,r.getAttribute(n)]}):null;if(p&&p.length)p.forEach(function(r){l.push("[".concat(r[0],'="').concat(r[1],'"]'))});else if(r.id&&l.push("#".concat(r.id)),(i=r.className)&&isString(i))for(u=0,o=i.split(/\s+/);u<o.length;u++)l.push(".".concat(o[u]));var S=["aria-label","type","name","title","alt"];for(u=0;u<S.length;u++)a=S[u],(c=r.getAttribute(a))&&l.push("[".concat(a,'="').concat(c,'"]'));return l.join("")}(o,l),"html"!==i&&(!(c>1)||!(u+3*a.length+i.length>=p)));)a.push(i),u+=i.length,o=o.parentNode;return a.reverse().join(" > ")}catch(r){return"<unknown>"}}function truncate(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"string"!=typeof r||0===n?r:r.length<=n?r:"".concat(r.slice(0,n),"...")}function safeJoin(r,n){if(!Array.isArray(r))return"";for(var i=[],o=0;o<r.length;o++){var a=r[o];try{isVueViewModel(a)?i.push("[VueViewModel]"):i.push(String(a))}catch(r){i.push("[value cannot be serialized]")}}return i.join(n)}function stringMatchesSomePattern(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n.some(function(n){return function(r,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!isString(r)&&(isBuiltin(n,"RegExp")?n.test(r):!!isString(n)&&(i?r===n:r.includes(n)))}(r,n,i)})}function ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}function _objectSpread(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}function fill(r,n,i){if(n in r){var o=r[n],a=i(o);"function"==typeof a&&markFunctionWrapped(a,o),r[n]=a}}function addNonEnumerableProperty(r,n,i){try{Object.defineProperty(r,n,{value:i,writable:!0,configurable:!0})}catch(r){}}function markFunctionWrapped(r,n){try{var i=n.prototype||{};r.prototype=n.prototype=i,addNonEnumerableProperty(r,"__sentry_original__",n)}catch(r){}}function getOriginalFunction(r){return r.__sentry_original__}function convertToPlainObject(r){if(isError(r))return _objectSpread({message:r.message,name:r.name,stack:r.stack},getOwnProperties(r));if(!isEvent(r))return r;var n=_objectSpread({type:r.type,target:serializeEventTarget(r.target),currentTarget:serializeEventTarget(r.currentTarget)},getOwnProperties(r));return"undefined"!=typeof CustomEvent&&isInstanceOf(r,CustomEvent)&&(n.detail=r.detail),n}function serializeEventTarget(r){try{return"undefined"!=typeof Element&&isInstanceOf(r,Element)?htmlTreeAsString(r):Object.prototype.toString.call(r)}catch(r){return"<unknown>"}}function getOwnProperties(r){if("object"!=typeof r||null===r)return{};var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i]);return n}function dropUndefinedKeys(r){return function _dropUndefinedKeys(r,n){if(isPlainObject(r)){var i=n.get(r);if(void 0!==i)return i;var o={};n.set(r,o);for(var a=0,c=Object.keys(r);a<c.length;a++){var u=c[a];void 0!==r[u]&&(o[u]=_dropUndefinedKeys(r[u],n))}return o}if(Array.isArray(r)){var l=n.get(r);if(void 0!==l)return l;var p=[];return n.set(r,p),r.forEach(function(r){p.push(_dropUndefinedKeys(r,n))}),p}return r}(r,new Map)}function misc_ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}function misc_objectSpread(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?misc_ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):misc_ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}function misc_uuid4(){var r=eh.n2,n=r.crypto||r.msCrypto,getRandomByte=function(){return 16*Math.random()};try{if(n&&n.randomUUID)return n.randomUUID().replace(/-/g,"");n&&n.getRandomValues&&(getRandomByte=function(){return n.getRandomValues(new Uint8Array(1))[0]})}catch(r){}return"10000000100040008000100000000000".replace(/[018]/g,function(r){return(r^(15&getRandomByte())>>r/4).toString(16)})}function getFirstException(r){return r.exception&&r.exception.values?r.exception.values[0]:void 0}function addExceptionTypeValue(r,n,i){var o=r.exception=r.exception||{},a=o.values=o.values||[],c=a[0]=a[0]||{};c.value||(c.value=n||""),c.type||(c.type=i||"Error")}function addExceptionMechanism(r,n){var i=getFirstException(r);if(i){var o=i.mechanism;if(i.mechanism=misc_objectSpread(misc_objectSpread(misc_objectSpread({},{type:"generic",handled:!0}),o),n),n&&"data"in n){var a=misc_objectSpread(misc_objectSpread({},o&&o.data),n.data);i.mechanism.data=a}}}function checkOrSetAlreadyCaught(r){if(r&&r.__sentry_captured__)return!0;try{addNonEnumerableProperty(r,"__sentry_captured__",!0)}catch(r){}return!1}function arrayify(r){return Array.isArray(r)?r:[r]}var em=i(7063),ey=["debug","info","warn","error","log","assert","trace"],eg={};o=!1,a={enable:function(){o=!0},disable:function(){o=!1},isEnabled:function(){return o}},ey.forEach(function(r){a[r]=function(){}});var e_="production";function resolvedSyncPromise(r){return new eb(function(n){n(r)})}function rejectedSyncPromise(r){return new eb(function(n,i){i(r)})}(c=w||(w={}))[c.PENDING=0]="PENDING",c[c.RESOLVED=1]="RESOLVED",c[c.REJECTED=2]="REJECTED";var eb=function(){function SyncPromise(r){(0,ef.Z)(this,SyncPromise),SyncPromise.prototype.__init.call(this),SyncPromise.prototype.__init2.call(this),SyncPromise.prototype.__init3.call(this),SyncPromise.prototype.__init4.call(this),this._state=w.PENDING,this._handlers=[];try{r(this._resolve,this._reject)}catch(r){this._reject(r)}}return(0,ed.Z)(SyncPromise,[{key:"then",value:function(r,n){var i=this;return new SyncPromise(function(o,a){i._handlers.push([!1,function(n){if(r)try{o(r(n))}catch(r){a(r)}else o(n)},function(r){if(n)try{o(n(r))}catch(r){a(r)}else a(r)}]),i._executeHandlers()})}},{key:"catch",value:function(r){return this.then(function(r){return r},r)}},{key:"finally",value:function(r){var n=this;return new SyncPromise(function(i,o){var a,c;return n.then(function(n){c=!1,a=n,r&&r()},function(n){c=!0,a=n,r&&r()}).then(function(){if(c){o(a);return}i(a)})})}},{key:"__init",value:function(){var r=this;this._resolve=function(n){r._setResult(w.RESOLVED,n)}}},{key:"__init2",value:function(){var r=this;this._reject=function(n){r._setResult(w.REJECTED,n)}}},{key:"__init3",value:function(){var r=this;this._setResult=function(n,i){if(r._state===w.PENDING){if(is_isThenable(i)){i.then(r._resolve,r._reject);return}r._state=n,r._value=i,r._executeHandlers()}}}},{key:"__init4",value:function(){var r=this;this._executeHandlers=function(){if(r._state!==w.PENDING){var n=r._handlers.slice();r._handlers=[],n.forEach(function(n){n[0]||(r._state===w.RESOLVED&&n[1](r._value),r._state===w.REJECTED&&n[2](r._value),n[0]=!0)})}}}}]),SyncPromise}();function eventProcessors_ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}function getGlobalEventProcessors(){return(0,eh.YO)("globalEventProcessors",function(){return[]})}function addGlobalEventProcessor(r){getGlobalEventProcessors().push(r)}function notifyEventProcessors(r,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return new eb(function(a,c){var u=r[o];if(null===n||"function"!=typeof u)a(n);else{var l=u(function(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?eventProcessors_ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):eventProcessors_ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}({},n),i);is_isThenable(l)?l.then(function(n){return notifyEventProcessors(r,n,i,o+1).then(a)}).then(null,c):notifyEventProcessors(r,l,i,o+1).then(a).then(null,c)}})}function updateSession(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!n.user||(!r.ipAddress&&n.user.ip_address&&(r.ipAddress=n.user.ip_address),r.did||n.did||(r.did=n.user.id||n.user.email||n.user.username)),r.timestamp=n.timestamp||(0,em.ph)(),n.abnormal_mechanism&&(r.abnormal_mechanism=n.abnormal_mechanism),n.ignoreDuration&&(r.ignoreDuration=n.ignoreDuration),n.sid&&(r.sid=32===n.sid.length?n.sid:misc_uuid4()),void 0!==n.init&&(r.init=n.init),!r.did&&n.did&&(r.did="".concat(n.did)),"number"==typeof n.started&&(r.started=n.started),r.ignoreDuration)r.duration=void 0;else if("number"==typeof n.duration)r.duration=n.duration;else{var i=r.timestamp-r.started;r.duration=i>=0?i:0}n.release&&(r.release=n.release),n.environment&&(r.environment=n.environment),!r.ipAddress&&n.ipAddress&&(r.ipAddress=n.ipAddress),!r.userAgent&&n.userAgent&&(r.userAgent=n.userAgent),"number"==typeof n.errors&&(r.errors=n.errors),n.status&&(r.status=n.status)}function scope_ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}function scope_objectSpread(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?scope_ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):scope_ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}var eS=function(){function Scope(){(0,ef.Z)(this,Scope),this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=generatePropagationContext()}return(0,ed.Z)(Scope,[{key:"addScopeListener",value:function(r){this._scopeListeners.push(r)}},{key:"addEventProcessor",value:function(r){return this._eventProcessors.push(r),this}},{key:"setUser",value:function(r){return this._user=r||{},this._session&&updateSession(this._session,{user:r}),this._notifyScopeListeners(),this}},{key:"getUser",value:function(){return this._user}},{key:"getRequestSession",value:function(){return this._requestSession}},{key:"setRequestSession",value:function(r){return this._requestSession=r,this}},{key:"setTags",value:function(r){return this._tags=scope_objectSpread(scope_objectSpread({},this._tags),r),this._notifyScopeListeners(),this}},{key:"setTag",value:function(r,n){return this._tags=scope_objectSpread(scope_objectSpread({},this._tags),{},(0,el.Z)({},r,n)),this._notifyScopeListeners(),this}},{key:"setExtras",value:function(r){return this._extra=scope_objectSpread(scope_objectSpread({},this._extra),r),this._notifyScopeListeners(),this}},{key:"setExtra",value:function(r,n){return this._extra=scope_objectSpread(scope_objectSpread({},this._extra),{},(0,el.Z)({},r,n)),this._notifyScopeListeners(),this}},{key:"setFingerprint",value:function(r){return this._fingerprint=r,this._notifyScopeListeners(),this}},{key:"setLevel",value:function(r){return this._level=r,this._notifyScopeListeners(),this}},{key:"setTransactionName",value:function(r){return this._transactionName=r,this._notifyScopeListeners(),this}},{key:"setContext",value:function(r,n){return null===n?delete this._contexts[r]:this._contexts[r]=n,this._notifyScopeListeners(),this}},{key:"setSpan",value:function(r){return this._span=r,this._notifyScopeListeners(),this}},{key:"getSpan",value:function(){return this._span}},{key:"getTransaction",value:function(){var r=this.getSpan();return r&&r.transaction}},{key:"setSession",value:function(r){return r?this._session=r:delete this._session,this._notifyScopeListeners(),this}},{key:"getSession",value:function(){return this._session}},{key:"update",value:function(r){if(!r)return this;if("function"==typeof r){var n=r(this);return n instanceof Scope?n:this}return r instanceof Scope?(this._tags=scope_objectSpread(scope_objectSpread({},this._tags),r._tags),this._extra=scope_objectSpread(scope_objectSpread({},this._extra),r._extra),this._contexts=scope_objectSpread(scope_objectSpread({},this._contexts),r._contexts),r._user&&Object.keys(r._user).length&&(this._user=r._user),r._level&&(this._level=r._level),r._fingerprint&&(this._fingerprint=r._fingerprint),r._requestSession&&(this._requestSession=r._requestSession),r._propagationContext&&(this._propagationContext=r._propagationContext)):isPlainObject(r)&&(this._tags=scope_objectSpread(scope_objectSpread({},this._tags),r.tags),this._extra=scope_objectSpread(scope_objectSpread({},this._extra),r.extra),this._contexts=scope_objectSpread(scope_objectSpread({},this._contexts),r.contexts),r.user&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint&&(this._fingerprint=r.fingerprint),r.requestSession&&(this._requestSession=r.requestSession),r.propagationContext&&(this._propagationContext=r.propagationContext)),this}},{key:"clear",value:function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=generatePropagationContext(),this}},{key:"addBreadcrumb",value:function(r,n){var i="number"==typeof n?n:100;if(i<=0)return this;var o=scope_objectSpread({timestamp:(0,em.yW)()},r),a=this._breadcrumbs;return a.push(o),this._breadcrumbs=a.length>i?a.slice(-i):a,this._notifyScopeListeners(),this}},{key:"getLastBreadcrumb",value:function(){return this._breadcrumbs[this._breadcrumbs.length-1]}},{key:"clearBreadcrumbs",value:function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}},{key:"addAttachment",value:function(r){return this._attachments.push(r),this}},{key:"getAttachments",value:function(){return this._attachments}},{key:"clearAttachments",value:function(){return this._attachments=[],this}},{key:"applyToEvent",value:function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;if(this._extra&&Object.keys(this._extra).length&&(r.extra=scope_objectSpread(scope_objectSpread({},this._extra),r.extra)),this._tags&&Object.keys(this._tags).length&&(r.tags=scope_objectSpread(scope_objectSpread({},this._tags),r.tags)),this._user&&Object.keys(this._user).length&&(r.user=scope_objectSpread(scope_objectSpread({},this._user),r.user)),this._contexts&&Object.keys(this._contexts).length&&(r.contexts=scope_objectSpread(scope_objectSpread({},this._contexts),r.contexts)),this._level&&(r.level=this._level),this._transactionName&&(r.transaction=this._transactionName),this._span){r.contexts=scope_objectSpread({trace:this._span.getTraceContext()},r.contexts);var o=this._span.transaction;if(o){r.sdkProcessingMetadata=scope_objectSpread({dynamicSamplingContext:o.getDynamicSamplingContext()},r.sdkProcessingMetadata);var a=o.name;a&&(r.tags=scope_objectSpread({transaction:a},r.tags))}}this._applyFingerprint(r);var c=this._getBreadcrumbs(),u=[].concat((0,eu.Z)(r.breadcrumbs||[]),(0,eu.Z)(c));return r.breadcrumbs=u.length>0?u:void 0,r.sdkProcessingMetadata=scope_objectSpread(scope_objectSpread(scope_objectSpread({},r.sdkProcessingMetadata),this._sdkProcessingMetadata),{},{propagationContext:this._propagationContext}),notifyEventProcessors([].concat((0,eu.Z)(i||[]),(0,eu.Z)(getGlobalEventProcessors()),(0,eu.Z)(this._eventProcessors)),r,n)}},{key:"setSDKProcessingMetadata",value:function(r){return this._sdkProcessingMetadata=scope_objectSpread(scope_objectSpread({},this._sdkProcessingMetadata),r),this}},{key:"setPropagationContext",value:function(r){return this._propagationContext=r,this}},{key:"getPropagationContext",value:function(){return this._propagationContext}},{key:"_getBreadcrumbs",value:function(){return this._breadcrumbs}},{key:"_notifyScopeListeners",value:function(){var r=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(n){n(r)}),this._notifyingListeners=!1)}},{key:"_applyFingerprint",value:function(r){r.fingerprint=r.fingerprint?arrayify(r.fingerprint):[],this._fingerprint&&(r.fingerprint=r.fingerprint.concat(this._fingerprint)),r.fingerprint&&!r.fingerprint.length&&delete r.fingerprint}}],[{key:"clone",value:function(r){var n=new Scope;return r&&(n._breadcrumbs=(0,eu.Z)(r._breadcrumbs),n._tags=scope_objectSpread({},r._tags),n._extra=scope_objectSpread({},r._extra),n._contexts=scope_objectSpread({},r._contexts),n._user=r._user,n._level=r._level,n._span=r._span,n._session=r._session,n._transactionName=r._transactionName,n._fingerprint=r._fingerprint,n._eventProcessors=(0,eu.Z)(r._eventProcessors),n._requestSession=r._requestSession,n._attachments=(0,eu.Z)(r._attachments),n._sdkProcessingMetadata=scope_objectSpread({},r._sdkProcessingMetadata),n._propagationContext=scope_objectSpread({},r._propagationContext)),n}}]),Scope}();function generatePropagationContext(){return{traceId:misc_uuid4(),spanId:misc_uuid4().substring(16)}}function hub_ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}function hub_objectSpread(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?hub_ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):hub_ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}var eE=function(){function Hub(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new eS,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;(0,ef.Z)(this,Hub),this._version=i,this._stack=[{scope:n}],r&&this.bindClient(r)}return(0,ed.Z)(Hub,[{key:"isOlderThan",value:function(r){return this._version<r}},{key:"bindClient",value:function(r){this.getStackTop().client=r,r&&r.setupIntegrations&&r.setupIntegrations()}},{key:"pushScope",value:function(){var r=eS.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:r}),r}},{key:"popScope",value:function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}},{key:"withScope",value:function(r){var n=this.pushScope();try{r(n)}finally{this.popScope()}}},{key:"getClient",value:function(){return this.getStackTop().client}},{key:"getScope",value:function(){return this.getStackTop().scope}},{key:"getStack",value:function(){return this._stack}},{key:"getStackTop",value:function(){return this._stack[this._stack.length-1]}},{key:"captureException",value:function(r,n){var i=this._lastEventId=n&&n.event_id?n.event_id:misc_uuid4(),o=Error("Sentry syntheticException");return this._withClient(function(a,c){a.captureException(r,hub_objectSpread(hub_objectSpread({originalException:r,syntheticException:o},n),{},{event_id:i}),c)}),i}},{key:"captureMessage",value:function(r,n,i){var o=this._lastEventId=i&&i.event_id?i.event_id:misc_uuid4(),a=Error(r);return this._withClient(function(c,u){c.captureMessage(r,n,hub_objectSpread(hub_objectSpread({originalException:r,syntheticException:a},i),{},{event_id:o}),u)}),o}},{key:"captureEvent",value:function(r,n){var i=n&&n.event_id?n.event_id:misc_uuid4();return r.type||(this._lastEventId=i),this._withClient(function(o,a){o.captureEvent(r,hub_objectSpread(hub_objectSpread({},n),{},{event_id:i}),a)}),i}},{key:"lastEventId",value:function(){return this._lastEventId}},{key:"addBreadcrumb",value:function(r,n){var i=this.getStackTop(),o=i.scope,a=i.client;if(a){var c=a.getOptions&&a.getOptions()||{},u=c.beforeBreadcrumb,l=void 0===u?null:u,p=c.maxBreadcrumbs,S=void 0===p?100:p;if(!(S<=0)){var k=hub_objectSpread({timestamp:(0,em.yW)()},r),O=l?function(r){if(!("console"in eh.n2))return r();var n=eh.n2.console,i={},o=Object.keys(eg);o.forEach(function(r){var o=eg[r];i[r]=n[r],n[r]=o});try{return r()}finally{o.forEach(function(r){n[r]=i[r]})}}(function(){return l(k,n)}):k;null!==O&&(a.emit&&a.emit("beforeAddBreadcrumb",O,n),o.addBreadcrumb(O,S))}}}},{key:"setUser",value:function(r){this.getScope().setUser(r)}},{key:"setTags",value:function(r){this.getScope().setTags(r)}},{key:"setExtras",value:function(r){this.getScope().setExtras(r)}},{key:"setTag",value:function(r,n){this.getScope().setTag(r,n)}},{key:"setExtra",value:function(r,n){this.getScope().setExtra(r,n)}},{key:"setContext",value:function(r,n){this.getScope().setContext(r,n)}},{key:"configureScope",value:function(r){var n=this.getStackTop(),i=n.scope;n.client&&r(i)}},{key:"run",value:function(r){var n=makeMain(this);try{r(this)}finally{makeMain(n)}}},{key:"getIntegration",value:function(r){var n=this.getClient();if(!n)return null;try{return n.getIntegration(r)}catch(r){return null}}},{key:"startTransaction",value:function(r,n){return this._callExtensionMethod("startTransaction",r,n)}},{key:"traceHeaders",value:function(){return this._callExtensionMethod("traceHeaders")}},{key:"captureSession",value:function(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r)return this.endSession();this._sendSessionUpdate()}},{key:"endSession",value:function(){var r,n,i=this.getStackTop().scope,o=i.getSession();o&&(n={},r?n={status:r}:"ok"===o.status&&(n={status:"exited"}),updateSession(o,n)),this._sendSessionUpdate(),i.setSession()}},{key:"startSession",value:function(r){var n,i,o,a=this.getStackTop(),c=a.scope,u=a.client,l=u&&u.getOptions()||{},p=l.release,S=l.environment,k=void 0===S?e_:S,O=(eh.n2.navigator||{}).userAgent,w=(n=hub_objectSpread(hub_objectSpread({release:p,environment:k,user:c.getUser()},O&&{userAgent:O}),r),i=(0,em.ph)(),o={sid:misc_uuid4(),init:!0,timestamp:i,started:i,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:function(){return dropUndefinedKeys({sid:"".concat(o.sid),init:o.init,started:new Date(1e3*o.started).toISOString(),timestamp:new Date(1e3*o.timestamp).toISOString(),status:o.status,errors:o.errors,did:"number"==typeof o.did||"string"==typeof o.did?"".concat(o.did):void 0,duration:o.duration,abnormal_mechanism:o.abnormal_mechanism,attrs:{release:o.release,environment:o.environment,ip_address:o.ipAddress,user_agent:o.userAgent}})}},n&&updateSession(o,n),o),C=c.getSession&&c.getSession();return C&&"ok"===C.status&&updateSession(C,{status:"exited"}),this.endSession(),c.setSession(w),w}},{key:"shouldSendDefaultPii",value:function(){var r=this.getClient(),n=r&&r.getOptions();return!!(n&&n.sendDefaultPii)}},{key:"_sendSessionUpdate",value:function(){var r=this.getStackTop(),n=r.scope,i=r.client,o=n.getSession();o&&i&&i.captureSession&&i.captureSession(o)}},{key:"_withClient",value:function(r){var n=this.getStackTop(),i=n.scope,o=n.client;o&&r(o,i)}},{key:"_callExtensionMethod",value:function(r){var n=getMainCarrier().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[r]){for(var i=arguments.length,o=Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return n.extensions[r].apply(this,o)}}}]),Hub}();function getMainCarrier(){return eh.n2.__SENTRY__=eh.n2.__SENTRY__||{extensions:{},hub:void 0},eh.n2}function makeMain(r){var n=getMainCarrier(),i=getHubFromCarrier(n);return setHubOnCarrier(n,r),i}function hub_getCurrentHub(){var r=getMainCarrier();if(r.__SENTRY__&&r.__SENTRY__.acs){var n=r.__SENTRY__.acs.getCurrentHub();if(n)return n}return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:getMainCarrier();return(!(r&&r.__SENTRY__&&r.__SENTRY__.hub)||getHubFromCarrier(r).isOlderThan(4))&&setHubOnCarrier(r,new eE),getHubFromCarrier(r)}(r)}function getHubFromCarrier(r){return(0,eh.YO)("hub",function(){return new eE},r)}function setHubOnCarrier(r,n){return!!r&&((r.__SENTRY__=r.__SENTRY__||{}).hub=n,!0)}function hasTracingEnabled(r){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;var n=hub_getCurrentHub().getClient(),i=r||n&&n.getOptions();return!!i&&(i.enableTracing||"tracesSampleRate"in i||"tracesSampler"in i)}var ek=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function resolve(){for(var r="",n=!1,i=arguments.length-1;i>=-1&&!n;i--){var o=i>=0?i<0||arguments.length<=i?void 0:arguments[i]:"/";o&&(r="".concat(o,"/").concat(r),n="/"===o.charAt(0))}return r=(function(r,n){for(var i=0,o=r.length-1;o>=0;o--){var a=r[o];"."===a?r.splice(o,1):".."===a?(r.splice(o,1),i++):i&&(r.splice(o,1),i--)}if(n)for(;i--;i)r.unshift("..");return r})(r.split("/").filter(function(r){return!!r}),!n).join("/"),(n?"/":"")+r||"."}function trim(r){for(var n=0;n<r.length&&""===r[n];n++);for(var i=r.length-1;i>=0&&""===r[i];i--);return n>i?[]:r.slice(n,i-n+1)}function rewriteframes_ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}function rewriteframes_objectSpread(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?rewriteframes_ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):rewriteframes_ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}var eT=function(){function RewriteFrames(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,ef.Z)(this,RewriteFrames),RewriteFrames.prototype.__init.call(this),this.name=RewriteFrames.id,r.root&&(this._root=r.root),this._prefix=r.prefix||"app:///",r.iteratee&&(this._iteratee=r.iteratee)}return(0,ed.Z)(RewriteFrames,[{key:"setupOnce",value:function(r,n){}},{key:"processEvent",value:function(r){return this.process(r)}},{key:"process",value:function(r){var n=r;return r.exception&&Array.isArray(r.exception.values)&&(n=this._processExceptionsEvent(n)),n}},{key:"__init",value:function(){var r=this;this._iteratee=function(n){if(!n.filename)return n;var i=/^[a-zA-Z]:\\/.test(n.filename)||n.filename.includes("\\")&&!n.filename.includes("/"),o=/^\//.test(n.filename);if(i||o){var a,c,u,l,p=i?n.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):n.filename,S=r._root?function(r,n){r=resolve(r).slice(1),n=resolve(n).slice(1);for(var i=trim(r.split("/")),o=trim(n.split("/")),a=Math.min(i.length,o.length),c=a,u=0;u<a;u++)if(i[u]!==o[u]){c=u;break}for(var l=[],p=c;p<i.length;p++)l.push("..");return(l=l.concat(o.slice(c))).join("/")}(r._root,p):(l=(c=p.length>1024?"<truncated>".concat(p.slice(-1024)):p,(u=ek.exec(c))?u.slice(1):[])[2],a&&l.slice(-1*a.length)===a&&(l=l.slice(0,l.length-a.length)),l);n.filename="".concat(r._prefix).concat(S)}return n}}},{key:"_processExceptionsEvent",value:function(r){var n=this;try{return rewriteframes_objectSpread(rewriteframes_objectSpread({},r),{},{exception:rewriteframes_objectSpread(rewriteframes_objectSpread({},r.exception),{},{values:r.exception.values.map(function(r){return rewriteframes_objectSpread(rewriteframes_objectSpread({},r),r.stacktrace&&{stacktrace:n._processStacktrace(r.stacktrace)})})})})}catch(n){return r}}},{key:"_processStacktrace",value:function(r){var n=this;return rewriteframes_objectSpread(rewriteframes_objectSpread({},r),{},{frames:r&&r.frames&&r.frames.map(function(r){return n._iteratee(r)})})}}],[{key:"__initStatic",value:function(){this.id="RewriteFrames"}}]),RewriteFrames}();eT.__initStatic();var eO="7.80.0",ew=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],eC=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],eI=function(){function InboundFilters(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,ef.Z)(this,InboundFilters),this.name=InboundFilters.id,this._options=r}return(0,ed.Z)(InboundFilters,[{key:"setupOnce",value:function(r,n){}},{key:"processEvent",value:function(r,n,i){var o,a,c=i.getOptions();return(o=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{allowUrls:[].concat((0,eu.Z)(r.allowUrls||[]),(0,eu.Z)(n.allowUrls||[])),denyUrls:[].concat((0,eu.Z)(r.denyUrls||[]),(0,eu.Z)(n.denyUrls||[])),ignoreErrors:[].concat((0,eu.Z)(r.ignoreErrors||[]),(0,eu.Z)(n.ignoreErrors||[]),(0,eu.Z)(r.disableErrorDefaults?[]:ew)),ignoreTransactions:[].concat((0,eu.Z)(r.ignoreTransactions||[]),(0,eu.Z)(n.ignoreTransactions||[]),(0,eu.Z)(r.disableTransactionDefaults?[]:eC)),ignoreInternal:void 0===r.ignoreInternal||r.ignoreInternal}}(this._options,c)).ignoreInternal&&function(r){try{return"SentryError"===r.exception.values[0].type}catch(r){}return!1}(r)||(a=o.ignoreErrors,!r.type&&a&&a.length&&(function(r){var n,i=[];r.message&&i.push(r.message);try{n=r.exception.values[r.exception.values.length-1]}catch(r){}return n&&n.value&&(i.push(n.value),n.type&&i.push("".concat(n.type,": ").concat(n.value))),i})(r).some(function(r){return stringMatchesSomePattern(r,a)}))||function(r,n){if("transaction"!==r.type||!n||!n.length)return!1;var i=r.transaction;return!!i&&stringMatchesSomePattern(i,n)}(r,o.ignoreTransactions)||function(r,n){if(!n||!n.length)return!1;var i=_getEventFilterUrl(r);return!!i&&stringMatchesSomePattern(i,n)}(r,o.denyUrls)||!function(r,n){if(!n||!n.length)return!0;var i=_getEventFilterUrl(r);return!i||stringMatchesSomePattern(i,n)}(r,o.allowUrls)?null:r}}],[{key:"__initStatic",value:function(){this.id="InboundFilters"}}]),InboundFilters}();function _getEventFilterUrl(r){try{var n;try{n=r.exception.values[0].stacktrace.frames}catch(r){}return n?function(){for(var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=r.length-1;n>=0;n--){var i=r[n];if(i&&"<anonymous>"!==i.filename&&"[native code]"!==i.filename)return i.filename||null}return null}(n):null}catch(r){return null}}eI.__initStatic();var eR=function(){function FunctionToString(){(0,ef.Z)(this,FunctionToString),this.name=FunctionToString.id}return(0,ed.Z)(FunctionToString,[{key:"setupOnce",value:function(){C=Function.prototype.toString;try{Function.prototype.toString=function(){for(var r=getOriginalFunction(this)||this,n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return C.apply(r,i)}}catch(r){}}}],[{key:"__initStatic",value:function(){this.id="FunctionToString"}}]),FunctionToString}();eR.__initStatic();var ex=i(8310),eA=[];function setupIntegration(r,n,i){if(i[n.name]=n,-1===eA.indexOf(n.name)&&(n.setupOnce(addGlobalEventProcessor,hub_getCurrentHub),eA.push(n.name)),r.on&&"function"==typeof n.preprocessEvent){var o=n.preprocessEvent.bind(n);r.on("preprocessEvent",function(n,i){return o(n,i,r)})}if(r.addEventProcessor&&"function"==typeof n.processEvent){var a=n.processEvent.bind(n),c=Object.assign(function(n,i){return a(n,i,r)},{id:n.name});r.addEventProcessor(c)}}function stacktrace_ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}function stacktrace_objectSpread(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?stacktrace_ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):stacktrace_ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}function _arrayLikeToArray(r,n){(null==n||n>r.length)&&(n=r.length);for(var i=0,o=Array(n);i<n;i++)o[i]=r[i];return o}var eP=/\(error: (.*)\)/,ej=/captureMessage|captureException/;function createStackParser(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=n.sort(function(r,n){return r[0]-n[0]}).map(function(r){return r[1]});return function(r){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=[],a=r.split("\n"),c=n;c<a.length;c++){var u=a[c];if(!(u.length>1024)){var l=eP.test(u)?u.replace(eP,"$1"):u;if(!l.match(/\S*Error: /)){var p,S=function(r,n){var i="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!i){if(Array.isArray(r)||(i=function(r,n){if(r){if("string"==typeof r)return _arrayLikeToArray(r,n);var i=Object.prototype.toString.call(r).slice(8,-1);if("Object"===i&&r.constructor&&(i=r.constructor.name),"Map"===i||"Set"===i)return Array.from(r);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(r,n)}}(r))){i&&(r=i);var o=0,F=function(){};return{s:F,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(r){throw r},f:F}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){i=i.call(r)},n:function(){var r=i.next();return c=r.done,r},e:function(r){u=!0,a=r},f:function(){try{c||null==i.return||i.return()}finally{if(u)throw a}}}}(o);try{for(S.s();!(p=S.n()).done;){var k=(0,p.value)(l);if(k){i.push(k);break}}}catch(r){S.e(r)}finally{S.f()}if(i.length>=50)break}}}return function(r){if(!r.length)return[];var n=Array.from(r);return/sentryWrapped/.test(n[n.length-1].function||"")&&n.pop(),n.reverse(),ej.test(n[n.length-1].function||"")&&(n.pop(),ej.test(n[n.length-1].function||"")&&n.pop()),n.slice(0,50).map(function(r){return stacktrace_objectSpread(stacktrace_objectSpread({},r),{},{filename:r.filename||n[n.length-1].filename,function:r.function||"?"})})}(i)}}var eN="<anonymous>";function getFunctionName(r){try{if(!r||"function"!=typeof r)return eN;return r.name||eN}catch(r){return eN}}var eD=(0,eh.Rf)();function supportsFetch(){if(!("fetch"in eD))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(r){return!1}}function isNativeFetch(r){return r&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(r.toString())}var eM=(0,eh.Rf)();function instrument_ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}function instrument_objectSpread(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?instrument_ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):instrument_ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}function instrument_arrayLikeToArray(r,n){(null==n||n>r.length)&&(n=r.length);for(var i=0,o=Array(n);i<n;i++)o[i]=r[i];return o}var eL=(0,eh.Rf)(),eB="__sentry_xhr_v2__",eF={},eU={};function addInstrumentationHandler(r,n){eF[r]=eF[r]||[],eF[r].push(n),function(r){if(!eU[r])switch(eU[r]=!0,r){case"console":"console"in eh.n2&&ey.forEach(function(r){r in eh.n2.console&&fill(eh.n2.console,r,function(n){return eg[r]=n,function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];triggerHandlers("console",{args:i,level:r});var a=eg[r];a&&a.apply(eh.n2.console,i)}})});break;case"dom":(function(){if(eL.document){var r=triggerHandlers.bind(null,"dom"),n=makeDOMEventHandler(r,!0);eL.document.addEventListener("click",n,!1),eL.document.addEventListener("keypress",n,!1),["EventTarget","Node"].forEach(function(n){var i=eL[n]&&eL[n].prototype;i&&i.hasOwnProperty&&i.hasOwnProperty("addEventListener")&&(fill(i,"addEventListener",function(n){return function(i,o,a){if("click"===i||"keypress"==i)try{var c=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},u=c[i]=c[i]||{refCount:0};if(!u.handler){var l=makeDOMEventHandler(r);u.handler=l,n.call(this,i,l,a)}u.refCount++}catch(r){}return n.call(this,i,o,a)}}),fill(i,"removeEventListener",function(r){return function(n,i,o){if("click"===n||"keypress"==n)try{var a=this.__sentry_instrumentation_handlers__||{},c=a[n];c&&(c.refCount--,c.refCount<=0&&(r.call(this,n,c.handler,o),c.handler=void 0,delete a[n]),0===Object.keys(a).length&&delete this.__sentry_instrumentation_handlers__)}catch(r){}return r.call(this,n,i,o)}}))})}})();break;case"xhr":(function(){if(eL.XMLHttpRequest){var r=XMLHttpRequest.prototype;fill(r,"open",function(r){return function(){for(var n=this,i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];var c=Date.now(),u=o[1],l=this[eB]={method:isString(o[0])?o[0].toUpperCase():o[0],url:o[1],request_headers:{}};isString(u)&&"POST"===l.method&&u.match(/sentry_key/)&&(this.__sentry_own_request__=!0);var onreadystatechangeHandler=function(){var r=n[eB];if(r&&4===n.readyState){try{r.status_code=n.status}catch(r){}triggerHandlers("xhr",{args:o,endTimestamp:Date.now(),startTimestamp:c,xhr:n})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?fill(this,"onreadystatechange",function(r){return function(){onreadystatechangeHandler();for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return r.apply(this,i)}}):this.addEventListener("readystatechange",onreadystatechangeHandler),fill(this,"setRequestHeader",function(r){return function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=i[0],c=i[1],u=this[eB];return u&&(u.request_headers[a.toLowerCase()]=c),r.apply(this,i)}}),r.apply(this,o)}}),fill(r,"send",function(r){return function(){for(var n=this[eB],i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&void 0!==o[0]&&(n.body=o[0]),triggerHandlers("xhr",{args:o,startTimestamp:Date.now(),xhr:this}),r.apply(this,o)}})}})();break;case"fetch":!function(){if(!supportsFetch())return!1;if(isNativeFetch(eD.fetch))return!0;var r=!1,n=eD.document;if(n&&"function"==typeof n.createElement)try{var i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i),i.contentWindow&&i.contentWindow.fetch&&(r=isNativeFetch(i.contentWindow.fetch)),n.head.removeChild(i)}catch(r){}return r}()||fill(eh.n2,"fetch",function(r){return function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=function(r){if(0===r.length)return{method:"GET",url:""};if(2===r.length){var n=(0,ex.Z)(r,2),i=n[0],o=n[1];return{url:getUrlFromResource(i),method:hasProp(o,"method")?String(o.method).toUpperCase():"GET"}}var a=r[0];return{url:getUrlFromResource(a),method:hasProp(a,"method")?String(a.method).toUpperCase():"GET"}}(i),c={args:i,fetchData:{method:a.method,url:a.url},startTimestamp:Date.now()};return triggerHandlers("fetch",instrument_objectSpread({},c)),r.apply(eh.n2,i).then(function(r){return triggerHandlers("fetch",instrument_objectSpread(instrument_objectSpread({},c),{},{endTimestamp:Date.now(),response:r})),r},function(r){throw triggerHandlers("fetch",instrument_objectSpread(instrument_objectSpread({},c),{},{endTimestamp:Date.now(),error:r})),r})}});break;case"history":(function(){if(n=(r=eM.chrome)&&r.app&&r.app.runtime,i="history"in eM&&!!eM.history.pushState&&!!eM.history.replaceState,!n&&i){var r,n,i,o=eL.onpopstate;eL.onpopstate=function(){var r=eL.location.href,n=I;if(I=r,triggerHandlers("history",{from:n,to:r}),o)try{for(var i=arguments.length,a=Array(i),c=0;c<i;c++)a[c]=arguments[c];return o.apply(this,a)}catch(r){}},fill(eL.history,"pushState",historyReplacementFunction),fill(eL.history,"replaceState",historyReplacementFunction)}function historyReplacementFunction(r){return function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=i.length>2?i[2]:void 0;if(a){var c=I,u=String(a);I=u,triggerHandlers("history",{from:c,to:u})}return r.apply(this,i)}}})();break;case"error":eH=eL.onerror,eL.onerror=function(r,n,i,o,a){return triggerHandlers("error",{column:o,error:a,line:i,msg:r,url:n}),!!eH&&!eH.__SENTRY_LOADER__&&eH.apply(this,arguments)},eL.onerror.__SENTRY_INSTRUMENTED__=!0;break;case"unhandledrejection":eZ=eL.onunhandledrejection,eL.onunhandledrejection=function(r){return triggerHandlers("unhandledrejection",r),!eZ||!!eZ.__SENTRY_LOADER__||eZ.apply(this,arguments)},eL.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0;break;default:return}}(r)}function triggerHandlers(r,n){if(r&&eF[r]){var i,o=function(r,n){var i="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!i){if(Array.isArray(r)||(i=function(r,n){if(r){if("string"==typeof r)return instrument_arrayLikeToArray(r,n);var i=Object.prototype.toString.call(r).slice(8,-1);if("Object"===i&&r.constructor&&(i=r.constructor.name),"Map"===i||"Set"===i)return Array.from(r);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return instrument_arrayLikeToArray(r,n)}}(r))){i&&(r=i);var o=0,F=function(){};return{s:F,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(r){throw r},f:F}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){i=i.call(r)},n:function(){var r=i.next();return c=r.done,r},e:function(r){u=!0,a=r},f:function(){try{c||null==i.return||i.return()}finally{if(u)throw a}}}}(eF[r]||[]);try{for(o.s();!(i=o.n()).done;){var a=i.value;try{a(n)}catch(r){}}}catch(r){o.e(r)}finally{o.f()}}}function hasProp(r,n){return!!r&&"object"==typeof r&&!!r[n]}function getUrlFromResource(r){return"string"==typeof r?r:r?hasProp(r,"url")?r.url:r.toString?r.toString():"":""}function makeDOMEventHandler(r){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(i){if(i&&!i._sentryCaptured){var o=function(r){try{return r.target}catch(r){return null}}(i);if("keypress"!==i.type||o&&o.tagName&&("INPUT"===o.tagName||"TEXTAREA"===o.tagName||o.isContentEditable)){addNonEnumerableProperty(i,"_sentryCaptured",!0),o&&!o._sentryId&&addNonEnumerableProperty(o,"_sentryId",misc_uuid4());var a="keypress"===i.type?"input":i.type;!function(r){if(r.type!==x)return!1;try{if(!r.target||r.target._sentryId!==j)return!1}catch(r){}return!0}(i)&&(r({event:i,name:a,global:n}),x=i.type,j=o?o._sentryId:void 0),clearTimeout(R),R=eL.setTimeout(function(){j=void 0,x=void 0},1e3)}}}}var eH=null,eZ=null,eq=i(1021),ez=i(5041),eW=i(2945),eG=i(8419),eK=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function dsn_dsnToString(r){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=r.host,o=r.path,a=r.pass,c=r.port,u=r.projectId,l=r.protocol,p=r.publicKey;return"".concat(l,"://").concat(p).concat(n&&a?":".concat(a):"")+"@".concat(i).concat(c?":".concat(c):"","/").concat(o?"".concat(o,"/"):o).concat(u)}function dsnFromString(r){var n=eK.exec(r);if(!n){console.error("Invalid Sentry Dsn: ".concat(r));return}var i=n.slice(1),o=(0,ex.Z)(i,6),a=o[0],c=o[1],u=o[2],l=o[3],p=o[4],S=o[5],k="",O=S,w=O.split("/");if(w.length>1&&(k=w.slice(0,-1).join("/"),O=w.pop()),O){var C=O.match(/^\d+/);C&&(O=C[0])}return dsnFromComponents({host:l,pass:void 0===u?"":u,path:k,projectId:O,port:void 0===p?"":p,protocol:a,publicKey:c})}function dsnFromComponents(r){return{protocol:r.protocol,publicKey:r.publicKey||"",pass:r.pass||"",host:r.host,port:r.port||"",path:r.path||"",projectId:r.projectId}}function normalize(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Infinity;try{return function visit(r,n){var o,a,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Infinity,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Infinity,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(a=(o="function"==typeof WeakSet)?new WeakSet:[],[function(r){if(o)return!!a.has(r)||(a.add(r),!1);for(var n=0;n<a.length;n++)if(a[n]===r)return!0;return a.push(r),!1},function(r){if(o)a.delete(r);else for(var n=0;n<a.length;n++)if(a[n]===r){a.splice(n,1);break}}]),p=(0,ex.Z)(l,2),S=p[0],k=p[1];if(null==n||["number","boolean","string"].includes(typeof n)&&!is_isNaN(n))return n;var O=function(r,n){try{if("domain"===r&&n&&"object"==typeof n&&n._events)return"[Domain]";if("domainEmitter"===r)return"[DomainEmitter]";if(void 0!==i.g&&n===i.g)return"[Global]";if(n===window)return"[Window]";if("undefined"!=typeof document&&n===document)return"[Document]";if(isVueViewModel(n))return"[VueViewModel]";if(isPlainObject(n)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n)return"[SyntheticEvent]";if("number"==typeof n&&n!=n)return"[NaN]";if("function"==typeof n)return"[Function: ".concat(getFunctionName(n),"]");if("symbol"==typeof n)return"[".concat(String(n),"]");if("bigint"==typeof n)return"[BigInt: ".concat(String(n),"]");var o,a=(o=Object.getPrototypeOf(n))?o.constructor.name:"null prototype";if(/^HTML(\w*)Element$/.test(a))return"[HTMLElement: ".concat(a,"]");return"[object ".concat(a,"]")}catch(r){return"**non-serializable** (".concat(r,")")}}(r,n);if(!O.startsWith("[object "))return O;if(n.__sentry_skip_normalization__)return n;var w="number"==typeof n.__sentry_override_normalization_depth__?n.__sentry_override_normalization_depth__:c;if(0===w)return O.replace("object ","");if(S(n))return"[Circular ~]";if(n&&"function"==typeof n.toJSON)try{var C=n.toJSON();return visit("",C,w-1,u,l)}catch(r){}var I=Array.isArray(n)?[]:{},R=0,x=convertToPlainObject(n);for(var j in x)if(Object.prototype.hasOwnProperty.call(x,j)){if(R>=u){I[j]="[MaxProperties ~]";break}var N=x[j];I[j]=visit(j,N,w-1,u,l),R++}return k(n),I}("",r,n,o)}catch(r){return{ERROR:"**non-serializable** (".concat(r,")")}}}function envelope_ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}function envelope_objectSpread(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?envelope_ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):envelope_ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}function envelope_createForOfIteratorHelper(r,n){var i="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!i){if(Array.isArray(r)||(i=function(r,n){if(r){if("string"==typeof r)return envelope_arrayLikeToArray(r,n);var i=Object.prototype.toString.call(r).slice(8,-1);if("Object"===i&&r.constructor&&(i=r.constructor.name),"Map"===i||"Set"===i)return Array.from(r);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return envelope_arrayLikeToArray(r,n)}}(r))||n&&r&&"number"==typeof r.length){i&&(r=i);var o=0,F=function(){};return{s:F,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(r){throw r},f:F}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){i=i.call(r)},n:function(){var r=i.next();return c=r.done,r},e:function(r){u=!0,a=r},f:function(){try{c||null==i.return||i.return()}finally{if(u)throw a}}}}function envelope_arrayLikeToArray(r,n){(null==n||n>r.length)&&(n=r.length);for(var i=0,o=Array(n);i<n;i++)o[i]=r[i];return o}function createEnvelope(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return[r,n]}function forEachEnvelopeItem(r,n){var i,o=envelope_createForOfIteratorHelper(r[1]);try{for(o.s();!(i=o.n()).done;){var a=i.value,c=a[0].type;if(n(a,c))return!0}}catch(r){o.e(r)}finally{o.f()}return!1}function encodeUTF8(r,n){return(n||new TextEncoder).encode(r)}var eV={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",statsd:"unknown"};function getSdkMetadataForEnvelopeHeader(r){if(r&&r.sdk){var n=r.sdk;return{name:n.name,version:n.version}}}function createEventEnvelopeHeaders(r,n,i,o){var a=r.sdkProcessingMetadata&&r.sdkProcessingMetadata.dynamicSamplingContext;return envelope_objectSpread(envelope_objectSpread(envelope_objectSpread({event_id:r.event_id,sent_at:new Date().toISOString()},n&&{sdk:n}),!!i&&o&&{dsn:dsn_dsnToString(o)}),a&&{trace:dropUndefinedKeys(envelope_objectSpread({},a))})}var e$=i(333),eX=i(7403),eY=function(r){(0,ez.Z)(SentryError,r);var n,i=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,i=(0,eG.Z)(SentryError);if(n){var o=(0,eG.Z)(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return(0,eW.Z)(this,r)});function SentryError(r){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warn";return(0,ef.Z)(this,SentryError),(n=i.call(this,r)).message=r,n.name=(this instanceof SentryError?this.constructor:void 0).prototype.constructor.name,Object.setPrototypeOf((0,e$.Z)(n),(this instanceof SentryError?this.constructor:void 0).prototype),n.logLevel=o,n}return(0,ed.Z)(SentryError)}((0,eX.Z)(Error));function api_ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}function esm_envelope_ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}function esm_envelope_objectSpread(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?esm_envelope_ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):esm_envelope_ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}function getDynamicSamplingContextFromClient(r,n,i){var o=n.getOptions(),a=(n.getDsn()||{}).publicKey,c=(i&&i.getUser()||{}).segment,u=dropUndefinedKeys({environment:o.environment||e_,release:o.release,user_segment:c,public_key:a,trace_id:r});return n.emit&&n.emit("createDsc",u),u}function prepareEvent_ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}function prepareEvent_objectSpread(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?prepareEvent_ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):prepareEvent_ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}function prepareEvent(r,n,i,o,a){var c,u,l,p,S,k,O,w=r.normalizeDepth,C=void 0===w?3:w,I=r.normalizeMaxBreadth,R=void 0===I?1e3:I,x=prepareEvent_objectSpread(prepareEvent_objectSpread({},n),{},{event_id:n.event_id||i.event_id||misc_uuid4(),timestamp:n.timestamp||(0,em.yW)()}),j=i.integrations||r.integrations.map(function(r){return r.name});c=r.environment,u=r.release,l=r.dist,S=void 0===(p=r.maxValueLength)?250:p,"environment"in x||(x.environment="environment"in r?c:e_),void 0===x.release&&void 0!==u&&(x.release=u),void 0===x.dist&&void 0!==l&&(x.dist=l),x.message&&(x.message=truncate(x.message,S)),(k=x.exception&&x.exception.values&&x.exception.values[0])&&k.value&&(k.value=truncate(k.value,S)),(O=x.request)&&O.url&&(O.url=truncate(O.url,S)),j.length>0&&(x.sdk=x.sdk||{},x.sdk.integrations=[].concat((0,eu.Z)(x.sdk.integrations||[]),(0,eu.Z)(j))),void 0===n.type&&function(r,n){var i,o=eh.n2._sentryDebugIds;if(o){var a=eQ.get(n);a?i=a:(i=new Map,eQ.set(n,i));var c=Object.keys(o).reduce(function(r,a){var c,u=i.get(a);u?c=u:(c=n(a),i.set(a,c));for(var l=c.length-1;l>=0;l--){var p=c[l];if(p.filename){r[p.filename]=o[a];break}}return r},{});try{r.exception.values.forEach(function(r){r.stacktrace.frames.forEach(function(r){r.filename&&(r.debug_id=c[r.filename])})})}catch(r){}}}(x,r.stackParser);var N=o;i.captureContext&&(N=eS.clone(N).update(i.captureContext));var W=resolvedSyncPromise(x),G=a&&a.getEventProcessors?a.getEventProcessors():[];if(N){if(N.getAttachments){var $=[].concat((0,eu.Z)(i.attachments||[]),(0,eu.Z)(N.getAttachments()));$.length&&(i.attachments=$)}W=N.applyToEvent(x,i,G)}else W=notifyEventProcessors([].concat((0,eu.Z)(G),(0,eu.Z)(getGlobalEventProcessors())),x,i);return W.then(function(r){return(r&&function(r){var n={};try{r.exception.values.forEach(function(r){r.stacktrace.frames.forEach(function(r){r.debug_id&&(r.abs_path?n[r.abs_path]=r.debug_id:r.filename&&(n[r.filename]=r.debug_id),delete r.debug_id)})})}catch(r){}if(0!==Object.keys(n).length){r.debug_meta=r.debug_meta||{},r.debug_meta.images=r.debug_meta.images||[];var i=r.debug_meta.images;Object.keys(n).forEach(function(r){i.push({type:"sourcemap",code_file:r,debug_id:n[r]})})}}(r),"number"==typeof C&&C>0)?function(r,n,i){if(!r)return null;var o=prepareEvent_objectSpread(prepareEvent_objectSpread(prepareEvent_objectSpread(prepareEvent_objectSpread(prepareEvent_objectSpread({},r),r.breadcrumbs&&{breadcrumbs:r.breadcrumbs.map(function(r){return prepareEvent_objectSpread(prepareEvent_objectSpread({},r),r.data&&{data:normalize(r.data,n,i)})})}),r.user&&{user:normalize(r.user,n,i)}),r.contexts&&{contexts:normalize(r.contexts,n,i)}),r.extra&&{extra:normalize(r.extra,n,i)});return r.contexts&&r.contexts.trace&&o.contexts&&(o.contexts.trace=r.contexts.trace,r.contexts.trace.data&&(o.contexts.trace.data=normalize(r.contexts.trace.data,n,i))),r.spans&&(o.spans=r.spans.map(function(r){return r.data&&(r.data=normalize(r.data,n,i)),r})),o}(r,C,R):r})}var eQ=new WeakMap;function baseclient_createForOfIteratorHelper(r,n){var i="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!i){if(Array.isArray(r)||(i=function(r,n){if(r){if("string"==typeof r)return baseclient_arrayLikeToArray(r,n);var i=Object.prototype.toString.call(r).slice(8,-1);if("Object"===i&&r.constructor&&(i=r.constructor.name),"Map"===i||"Set"===i)return Array.from(r);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return baseclient_arrayLikeToArray(r,n)}}(r))||n&&r&&"number"==typeof r.length){i&&(r=i);var o=0,F=function(){};return{s:F,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(r){throw r},f:F}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){i=i.call(r)},n:function(){var r=i.next();return c=r.done,r},e:function(r){u=!0,a=r},f:function(){try{c||null==i.return||i.return()}finally{if(u)throw a}}}}function baseclient_arrayLikeToArray(r,n){(null==n||n>r.length)&&(n=r.length);for(var i=0,o=Array(n);i<n;i++)o[i]=r[i];return o}function baseclient_ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}function baseclient_objectSpread(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?baseclient_ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):baseclient_ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}var eJ=function(){function BaseClient(r){if((0,ef.Z)(this,BaseClient),this._options=r,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],r.dsn&&(this._dsn=function(r){var n="string"==typeof r?dsnFromString(r):dsnFromComponents(r);if(n)return n}(r.dsn)),this._dsn){var n=function(r){var n,i,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c="string"==typeof a?a:a.tunnel,u="string"!=typeof a&&a._metadata?a._metadata.sdk:void 0;return c||"".concat("".concat((n=r.protocol?"".concat(r.protocol,":"):"",i=r.port?":".concat(r.port):"","".concat(n,"//").concat(r.host).concat(i).concat(r.path?"/".concat(r.path):"","/api/"))).concat(r.projectId,"/envelope/"),"?").concat(Object.keys(o=function(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?api_ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):api_ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}({sentry_key:r.publicKey,sentry_version:"7"},u&&{sentry_client:"".concat(u.name,"/").concat(u.version)})).map(function(r){return"".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(o[r]))}).join("&"))}(this._dsn,r);this._transport=r.transport(baseclient_objectSpread(baseclient_objectSpread({recordDroppedEvent:this.recordDroppedEvent.bind(this)},r.transportOptions),{},{url:n}))}}return(0,ed.Z)(BaseClient,[{key:"captureException",value:function(r,n,i){var o=this;if(!checkOrSetAlreadyCaught(r)){var a=n&&n.event_id;return this._process(this.eventFromException(r,n).then(function(r){return o._captureEvent(r,n,i)}).then(function(r){a=r})),a}}},{key:"captureMessage",value:function(r,n,i,o){var a=this,c=i&&i.event_id,u=is_isPrimitive(r)?this.eventFromMessage(String(r),n,i):this.eventFromException(r,i);return this._process(u.then(function(r){return a._captureEvent(r,i,o)}).then(function(r){c=r})),c}},{key:"captureEvent",value:function(r,n,i){if(!(n&&n.originalException&&checkOrSetAlreadyCaught(n.originalException))){var o=n&&n.event_id;return this._process(this._captureEvent(r,n,i).then(function(r){o=r})),o}}},{key:"captureSession",value:function(r){"string"!=typeof r.release||(this.sendSession(r),updateSession(r,{init:!1}))}},{key:"getDsn",value:function(){return this._dsn}},{key:"getOptions",value:function(){return this._options}},{key:"getSdkMetadata",value:function(){return this._options._metadata}},{key:"getTransport",value:function(){return this._transport}},{key:"flush",value:function(r){var n=this._transport;return n?this._isClientDoneProcessing(r).then(function(i){return n.flush(r).then(function(r){return i&&r})}):resolvedSyncPromise(!0)}},{key:"close",value:function(r){var n=this;return this.flush(r).then(function(r){return n.getOptions().enabled=!1,r})}},{key:"getEventProcessors",value:function(){return this._eventProcessors}},{key:"addEventProcessor",value:function(r){this._eventProcessors.push(r)}},{key:"setupIntegrations",value:function(r){if(r&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized){var n,i,o;this._integrations=(n=this,i=this._options.integrations,o={},i.forEach(function(r){r&&setupIntegration(n,r,o)}),o),this._integrationsInitialized=!0}}},{key:"getIntegrationById",value:function(r){return this._integrations[r]}},{key:"getIntegration",value:function(r){try{return this._integrations[r.id]||null}catch(r){return null}}},{key:"addIntegration",value:function(r){setupIntegration(this,r,this._integrations)}},{key:"sendEvent",value:function(r){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.emit("beforeSendEvent",r,i);var o,a,c,u,l,p,S,k,O=(o=this._dsn,a=this._options._metadata,c=this._options.tunnel,u=getSdkMetadataForEnvelopeHeader(a),l=r.type&&"replay_event"!==r.type?r.type:"event",(p=a&&a.sdk)&&(r.sdk=r.sdk||{},r.sdk.name=r.sdk.name||p.name,r.sdk.version=r.sdk.version||p.version,r.sdk.integrations=[].concat((0,eu.Z)(r.sdk.integrations||[]),(0,eu.Z)(p.integrations||[])),r.sdk.packages=[].concat((0,eu.Z)(r.sdk.packages||[]),(0,eu.Z)(p.packages||[]))),S=createEventEnvelopeHeaders(r,u,c,o),delete r.sdkProcessingMetadata,createEnvelope(S,[[{type:l},r]])),w=baseclient_createForOfIteratorHelper(i.attachments||[]);try{for(w.s();!(k=w.n()).done;){var C=k.value;O=function(r,n){var i=(0,ex.Z)(r,2),o=i[0],a=i[1];return[o,[].concat((0,eu.Z)(a),[n])]}(O,function(r,n){var i="string"==typeof r.data?encodeUTF8(r.data,n):r.data;return[dropUndefinedKeys({type:"attachment",length:i.length,filename:r.filename,content_type:r.contentType,attachment_type:r.attachmentType}),i]}(C,this._options.transportOptions&&this._options.transportOptions.textEncoder))}}catch(r){w.e(r)}finally{w.f()}var I=this._sendEnvelope(O);I&&I.then(function(i){return n.emit("afterSendEvent",r,i)},null)}},{key:"sendSession",value:function(r){var n,i,o,a,c=(n=this._dsn,i=this._options._metadata,o=this._options.tunnel,a=getSdkMetadataForEnvelopeHeader(i),createEnvelope(esm_envelope_objectSpread(esm_envelope_objectSpread({sent_at:new Date().toISOString()},a&&{sdk:a}),!!o&&n&&{dsn:dsn_dsnToString(n)}),["aggregates"in r?[{type:"sessions"},r]:[{type:"session"},r.toJSON()]]));this._sendEnvelope(c)}},{key:"recordDroppedEvent",value:function(r,n,i){if(this._options.sendClientReports){var o="".concat(r,":").concat(n);this._outcomes[o]=this._outcomes[o]+1||1}}},{key:"on",value:function(r,n){this._hooks[r]||(this._hooks[r]=[]),this._hooks[r].push(n)}},{key:"emit",value:function(r){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];this._hooks[r]&&this._hooks[r].forEach(function(r){return r.apply(void 0,i)})}},{key:"_updateSessionFromEvent",value:function(r,n){var i=!1,o=!1,a=n.exception&&n.exception.values;if(a){o=!0;var c,u=baseclient_createForOfIteratorHelper(a);try{for(u.s();!(c=u.n()).done;){var l=c.value.mechanism;if(l&&!1===l.handled){i=!0;break}}}catch(r){u.e(r)}finally{u.f()}}var p="ok"===r.status;(p&&0===r.errors||p&&i)&&(updateSession(r,baseclient_objectSpread(baseclient_objectSpread({},i&&{status:"crashed"}),{},{errors:r.errors||Number(o||i)})),this.captureSession(r))}},{key:"_isClientDoneProcessing",value:function(r){var n=this;return new eb(function(i){var o=0,a=setInterval(function(){0==n._numProcessing?(clearInterval(a),i(!0)):(o+=1,r&&o>=r&&(clearInterval(a),i(!1)))},1)})}},{key:"_isEnabled",value:function(){return!1!==this.getOptions().enabled&&void 0!==this._transport}},{key:"_prepareEvent",value:function(r,n,i){var o=this,a=this.getOptions(),c=Object.keys(this._integrations);return!n.integrations&&c.length>0&&(n.integrations=c),this.emit("preprocessEvent",r,n),prepareEvent(a,r,n,i,this).then(function(r){if(null===r)return r;var n=(r.sdkProcessingMetadata||{}).propagationContext;if(!(r.contexts&&r.contexts.trace)&&n){var a=n.traceId,c=n.spanId,u=n.parentSpanId,l=n.dsc;r.contexts=baseclient_objectSpread({trace:{trace_id:a,span_id:c,parent_span_id:u}},r.contexts);var p=l||getDynamicSamplingContextFromClient(a,o,i);r.sdkProcessingMetadata=baseclient_objectSpread({dynamicSamplingContext:p},r.sdkProcessingMetadata)}return r})}},{key:"_captureEvent",value:function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;return this._processEvent(r,n,i).then(function(r){return r.event_id},function(r){})}},{key:"_processEvent",value:function(r,n,i){var o=this,a=this.getOptions(),c=a.sampleRate,u=isTransactionEvent(r),l=baseclient_isErrorEvent(r),p=r.type||"error",S="before send for type `".concat(p,"`");if(l&&"number"==typeof c&&Math.random()>c)return this.recordDroppedEvent("sample_rate","error",r),rejectedSyncPromise(new eY("Discarding event because it's not included in the random sample (sampling rate = ".concat(c,")"),"log"));var k="replay_event"===p?"replay":p;return this._prepareEvent(r,n,i).then(function(i){var c,u;if(null===i)throw o.recordDroppedEvent("event_processor",k,r),new eY("An event processor returned `null`, will not send event.","log");return n.data&&!0===n.data.__sentry__?i:function(r,n){var i="".concat(n," must return `null` or a valid event.");if(is_isThenable(r))return r.then(function(r){if(!isPlainObject(r)&&null!==r)throw new eY(i);return r},function(r){throw new eY("".concat(n," rejected with ").concat(r))});if(!isPlainObject(r)&&null!==r)throw new eY(i);return r}((c=a.beforeSend,u=a.beforeSendTransaction,baseclient_isErrorEvent(i)&&c?c(i,n):isTransactionEvent(i)&&u?u(i,n):i),S)}).then(function(a){if(null===a)throw o.recordDroppedEvent("before_send",k,r),new eY("".concat(S," returned `null`, will not send event."),"log");var c=i&&i.getSession();!u&&c&&o._updateSessionFromEvent(c,a);var l=a.transaction_info;return u&&l&&a.transaction!==r.transaction&&(a.transaction_info=baseclient_objectSpread(baseclient_objectSpread({},l),{},{source:"custom"})),o.sendEvent(a,n),a}).then(null,function(r){if(r instanceof eY)throw r;throw o.captureException(r,{data:{__sentry__:!0},originalException:r}),new eY("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ".concat(r))})}},{key:"_process",value:function(r){var n=this;this._numProcessing++,r.then(function(r){return n._numProcessing--,r},function(r){return n._numProcessing--,r})}},{key:"_sendEnvelope",value:function(r){if(this.emit("beforeEnvelope",r),this._isEnabled()&&this._transport)return this._transport.send(r).then(null,function(r){})}},{key:"_clearOutcomes",value:function(){var r=this._outcomes;return this._outcomes={},Object.keys(r).map(function(n){var i=n.split(":"),o=(0,ex.Z)(i,2);return{reason:o[0],category:o[1],quantity:r[n]}})}}]),BaseClient}();function baseclient_isErrorEvent(r){return void 0===r.type}function isTransactionEvent(r){return"transaction"===r.type}var e0=i(874);function eventbuilder_ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}function eventbuilder_objectSpread(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?eventbuilder_ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):eventbuilder_ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}function exceptionFromError(r,n){var i,o=parseStackFrames(r,n),a={type:n&&n.name,value:(i=n&&n.message)?i.error&&"string"==typeof i.error.message?i.error.message:i:"No error message"};return o.length&&(a.stacktrace={frames:o}),void 0===a.type&&""===a.value&&(a.value="Unrecoverable error caught"),a}function eventFromError(r,n){return{exception:{values:[exceptionFromError(r,n)]}}}function parseStackFrames(r,n){var i=n.stacktrace||n.stack||"",o=function(r){if(r){if("number"==typeof r.framesToPop)return r.framesToPop;if(e1.test(r.message))return 1}return 0}(n);try{return r(i,o)}catch(r){}return[]}var e1=/Minified React error #\d+;/i;function eventFromUnknownInput(r,n,i,o,a){var c;if(isErrorEvent(n)&&n.error)return eventFromError(r,n.error);if(isDOMError(n)||isBuiltin(n,"DOMException")){if("stack"in n)c=eventFromError(r,n);else{var u=n.name||(isDOMError(n)?"DOMError":"DOMException"),l=n.message?"".concat(u,": ").concat(n.message):u;addExceptionTypeValue(c=eventFromString(r,l,i,o),l)}return"code"in n&&(c.tags=eventbuilder_objectSpread(eventbuilder_objectSpread({},c.tags),{},{"DOMException.code":"".concat(n.code)})),c}return isError(n)?eventFromError(r,n):(isPlainObject(n)||isEvent(n)?addExceptionMechanism(c=function(r,n,i,o){var a=hub_getCurrentHub().getClient(),c=a&&a.getOptions().normalizeDepth,u={exception:{values:[{type:isEvent(n)?n.constructor.name:o?"UnhandledRejection":"Error",value:function(r,n){var i=n.isUnhandledRejection,o=function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40,i=Object.keys(convertToPlainObject(r));if(i.sort(),!i.length)return"[object has no keys]";if(i[0].length>=n)return truncate(i[0],n);for(var o=i.length;o>0;o--){var a=i.slice(0,o).join(", ");if(!(a.length>n)){if(o===i.length)return a;return truncate(a,n)}}return""}(r),a=i?"promise rejection":"exception";if(isErrorEvent(r))return"Event `ErrorEvent` captured as ".concat(a," with message `").concat(r.message,"`");if(isEvent(r)){var c=function(r){try{var n=Object.getPrototypeOf(r);return n?n.constructor.name:void 0}catch(r){}}(r);return"Event `".concat(c,"` (type=").concat(r.type,") captured as ").concat(a)}return"Object captured as ".concat(a," with keys: ").concat(o)}(n,{isUnhandledRejection:o})}]},extra:{__serialized__:function normalizeToSize(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:102400,o=normalize(r,n);return~-encodeURI(JSON.stringify(o)).split(/%..|./).length>i?normalizeToSize(r,n-1,i):o}(n,c)}};if(i){var l=parseStackFrames(r,i);l.length&&(u.exception.values[0].stacktrace={frames:l})}return u}(r,n,i,a),{synthetic:!0}):(addExceptionTypeValue(c=eventFromString(r,n,i,o),"".concat(n),void 0),addExceptionMechanism(c,{synthetic:!0})),c)}function eventFromString(r,n,i,o){var a={message:n};if(o&&i){var c=parseStackFrames(r,i);c.length&&(a.exception={values:[{value:n,stacktrace:{frames:c}}]})}return a}var e2=i(7267),e3=i.n(e2);function helpers_ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}function helpers_objectSpread(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?helpers_ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):helpers_ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}var e5=eh.n2,e4=0;function wrap(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;if("function"!=typeof r)return r;try{var o=r.__sentry_wrapped__;if(o)return o;if(getOriginalFunction(r))return r}catch(n){return r}var sentryWrapped=function(){var o=Array.prototype.slice.call(arguments);try{i&&"function"==typeof i&&i.apply(this,arguments);var a=o.map(function(r){return wrap(r,n)});return r.apply(this,a)}catch(r){throw e4++,setTimeout(function(){e4--}),hub_getCurrentHub().withScope(function(i){i.addEventProcessor(function(r){return n.mechanism&&(addExceptionTypeValue(r,void 0,void 0),addExceptionMechanism(r,n.mechanism)),r.extra=helpers_objectSpread(helpers_objectSpread({},r.extra),{},{arguments:o}),r}),hub_getCurrentHub().captureException(r,{captureContext:void 0})}),r}};try{for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(sentryWrapped[a]=r[a])}catch(r){}markFunctionWrapped(sentryWrapped,r),addNonEnumerableProperty(r,"__sentry_wrapped__",sentryWrapped);try{Object.getOwnPropertyDescriptor(sentryWrapped,"name").configurable&&Object.defineProperty(sentryWrapped,"name",{get:function(){return r.name}})}catch(r){}return sentryWrapped}function userfeedback_ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}function userfeedback_objectSpread(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?userfeedback_ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):userfeedback_ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}var e6=function(r){(0,ez.Z)(BrowserClient,r);var n,i=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,i=(0,eG.Z)(BrowserClient);if(n){var o=(0,eG.Z)(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return(0,eW.Z)(this,r)});function BrowserClient(r){(0,ef.Z)(this,BrowserClient);var n,o=e5.SENTRY_SDK_SOURCE||(0,e0.S)();return r._metadata=r._metadata||{},r._metadata.sdk=r._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"".concat(o,":@sentry/browser"),version:eO}],version:eO},n=i.call(this,r),r.sendClientReports&&e5.document&&e5.document.addEventListener("visibilitychange",function(){"hidden"===e5.document.visibilityState&&n._flushOutcomes()}),n}return(0,ed.Z)(BrowserClient,[{key:"eventFromException",value:function(r,n){var i,o,a;return i=this._options.stackParser,o=this._options.attachStacktrace,addExceptionMechanism(a=eventFromUnknownInput(i,r,n&&n.syntheticException||void 0,o)),a.level="error",n&&n.event_id&&(a.event_id=n.event_id),resolvedSyncPromise(a)}},{key:"eventFromMessage",value:function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",i=arguments.length>2?arguments[2]:void 0;return function(r,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info",o=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,c=eventFromString(r,n,o&&o.syntheticException||void 0,a);return c.level=i,o&&o.event_id&&(c.event_id=o.event_id),resolvedSyncPromise(c)}(this._options.stackParser,r,n,i,this._options.attachStacktrace)}},{key:"captureUserFeedback",value:function(r){if(this._isEnabled()){var n,i,o,a,c=(i=(n={metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel}).metadata,o=n.tunnel,a=n.dsn,createEnvelope(userfeedback_objectSpread(userfeedback_objectSpread({event_id:r.event_id,sent_at:new Date().toISOString()},i&&i.sdk&&{sdk:{name:i.sdk.name,version:i.sdk.version}}),!!o&&!!a&&{dsn:dsn_dsnToString(a)}),[[{type:"user_report"},r]]));this._sendEnvelope(c)}}},{key:"_prepareEvent",value:function(r,n,i){return r.platform=r.platform||"javascript",(0,eq.Z)((0,eG.Z)(BrowserClient.prototype),"_prepareEvent",this).call(this,r,n,i)}},{key:"_flushOutcomes",value:function(){var r,n=this._clearOutcomes();if(0!==n.length&&this._dsn){var i=createEnvelope((r=this._options.tunnel&&dsn_dsnToString(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:(0,em.yW)(),discarded_events:n}]]);this._sendEnvelope(i)}}}]),BrowserClient}(eJ);function globalhandlers_ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}var e8=function(){function GlobalHandlers(r){(0,ef.Z)(this,GlobalHandlers),this.name=GlobalHandlers.id,this._options=function(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?globalhandlers_ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):globalhandlers_ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}({onerror:!0,onunhandledrejection:!0},r),this._installFunc={onerror:_installGlobalOnErrorHandler,onunhandledrejection:_installGlobalOnUnhandledRejectionHandler}}return(0,ed.Z)(GlobalHandlers,[{key:"setupOnce",value:function(){Error.stackTraceLimit=50;var r=this._options;for(var n in r){var i=this._installFunc[n];i&&r[n]&&(i(),this._installFunc[n]=void 0)}}}],[{key:"__initStatic",value:function(){this.id="GlobalHandlers"}}]),GlobalHandlers}();function _installGlobalOnErrorHandler(){addInstrumentationHandler("error",function(r){var n=getHubAndOptions(),i=(0,ex.Z)(n,3),o=i[0],a=i[1],c=i[2];if(o.getIntegration(e8)){var u=r.msg,l=r.url,p=r.line,S=r.column,k=r.error;if(!(e4>0)&&(!k||!k.__sentry_own_request__)){var O,w,C,I=void 0===k&&isString(u)?(O=isErrorEvent(u)?u.message:u,w="Error",(C=O.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i))&&(w=C[1],O=C[2]),_enhanceEventWithInitialFrame({exception:{values:[{type:w,value:O}]}},l,p,S)):_enhanceEventWithInitialFrame(eventFromUnknownInput(a,k||u,void 0,c,!1),l,p,S);I.level="error",addMechanismAndCapture(o,k,I,"onerror")}}})}function _installGlobalOnUnhandledRejectionHandler(){addInstrumentationHandler("unhandledrejection",function(r){var n=getHubAndOptions(),i=(0,ex.Z)(n,3),o=i[0],a=i[1],c=i[2];if(o.getIntegration(e8)){var u,l=r;try{"reason"in r?l=r.reason:"detail"in r&&"reason"in r.detail&&(l=r.detail.reason)}catch(r){}if(e4>0||l&&l.__sentry_own_request__)return!0;var p=is_isPrimitive(l)?(u=l,{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: ".concat(String(u))}]}}):eventFromUnknownInput(a,l,void 0,c,!0);p.level="error",addMechanismAndCapture(o,l,p,"onunhandledrejection")}})}function _enhanceEventWithInitialFrame(r,n,i,o){var a=r.exception=r.exception||{},c=a.values=a.values||[],u=c[0]=c[0]||{},l=u.stacktrace=u.stacktrace||{},p=l.frames=l.frames||[],S=isNaN(parseInt(o,10))?void 0:o,k=isNaN(parseInt(i,10))?void 0:i,O=isString(n)&&n.length>0?n:function(){try{return ev.document.location.href}catch(r){return""}}();return 0===p.length&&p.push({colno:S,filename:O,function:"?",in_app:!0,lineno:k}),r}function addMechanismAndCapture(r,n,i,o){addExceptionMechanism(i,{handled:!1,type:o}),r.captureEvent(i,{originalException:n})}function getHubAndOptions(){var r=hub_getCurrentHub(),n=r.getClient(),i=n&&n.getOptions()||{stackParser:function(){return[]},attachStacktrace:!1};return[r,i.stackParser,i.attachStacktrace]}function trycatch_ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}e8.__initStatic();var e7=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],e9=function(){function TryCatch(r){(0,ef.Z)(this,TryCatch),this.name=TryCatch.id,this._options=function(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?trycatch_ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):trycatch_ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},r)}return(0,ed.Z)(TryCatch,[{key:"setupOnce",value:function(){this._options.setTimeout&&fill(e5,"setTimeout",_wrapTimeFunction),this._options.setInterval&&fill(e5,"setInterval",_wrapTimeFunction),this._options.requestAnimationFrame&&fill(e5,"requestAnimationFrame",_wrapRAF),this._options.XMLHttpRequest&&"XMLHttpRequest"in e5&&fill(XMLHttpRequest.prototype,"send",_wrapXHR);var r=this._options.eventTarget;r&&(Array.isArray(r)?r:e7).forEach(_wrapEventTarget)}}],[{key:"__initStatic",value:function(){this.id="TryCatch"}}]),TryCatch}();function _wrapTimeFunction(r){return function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=i[0];return i[0]=wrap(a,{mechanism:{data:{function:getFunctionName(r)},handled:!1,type:"instrument"}}),r.apply(this,i)}}function _wrapRAF(r){return function(n){return r.apply(this,[wrap(n,{mechanism:{data:{function:"requestAnimationFrame",handler:getFunctionName(r)},handled:!1,type:"instrument"}})])}}function _wrapXHR(r){return function(){var n=this;["onload","onerror","onprogress","onreadystatechange"].forEach(function(r){r in n&&"function"==typeof n[r]&&fill(n,r,function(n){var i={mechanism:{data:{function:r,handler:getFunctionName(n)},handled:!1,type:"instrument"}},o=getOriginalFunction(n);return o&&(i.mechanism.data.handler=getFunctionName(o)),wrap(n,i)})});for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return r.apply(this,o)}}function _wrapEventTarget(r){var n=e5[r]&&e5[r].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(fill(n,"addEventListener",function(n){return function(i,o,a){try{"function"==typeof o.handleEvent&&(o.handleEvent=wrap(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:getFunctionName(o),target:r},handled:!1,type:"instrument"}}))}catch(r){}return n.apply(this,[i,wrap(o,{mechanism:{data:{function:"addEventListener",handler:getFunctionName(o),target:r},handled:!1,type:"instrument"}}),a])}}),fill(n,"removeEventListener",function(r){return function(n,i,o){try{var a=i&&i.__sentry_wrapped__;a&&r.call(this,n,a,o)}catch(r){}return r.call(this,n,i,o)}}))}e9.__initStatic();var tt=["fatal","error","warning","log","info","debug"];function parseUrl(r){if(!r)return{};var n=r.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!n)return{};var i=n[6]||"",o=n[8]||"";return{host:n[4],path:n[5],protocol:n[2],search:i,hash:o,relative:n[5]+i+o}}function breadcrumbs_ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}function breadcrumbs_objectSpread(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?breadcrumbs_ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):breadcrumbs_ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}var tr=function(){function Breadcrumbs(r){(0,ef.Z)(this,Breadcrumbs),this.name=Breadcrumbs.id,this.options=breadcrumbs_objectSpread({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},r)}return(0,ed.Z)(Breadcrumbs,[{key:"setupOnce",value:function(){var r;if(this.options.console&&addInstrumentationHandler("console",_consoleBreadcrumb),this.options.dom&&addInstrumentationHandler("dom",(r=this.options.dom,function(n){var i,o="object"==typeof r?r.serializeAttribute:void 0,a="object"==typeof r&&"number"==typeof r.maxStringLength?r.maxStringLength:void 0;a&&a>1024&&(a=1024),"string"==typeof o&&(o=[o]);try{var c=n.event;i=c&&c.target?htmlTreeAsString(c.target,{keyAttrs:o,maxStringLength:a}):htmlTreeAsString(c,{keyAttrs:o,maxStringLength:a})}catch(r){i="<unknown>"}0!==i.length&&hub_getCurrentHub().addBreadcrumb({category:"ui.".concat(n.name),message:i},{event:n.event,name:n.name,global:n.global})})),this.options.xhr&&addInstrumentationHandler("xhr",_xhrBreadcrumb),this.options.fetch&&addInstrumentationHandler("fetch",_fetchBreadcrumb),this.options.history&&addInstrumentationHandler("history",_historyBreadcrumb),this.options.sentry){var n=hub_getCurrentHub().getClient();n&&n.on&&n.on("beforeSendEvent",addSentryBreadcrumb)}}}],[{key:"__initStatic",value:function(){this.id="Breadcrumbs"}}]),Breadcrumbs}();function addSentryBreadcrumb(r){hub_getCurrentHub().addBreadcrumb({category:"sentry.".concat("transaction"===r.type?"transaction":"event"),event_id:r.event_id,level:r.level,message:function(r){var n=r.message,i=r.event_id;if(n)return n;var o=getFirstException(r);return o?o.type&&o.value?"".concat(o.type,": ").concat(o.value):o.type||o.value||i||"<unknown>":i||"<unknown>"}(r)},{event:r})}function _consoleBreadcrumb(r){var n,i={category:"console",data:{arguments:r.args,logger:"console"},level:"warn"===(n=r.level)?"warning":tt.includes(n)?n:"log",message:safeJoin(r.args," ")};if("assert"===r.level){if(!1!==r.args[0])return;i.message="Assertion failed: ".concat(safeJoin(r.args.slice(1)," ")||"console.assert"),i.data.arguments=r.args.slice(1)}hub_getCurrentHub().addBreadcrumb(i,{input:r.args,level:r.level})}function _xhrBreadcrumb(r){var n=r.startTimestamp,i=r.endTimestamp,o=r.xhr[eB];if(n&&i&&o){var a=o.method,c=o.url,u=o.status_code,l=o.body,p={xhr:r.xhr,input:l,startTimestamp:n,endTimestamp:i};hub_getCurrentHub().addBreadcrumb({category:"xhr",data:{method:a,url:c,status_code:u},type:"http"},p)}}function _fetchBreadcrumb(r){var n=r.startTimestamp,i=r.endTimestamp;if(!(!i||r.fetchData.url.match(/sentry_key/)&&"POST"===r.fetchData.method)){if(r.error){var o=r.fetchData,a={data:r.error,input:r.args,startTimestamp:n,endTimestamp:i};hub_getCurrentHub().addBreadcrumb({category:"fetch",data:o,level:"error",type:"http"},a)}else{var c=breadcrumbs_objectSpread(breadcrumbs_objectSpread({},r.fetchData),{},{status_code:r.response&&r.response.status}),u={input:r.args,response:r.response,startTimestamp:n,endTimestamp:i};hub_getCurrentHub().addBreadcrumb({category:"fetch",data:c,type:"http"},u)}}}function _historyBreadcrumb(r){var n=r.from,i=r.to,o=parseUrl(e5.location.href),a=parseUrl(n),c=parseUrl(i);a.path||(a=o),o.protocol===c.protocol&&o.host===c.host&&(i=c.relative),o.protocol===a.protocol&&o.host===a.host&&(n=a.relative),hub_getCurrentHub().addBreadcrumb({category:"navigation",data:{from:n,to:i}})}function aggregate_errors_ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}function aggregate_errors_objectSpread(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?aggregate_errors_ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):aggregate_errors_ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}function applyExceptionGroupFieldsForParentException(r,n){r.mechanism=r.mechanism||{type:"generic",handled:!0},r.mechanism=aggregate_errors_objectSpread(aggregate_errors_objectSpread({},r.mechanism),{},{is_exception_group:!0,exception_id:n})}function applyExceptionGroupFieldsForChildException(r,n,i,o){r.mechanism=r.mechanism||{type:"generic",handled:!0},r.mechanism=aggregate_errors_objectSpread(aggregate_errors_objectSpread({},r.mechanism),{},{type:"chained",source:n,exception_id:i,parent_id:o})}tr.__initStatic();var tn=function(){function LinkedErrors(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,ef.Z)(this,LinkedErrors),this.name=LinkedErrors.id,this._key=r.key||"cause",this._limit=r.limit||5}return(0,ed.Z)(LinkedErrors,[{key:"setupOnce",value:function(){}},{key:"preprocessEvent",value:function(r,n,i){var o=i.getOptions();!function(r,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:250,o=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0;if(c.exception&&c.exception.values&&u&&isInstanceOf(u.originalException,Error)){var l=c.exception.values.length>0?c.exception.values[c.exception.values.length-1]:void 0;l&&(c.exception.values=(function aggregateExceptionsFromError(r,n,i,o,a,c,u,l){if(c.length>=i+1)return c;var p=(0,eu.Z)(c);if(isInstanceOf(o[a],Error)){applyExceptionGroupFieldsForParentException(u,l);var S=r(n,o[a]),k=p.length;applyExceptionGroupFieldsForChildException(S,a,k,l),p=aggregateExceptionsFromError(r,n,i,o[a],a,[S].concat((0,eu.Z)(p)),S,k)}return Array.isArray(o.errors)&&o.errors.forEach(function(o,c){if(isInstanceOf(o,Error)){applyExceptionGroupFieldsForParentException(u,l);var S=r(n,o),k=p.length;applyExceptionGroupFieldsForChildException(S,"errors[".concat(c,"]"),k,l),p=aggregateExceptionsFromError(r,n,i,o,a,[S].concat((0,eu.Z)(p)),S,k)}}),p})(r,n,a,u.originalException,o,c.exception.values,l,0).map(function(r){return r.value&&(r.value=truncate(r.value,i)),r}))}}(exceptionFromError,o.stackParser,o.maxValueLength,this._key,this._limit,r,n)}}],[{key:"__initStatic",value:function(){this.id="LinkedErrors"}}]),LinkedErrors}();function httpcontext_ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}function httpcontext_objectSpread(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?httpcontext_ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):httpcontext_ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}tn.__initStatic();var ti=function(){function HttpContext(){(0,ef.Z)(this,HttpContext),this.name=HttpContext.id}return(0,ed.Z)(HttpContext,[{key:"setupOnce",value:function(){}},{key:"preprocessEvent",value:function(r){if(e5.navigator||e5.location||e5.document){var n=r.request&&r.request.url||e5.location&&e5.location.href,i=(e5.document||{}).referrer,o=(e5.navigator||{}).userAgent,a=httpcontext_objectSpread(httpcontext_objectSpread(httpcontext_objectSpread({},r.request&&r.request.headers),i&&{Referer:i}),o&&{"User-Agent":o}),c=httpcontext_objectSpread(httpcontext_objectSpread(httpcontext_objectSpread({},r.request),n&&{url:n}),{},{headers:a});r.request=c}}}],[{key:"__initStatic",value:function(){this.id="HttpContext"}}]),HttpContext}();ti.__initStatic();var to=function(){function Dedupe(){(0,ef.Z)(this,Dedupe),this.name=Dedupe.id}return(0,ed.Z)(Dedupe,[{key:"setupOnce",value:function(r,n){}},{key:"processEvent",value:function(r){if(r.type)return r;try{var n,i,o,a,c;if((n=this._previousEvent)&&(i=r.message,o=n.message,(i||o)&&(!i||o)&&(i||!o)&&i===o&&_isSameFingerprint(r,n)&&_isSameStacktrace(r,n)||(a=_getExceptionFromEvent(n),c=_getExceptionFromEvent(r),a&&c&&a.type===c.type&&a.value===c.value&&_isSameFingerprint(r,n)&&_isSameStacktrace(r,n))))return null}catch(r){}return this._previousEvent=r}}],[{key:"__initStatic",value:function(){this.id="Dedupe"}}]),Dedupe}();function _isSameStacktrace(r,n){var i=_getFramesFromEvent(r),o=_getFramesFromEvent(n);if(!i&&!o)return!0;if(i&&!o||!i&&o||o.length!==i.length)return!1;for(var a=0;a<o.length;a++){var c=o[a],u=i[a];if(c.filename!==u.filename||c.lineno!==u.lineno||c.colno!==u.colno||c.function!==u.function)return!1}return!0}function _isSameFingerprint(r,n){var i=r.fingerprint,o=n.fingerprint;if(!i&&!o)return!0;if(i&&!o||!i&&o)return!1;try{return!(i.join("")!==o.join(""))}catch(r){return!1}}function _getExceptionFromEvent(r){return r.exception&&r.exception.values&&r.exception.values[0]}function _getFramesFromEvent(r){var n=r.exception;if(n)try{return n.values[0].stacktrace.frames}catch(r){}}function createFrame(r,n,i,o){var a={filename:r,function:n,in_app:!0};return void 0!==i&&(a.lineno=i),void 0!==o&&(a.colno=o),a}to.__initStatic();var ta=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,ts=/\((\S*)(?::(\d+))(?::(\d+))\)/,tc=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,tu=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,tl=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,tf=[[30,function(r){var n=ta.exec(r);if(n){if(n[2]&&0===n[2].indexOf("eval")){var i=ts.exec(n[2]);i&&(n[2]=i[1],n[3]=i[2],n[4]=i[3])}var o=extractSafariExtensionDetails(n[1]||"?",n[2]),a=(0,ex.Z)(o,2),c=a[0];return createFrame(a[1],c,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,function(r){var n=tc.exec(r);if(n){if(n[3]&&n[3].indexOf(" > eval")>-1){var i=tu.exec(n[3]);i&&(n[1]=n[1]||"eval",n[3]=i[1],n[4]=i[2],n[5]="")}var o=n[3],a=n[1]||"?",c=extractSafariExtensionDetails(a,o),u=(0,ex.Z)(c,2);return a=u[0],createFrame(o=u[1],a,n[4]?+n[4]:void 0,n[5]?+n[5]:void 0)}}],[40,function(r){var n=tl.exec(r);return n?createFrame(n[2],n[1]||"?",+n[3],n[4]?+n[4]:void 0):void 0}]],td=createStackParser.apply(void 0,tf),extractSafariExtensionDetails=function(r,n){var i=-1!==r.indexOf("safari-extension"),o=-1!==r.indexOf("safari-web-extension");return i||o?[-1!==r.indexOf("@")?r.split("@")[0]:"?",i?"safari-extension:".concat(n):"safari-web-extension:".concat(n)]:[r,n]};function ratelimit_createForOfIteratorHelper(r,n){var i="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!i){if(Array.isArray(r)||(i=function(r,n){if(r){if("string"==typeof r)return ratelimit_arrayLikeToArray(r,n);var i=Object.prototype.toString.call(r).slice(8,-1);if("Object"===i&&r.constructor&&(i=r.constructor.name),"Map"===i||"Set"===i)return Array.from(r);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ratelimit_arrayLikeToArray(r,n)}}(r))||n&&r&&"number"==typeof r.length){i&&(r=i);var o=0,F=function(){};return{s:F,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(r){throw r},f:F}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){i=i.call(r)},n:function(){var r=i.next();return c=r.done,r},e:function(r){u=!0,a=r},f:function(){try{c||null==i.return||i.return()}finally{if(u)throw a}}}}function ratelimit_arrayLikeToArray(r,n){(null==n||n>r.length)&&(n=r.length);for(var i=0,o=Array(n);i<n;i++)o[i]=r[i];return o}function ratelimit_ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}function isRateLimited(r,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return(r[n]||r.all||0)>i}function updateRateLimits(r,n){var i=n.statusCode,o=n.headers,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now(),c=function(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?ratelimit_ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):ratelimit_ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}({},r),u=o&&o["x-sentry-rate-limits"],l=o&&o["retry-after"];if(u){var p,S=ratelimit_createForOfIteratorHelper(u.trim().split(","));try{for(S.s();!(p=S.n()).done;){var k=p.value.split(":",2),O=(0,ex.Z)(k,2),w=O[0],C=O[1],I=parseInt(w,10),R=(isNaN(I)?60:I)*1e3;if(C){var x,j=ratelimit_createForOfIteratorHelper(C.split(";"));try{for(j.s();!(x=j.n()).done;)c[x.value]=a+R}catch(r){j.e(r)}finally{j.f()}}else c.all=a+R}}catch(r){S.e(r)}finally{S.f()}}else l?c.all=a+function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),i=parseInt("".concat(r),10);if(!isNaN(i))return 1e3*i;var o=Date.parse("".concat(r));return isNaN(o)?6e4:o-n}(l,a):429===i&&(c.all=a+6e4);return c}function createTransport(r,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(r){var n=[];function remove(r){return n.splice(n.indexOf(r),1)[0]}return{$:n,add:function(i){if(!(void 0===r||n.length<r))return rejectedSyncPromise(new eY("Not adding Promise because buffer limit was reached."));var o=i();return -1===n.indexOf(o)&&n.push(o),o.then(function(){return remove(o)}).then(null,function(){return remove(o).then(null,function(){})}),o},drain:function(r){return new eb(function(i,o){var a=n.length;if(!a)return i(!0);var c=setTimeout(function(){r&&r>0&&i(!1)},r);n.forEach(function(r){resolvedSyncPromise(r).then(function(){--a||(clearTimeout(c),i(!0))},o)})})}}}(r.bufferSize||30),o={};function send(a){var c=[];if(forEachEnvelopeItem(a,function(n,i){var a=eV[i];if(isRateLimited(o,a)){var u=getEventForEnvelopeItem(n,i);r.recordDroppedEvent("ratelimit_backoff",a,u)}else c.push(n)}),0===c.length)return resolvedSyncPromise();var u=createEnvelope(a[0],c),recordEnvelopeLoss=function(n){forEachEnvelopeItem(u,function(i,o){var a=getEventForEnvelopeItem(i,o);r.recordDroppedEvent(n,eV[o],a)})};return i.add(function(){return n({body:function(r,n){var i=(0,ex.Z)(r,2),o=i[0],a=i[1],c=JSON.stringify(o);function append(r){"string"==typeof c?c="string"==typeof r?c+r:[encodeUTF8(c,n),r]:c.push("string"==typeof r?encodeUTF8(r,n):r)}var u,l=envelope_createForOfIteratorHelper(a);try{for(l.s();!(u=l.n()).done;){var p=u.value,S=(0,ex.Z)(p,2),k=S[0],O=S[1];if(append("\n".concat(JSON.stringify(k),"\n")),"string"==typeof O||O instanceof Uint8Array)append(O);else{var w=void 0;try{w=JSON.stringify(O)}catch(r){w=JSON.stringify(normalize(O))}append(w)}}}catch(r){l.e(r)}finally{l.f()}return"string"==typeof c?c:function(r){var n,i=r.reduce(function(r,n){return r+n.length},0),o=new Uint8Array(i),a=0,c=envelope_createForOfIteratorHelper(r);try{for(c.s();!(n=c.n()).done;){var u=n.value;o.set(u,a),a+=u.length}}catch(r){c.e(r)}finally{c.f()}return o}(c)}(u,r.textEncoder)}).then(function(r){return void 0!==r.statusCode&&(r.statusCode<200||r.statusCode),o=updateRateLimits(o,r),r},function(r){throw recordEnvelopeLoss("network_error"),r})}).then(function(r){return r},function(r){if(r instanceof eY)return recordEnvelopeLoss("queue_overflow"),resolvedSyncPromise();throw r})}return send.__sentry__baseTransport__=!0,{send:send,flush:function(r){return i.drain(r)}}}function getEventForEnvelopeItem(r,n){if("event"===n||"transaction"===n)return Array.isArray(r)?r[1]:void 0}var tp=void 0;function fetch_ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}function makeFetchTransport(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){if(tp)return tp;if(isNativeFetch(e5.fetch))return tp=e5.fetch.bind(e5);var r=e5.document,n=e5.fetch;if(r&&"function"==typeof r.createElement)try{var i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);var o=i.contentWindow;o&&o.fetch&&(n=o.fetch),r.head.removeChild(i)}catch(r){}return tp=n.bind(e5)}(),i=0,o=0;return createTransport(r,function(a){var c=a.body.length;i+=c,o++;var u=function(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?fetch_ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):fetch_ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}({body:a.body,method:"POST",referrerPolicy:"origin",headers:r.headers,keepalive:i<=6e4&&o<15},r.fetchOptions);try{return n(r.url,u).then(function(r){return i-=c,o--,{statusCode:r.status,headers:{"x-sentry-rate-limits":r.headers.get("X-Sentry-Rate-Limits"),"retry-after":r.headers.get("Retry-After")}}})}catch(r){return tp=void 0,i-=c,o--,rejectedSyncPromise(r)}})}function makeXHRTransport(r){return createTransport(r,function(n){return new eb(function(i,o){var a=new XMLHttpRequest;for(var c in a.onerror=o,a.onreadystatechange=function(){4===a.readyState&&i({statusCode:a.status,headers:{"x-sentry-rate-limits":a.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":a.getResponseHeader("Retry-After")}})},a.open("POST",r.url),r.headers)Object.prototype.hasOwnProperty.call(r.headers,c)&&a.setRequestHeader(c,r.headers[c]);a.send(n.body)})})}function sdk_ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}function sdk_objectSpread(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?sdk_ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):sdk_ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}var th=[new eI,new eR,new e9,new tr,new e8,new tn,new to,new ti];function startSessionOnHub(r){r.startSession({ignoreDuration:!0}),r.captureSession()}function esm_sdk_ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}function baggage_ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}function baggage_objectSpread(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?baggage_ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):baggage_ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}var tv="baggage",tm="sentry-",ty=/^sentry-/;function dynamicSamplingContextToSentryBaggageHeader(r){if(r)return function(r){if(0!==Object.keys(r).length)return Object.entries(r).reduce(function(r,n,i){var o=(0,ex.Z)(n,2),a=o[0],c=o[1],u="".concat(encodeURIComponent(a),"=").concat(encodeURIComponent(c)),l=0===i?u:"".concat(r,",").concat(u);return l.length>8192?r:l},"")}(Object.entries(r).reduce(function(r,n){var i=(0,ex.Z)(n,2),o=i[0],a=i[1];return a&&(r["".concat(tm).concat(o)]=a),r},{}))}function baggageHeaderToObject(r){return r.split(",").map(function(r){return r.split("=").map(function(r){return decodeURIComponent(r.trim())})}).reduce(function(r,n){var i=(0,ex.Z)(n,2),o=i[0],a=i[1];return r[o]=a,r},{})}var tg=RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function tracingContextFromHeaders(r,n){var i=function(r){if(r){var n,i=r.match(tg);if(i)return"1"===i[3]?n=!0:"0"===i[3]&&(n=!1),{traceId:i[1],parentSampled:n,parentSpanId:i[2]}}}(r),o=function(r){if(isString(r)||Array.isArray(r)){var n={};if(Array.isArray(r))n=r.reduce(function(r,n){var i=baggageHeaderToObject(n);return baggage_objectSpread(baggage_objectSpread({},r),i)},{});else{if(!r)return;n=baggageHeaderToObject(r)}var i=Object.entries(n).reduce(function(r,n){var i=(0,ex.Z)(n,2),o=i[0],a=i[1];return o.match(ty)&&(r[o.slice(tm.length)]=a),r},{});return Object.keys(i).length>0?i:void 0}}(n),a=i||{},c=a.traceId,u=a.parentSpanId,l=a.parentSampled,p={traceId:c||misc_uuid4(),spanId:misc_uuid4().substring(16),sampled:l};return u&&(p.parentSpanId=u),o&&(p.dsc=o),{traceparentData:i,dynamicSamplingContext:o,propagationContext:p}}function generateSentryTraceHeader(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:misc_uuid4(),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:misc_uuid4().substring(16),i=arguments.length>2?arguments[2]:void 0,o="";return void 0!==i&&(o=i?"-1":"-0"),"".concat(r,"-").concat(n).concat(o)}function span_ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}function span_objectSpread(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?span_ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):span_ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}var t_=function(){function SpanRecorder(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;(0,ef.Z)(this,SpanRecorder),this._maxlen=r,this.spans=[]}return(0,ed.Z)(SpanRecorder,[{key:"add",value:function(r){this.spans.length>this._maxlen?r.spanRecorder=void 0:this.spans.push(r)}}]),SpanRecorder}();function transaction_ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}function transaction_objectSpread(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?transaction_ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):transaction_ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}var tb=function(r){(0,ez.Z)(Transaction,r);var n,i=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,i=(0,eG.Z)(Transaction);if(n){var o=(0,eG.Z)(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return(0,eW.Z)(this,r)});function Transaction(r,n){(0,ef.Z)(this,Transaction),o=i.call(this,r),delete o.description,o._measurements={},o._contexts={},o._hub=n||hub_getCurrentHub(),o._name=r.name||"",o.metadata=transaction_objectSpread(transaction_objectSpread({source:"custom"},r.metadata),{},{spanMetadata:{}}),o._trimEnd=r.trimEnd,o.transaction=(0,e$.Z)(o);var o,a=o.metadata.dynamicSamplingContext;return a&&(o._frozenDynamicSamplingContext=transaction_objectSpread({},a)),o}return(0,ed.Z)(Transaction,[{key:"name",get:function(){return this._name},set:function(r){this.setName(r)}},{key:"setName",value:function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"custom";this._name=r,this.metadata.source=n}},{key:"initSpanRecorder",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;this.spanRecorder||(this.spanRecorder=new t_(r)),this.spanRecorder.add(this)}},{key:"setContext",value:function(r,n){null===n?delete this._contexts[r]:this._contexts[r]=n}},{key:"setMeasurement",value:function(r,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this._measurements[r]={value:n,unit:i}}},{key:"setMetadata",value:function(r){this.metadata=transaction_objectSpread(transaction_objectSpread({},this.metadata),r)}},{key:"finish",value:function(r){var n=this._finishTransaction(r);if(n)return this._hub.captureEvent(n)}},{key:"toContext",value:function(){return dropUndefinedKeys(transaction_objectSpread(transaction_objectSpread({},(0,eq.Z)((0,eG.Z)(Transaction.prototype),"toContext",this).call(this)),{},{name:this.name,trimEnd:this._trimEnd}))}},{key:"updateWithContext",value:function(r){return(0,eq.Z)((0,eG.Z)(Transaction.prototype),"updateWithContext",this).call(this,r),this.name=r.name||"",this._trimEnd=r.trimEnd,this}},{key:"getDynamicSamplingContext",value:function(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;var r=this._hub||hub_getCurrentHub(),n=r.getClient();if(!n)return{};var i=r.getScope(),o=getDynamicSamplingContextFromClient(this.traceId,n,i),a=this.metadata.sampleRate;void 0!==a&&(o.sample_rate="".concat(a));var c=this.metadata.source;return c&&"url"!==c&&(o.transaction=this.name),void 0!==this.sampled&&(o.sampled=String(this.sampled)),o}},{key:"setHub",value:function(r){this._hub=r}},{key:"_finishTransaction",value:function(r){var n=this;if(void 0===this.endTimestamp){this.name||(this.name="<unlabeled transaction>"),(0,eq.Z)((0,eG.Z)(Transaction.prototype),"finish",this).call(this,r);var i=this._hub.getClient();if(i&&i.emit&&i.emit("finishTransaction",this),!0!==this.sampled){i&&i.recordDroppedEvent("sample_rate","transaction");return}var o=this.spanRecorder?this.spanRecorder.spans.filter(function(r){return r!==n&&r.endTimestamp}):[];this._trimEnd&&o.length>0&&(this.endTimestamp=o.reduce(function(r,n){return r.endTimestamp&&n.endTimestamp?r.endTimestamp>n.endTimestamp?r:n:r}).endTimestamp);var a=this.metadata,c=transaction_objectSpread({contexts:transaction_objectSpread(transaction_objectSpread({},this._contexts),{},{trace:this.getTraceContext()}),spans:o,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:transaction_objectSpread(transaction_objectSpread({},a),{},{dynamicSamplingContext:this.getDynamicSamplingContext()})},a.source&&{transaction_info:{source:a.source}});return Object.keys(this._measurements).length>0&&(c.measurements=this._measurements),c}}}]),Transaction}(function(){function Span(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,ef.Z)(this,Span),this.traceId=r.traceId||misc_uuid4(),this.spanId=r.spanId||misc_uuid4().substring(16),this.startTimestamp=r.startTimestamp||(0,em.ph)(),this.tags=r.tags||{},this.data=r.data||{},this.instrumenter=r.instrumenter||"sentry",this.origin=r.origin||"manual",r.parentSpanId&&(this.parentSpanId=r.parentSpanId),"sampled"in r&&(this.sampled=r.sampled),r.op&&(this.op=r.op),r.description&&(this.description=r.description),r.name&&(this.description=r.name),r.status&&(this.status=r.status),r.endTimestamp&&(this.endTimestamp=r.endTimestamp)}return(0,ed.Z)(Span,[{key:"name",get:function(){return this.description||""},set:function(r){this.setName(r)}},{key:"startChild",value:function(r){var n=new Span(span_objectSpread(span_objectSpread({},r),{},{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n}},{key:"setTag",value:function(r,n){return this.tags=span_objectSpread(span_objectSpread({},this.tags),{},(0,el.Z)({},r,n)),this}},{key:"setData",value:function(r,n){return this.data=span_objectSpread(span_objectSpread({},this.data),{},(0,el.Z)({},r,n)),this}},{key:"setStatus",value:function(r){return this.status=r,this}},{key:"setHttpStatus",value:function(r){this.setTag("http.status_code",String(r)),this.setData("http.response.status_code",r);var n=function(r){if(r<400&&r>=100)return"ok";if(r>=400&&r<500)switch(r){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(r>=500&&r<600)switch(r){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(r);return"unknown_error"!==n&&this.setStatus(n),this}},{key:"setName",value:function(r){this.description=r}},{key:"isSuccess",value:function(){return"ok"===this.status}},{key:"finish",value:function(r){this.endTimestamp="number"==typeof r?r:(0,em.ph)()}},{key:"toTraceparent",value:function(){return generateSentryTraceHeader(this.traceId,this.spanId,this.sampled)}},{key:"toContext",value:function(){return dropUndefinedKeys({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}},{key:"updateWithContext",value:function(r){return this.data=r.data||{},this.description=r.description,this.endTimestamp=r.endTimestamp,this.op=r.op,this.parentSpanId=r.parentSpanId,this.sampled=r.sampled,this.spanId=r.spanId||this.spanId,this.startTimestamp=r.startTimestamp||this.startTimestamp,this.status=r.status,this.tags=r.tags||{},this.traceId=r.traceId||this.traceId,this}},{key:"getTraceContext",value:function(){return dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId,origin:this.origin})}},{key:"toJSON",value:function(){return dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId,origin:this.origin})}}]),Span}());function idletransaction_arrayLikeToArray(r,n){(null==n||n>r.length)&&(n=r.length);for(var i=0,o=Array(n);i<n;i++)o[i]=r[i];return o}function idletransaction_createSuper(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}();return function(){var i,o=(0,eG.Z)(r);if(n){var a=(0,eG.Z)(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return(0,eW.Z)(this,i)}}var tS={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},tE=function(r){(0,ez.Z)(IdleTransactionSpanRecorder,r);var n=idletransaction_createSuper(IdleTransactionSpanRecorder);function IdleTransactionSpanRecorder(r,i,o,a){var c;return(0,ef.Z)(this,IdleTransactionSpanRecorder),(c=n.call(this,a))._pushActivity=r,c._popActivity=i,c.transactionSpanId=o,c}return(0,ed.Z)(IdleTransactionSpanRecorder,[{key:"add",value:function(r){var n=this;r.spanId!==this.transactionSpanId&&(r.finish=function(i){r.endTimestamp="number"==typeof i?i:(0,em.ph)(),n._popActivity(r.spanId)},void 0===r.endTimestamp&&this._pushActivity(r.spanId)),(0,eq.Z)((0,eG.Z)(IdleTransactionSpanRecorder.prototype),"add",this).call(this,r)}}]),IdleTransactionSpanRecorder}(t_),tk=function(r){(0,ez.Z)(IdleTransaction,r);var n=idletransaction_createSuper(IdleTransaction);function IdleTransaction(r,i){var o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tS.idleTimeout,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:tS.finalTimeout,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:tS.heartbeatInterval,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return(0,ef.Z)(this,IdleTransaction),(o=n.call(this,r,i))._idleHub=i,o._idleTimeout=a,o._finalTimeout=c,o._heartbeatInterval=u,o._onScope=l,o.activities={},o._heartbeatCounter=0,o._finished=!1,o._idleTimeoutCanceledPermanently=!1,o._beforeFinishCallbacks=[],o._finishReason="externalFinish",l&&i.configureScope(function(r){return r.setSpan((0,e$.Z)(o))}),o._restartIdleTimeout(),setTimeout(function(){o._finished||(o.setStatus("deadline_exceeded"),o._finishReason="finalTimeout",o.finish())},o._finalTimeout),o}return(0,ed.Z)(IdleTransaction,[{key:"finish",value:function(){var r=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,em.ph)();if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setTag("finishReason",this._finishReason),this.spanRecorder){var i,o=function(r,n){var i="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!i){if(Array.isArray(r)||(i=function(r,n){if(r){if("string"==typeof r)return idletransaction_arrayLikeToArray(r,n);var i=Object.prototype.toString.call(r).slice(8,-1);if("Object"===i&&r.constructor&&(i=r.constructor.name),"Map"===i||"Set"===i)return Array.from(r);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return idletransaction_arrayLikeToArray(r,n)}}(r))){i&&(r=i);var o=0,F=function(){};return{s:F,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(r){throw r},f:F}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){i=i.call(r)},n:function(){var r=i.next();return c=r.done,r},e:function(r){u=!0,a=r},f:function(){try{c||null==i.return||i.return()}finally{if(u)throw a}}}}(this._beforeFinishCallbacks);try{for(o.s();!(i=o.n()).done;)(0,i.value)(this,n)}catch(r){o.e(r)}finally{o.f()}this.spanRecorder.spans=this.spanRecorder.spans.filter(function(i){if(i.spanId===r.spanId)return!0;i.endTimestamp||(i.endTimestamp=n,i.setStatus("cancelled"));var o=i.startTimestamp<n,a=(r._finalTimeout+r._idleTimeout)/1e3,c=i.endTimestamp-r.startTimestamp<a;return o&&c})}if(this._onScope){var a=this._idleHub.getScope();a.getTransaction()===this&&a.setSpan(void 0)}return(0,eq.Z)((0,eG.Z)(IdleTransaction.prototype),"finish",this).call(this,n)}},{key:"registerBeforeFinishCallback",value:function(r){this._beforeFinishCallbacks.push(r)}},{key:"initSpanRecorder",value:function(r){var n=this;this.spanRecorder||(this.spanRecorder=new tE(function(r){n._finished||n._pushActivity(r)},function(r){n._finished||n._popActivity(r)},this.spanId,r),this._pingHeartbeat()),this.spanRecorder.add(this)}},{key:"cancelIdleTimeout",value:function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{restartOnChildSpanChange:!0},i=n.restartOnChildSpanChange;this._idleTimeoutCanceledPermanently=!1===i,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason="cancelled",this.finish(r)))}},{key:"setFinishReason",value:function(r){this._finishReason=r}},{key:"_restartIdleTimeout",value:function(r){var n=this;this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(function(){n._finished||0!==Object.keys(n.activities).length||(n._finishReason="idleTimeout",n.finish(r))},this._idleTimeout)}},{key:"_pushActivity",value:function(r){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),this.activities[r]=!0}},{key:"_popActivity",value:function(r){if(this.activities[r]&&delete this.activities[r],0===Object.keys(this.activities).length){var n=(0,em.ph)();this._idleTimeoutCanceledPermanently?(this._finishReason="cancelled",this.finish(n)):this._restartIdleTimeout(n+this._idleTimeout/1e3)}}},{key:"_beat",value:function(){if(!this._finished){var r=Object.keys(this.activities).join("");r===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=r,this._heartbeatCounter>=3?(this.setStatus("deadline_exceeded"),this._finishReason="heartbeatFailed",this.finish()):this._pingHeartbeat()}}},{key:"_pingHeartbeat",value:function(){var r=this;setTimeout(function(){r._beat()},this._heartbeatInterval)}}]),IdleTransaction}(tb);function getActiveTransaction(r){return(r||hub_getCurrentHub()).getScope().getTransaction()}var tT=!1;function errorCallback(){var r=getActiveTransaction();r&&r.setStatus("internal_error")}function sampleTransaction(r,n,i){var o,a;return hasTracingEnabled(n)?void 0!==r.sampled?r.setMetadata({sampleRate:Number(r.sampled)}):("function"==typeof n.tracesSampler?(o=n.tracesSampler(i),r.setMetadata({sampleRate:Number(o)})):void 0!==i.parentSampled?o=i.parentSampled:void 0!==n.tracesSampleRate?(o=n.tracesSampleRate,r.setMetadata({sampleRate:Number(o)})):(o=1,r.setMetadata({sampleRate:o})),is_isNaN(a=o)||"number"!=typeof a&&"boolean"!=typeof a||a<0||a>1||!o)?r.sampled=!1:(r.sampled=Math.random()<o,r.sampled):r.sampled=!1,r}function hubextensions_ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}function hubextensions_objectSpread(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?hubextensions_ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):hubextensions_ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}function traceHeaders(){var r=this.getScope().getSpan();return r?{"sentry-trace":r.toTraceparent()}:{}}function _startTransaction(r,n){var i=this.getClient(),o=i&&i.getOptions()||{};(o.instrumenter||"sentry")!==(r.instrumenter||"sentry")&&(r.sampled=!1);var a=new tb(r,this);return(a=sampleTransaction(a,o,hubextensions_objectSpread({parentSampled:r.parentSampled,transactionContext:r},n))).sampled&&a.initSpanRecorder(o._experiments&&o._experiments.maxSpans),i&&i.emit&&i.emit("startTransaction",a),a}function startIdleTransaction(r,n,i,o,a,c,u){var l=r.getClient(),p=l&&l.getOptions()||{},S=new tk(n,r,i,o,u,a);return(S=sampleTransaction(S,p,hubextensions_objectSpread({parentSampled:n.parentSampled,transactionContext:n},c))).sampled&&S.initSpanRecorder(p._experiments&&p._experiments.maxSpans),l&&l.emit&&l.emit("startTransaction",S),S}errorCallback.tag="sentry_tracingErrorCallback";var tO=eh.n2,bindReporter=function(r,n,i){var o,a;return function(c){n.value>=0&&(c||i)&&((a=n.value-(o||0))||void 0===o)&&(o=n.value,n.delta=a,r(n))}},getNavigationEntryFromPerformanceTiming=function(){var r=tO.performance.timing,n=tO.performance.navigation.type,i={entryType:"navigation",startTime:0,type:2==n?"back_forward":1===n?"reload":"navigate"};for(var o in r)"navigationStart"!==o&&"toJSON"!==o&&(i[o]=Math.max(r[o]-r.navigationStart,0));return i},getNavigationEntry=function(){return tO.__WEB_VITALS_POLYFILL__?tO.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||getNavigationEntryFromPerformanceTiming()):tO.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},getActivationStart=function(){var r=getNavigationEntry();return r&&r.activationStart||0},initMetric=function(r,n){var i=getNavigationEntry(),o="navigate";return i&&(o=tO.document.prerendering||getActivationStart()>0?"prerender":i.type.replace(/_/g,"-")),{name:r,value:void 0===n?-1:n,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(Math.random()*(9e12-1))+1e12),navigationType:o}},observe=function(r,n,i){try{if(PerformanceObserver.supportedEntryTypes.includes(r)){var o=new PerformanceObserver(function(r){n(r.getEntries())});return o.observe(Object.assign({type:r,buffered:!0},i||{})),o}}catch(r){}},onHidden=function(r,n){var onHiddenOrPageHide=function onHiddenOrPageHide(i){("pagehide"===i.type||"hidden"===tO.document.visibilityState)&&(r(i),n&&(removeEventListener("visibilitychange",onHiddenOrPageHide,!0),removeEventListener("pagehide",onHiddenOrPageHide,!0)))};addEventListener("visibilitychange",onHiddenOrPageHide,!0),addEventListener("pagehide",onHiddenOrPageHide,!0)},onCLS=function(r){var n,i=initMetric("CLS",0),o=0,a=[],handleEntries=function(r){r.forEach(function(r){if(!r.hadRecentInput){var c=a[0],u=a[a.length-1];o&&0!==a.length&&r.startTime-u.startTime<1e3&&r.startTime-c.startTime<5e3?(o+=r.value,a.push(r)):(o=r.value,a=[r]),o>i.value&&(i.value=o,i.entries=a,n&&n())}})},c=observe("layout-shift",handleEntries);if(c){n=bindReporter(r,i);var stopListening=function(){handleEntries(c.takeRecords()),n(!0)};return onHidden(stopListening),stopListening}},tw=-1,trackChanges=function(){onHidden(function(r){tw=r.timeStamp},!0)},getVisibilityWatcher=function(){return tw<0&&(tw="hidden"!==tO.document.visibilityState||tO.document.prerendering?1/0:0,trackChanges()),{get firstHiddenTime(){return tw}}},onFID=function(r){var n,i=getVisibilityWatcher(),o=initMetric("FID"),handleEntry=function(r){r.startTime<i.firstHiddenTime&&(o.value=r.processingStart-r.startTime,o.entries.push(r),n(!0))},handleEntries=function(r){r.forEach(handleEntry)},a=observe("first-input",handleEntries);n=bindReporter(r,o),a&&onHidden(function(){handleEntries(a.takeRecords()),a.disconnect()},!0)},tC={},onLCP=function(r){var n,i=getVisibilityWatcher(),o=initMetric("LCP"),handleEntries=function(r){var a=r[r.length-1];if(a){var c=Math.max(a.startTime-getActivationStart(),0);c<i.firstHiddenTime&&(o.value=c,o.entries=[a],n())}},a=observe("largest-contentful-paint",handleEntries);if(a){n=bindReporter(r,o);var stopListening=function(){tC[o.id]||(handleEntries(a.takeRecords()),a.disconnect(),tC[o.id]=!0,n(!0))};return["keydown","click"].forEach(function(r){addEventListener(r,stopListening,{once:!0,capture:!0})}),onHidden(stopListening,!0),stopListening}};function browser_instrument_arrayLikeToArray(r,n){(null==n||n>r.length)&&(n=r.length);for(var i=0,o=Array(n);i<n;i++)o[i]=r[i];return o}var tI={},tR={};function addLcpInstrumentationHandler(r){return addMetricObserver("lcp",r,instrumentLcp,G)}function addPerformanceInstrumentationHandler(r,n){var i;return addHandler(r,n),tR[r]||(i={},"event"===r&&(i.durationThreshold=0),observe(r,function(n){instrument_triggerHandlers(r,{entries:n})},i),tR[r]=!0),getCleanupCallback(r,n)}function instrument_triggerHandlers(r,n){var i=tI[r];if(i&&i.length){var o,a=function(r,n){var i="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!i){if(Array.isArray(r)||(i=function(r,n){if(r){if("string"==typeof r)return browser_instrument_arrayLikeToArray(r,n);var i=Object.prototype.toString.call(r).slice(8,-1);if("Object"===i&&r.constructor&&(i=r.constructor.name),"Map"===i||"Set"===i)return Array.from(r);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return browser_instrument_arrayLikeToArray(r,n)}}(r))){i&&(r=i);var o=0,F=function(){};return{s:F,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(r){throw r},f:F}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){i=i.call(r)},n:function(){var r=i.next();return c=r.done,r},e:function(r){u=!0,a=r},f:function(){try{c||null==i.return||i.return()}finally{if(u)throw a}}}}(i);try{for(a.s();!(o=a.n()).done;){var c=o.value;try{c(n)}catch(r){}}}catch(r){a.e(r)}finally{a.f()}}}function instrumentCls(){onCLS(function(r){instrument_triggerHandlers("cls",{metric:r}),N=r})}function instrumentFid(){onFID(function(r){instrument_triggerHandlers("fid",{metric:r}),W=r})}function instrumentLcp(){onLCP(function(r){instrument_triggerHandlers("lcp",{metric:r}),G=r})}function addMetricObserver(r,n,i,o){return addHandler(r,n),tR[r]||(i(),tR[r]=!0),o&&n({metric:o}),getCleanupCallback(r,n)}function addHandler(r,n){tI[r]=tI[r]||[],tI[r].push(n)}function getCleanupCallback(r,n){return function(){var i=tI[r];if(i){var o=i.indexOf(n);-1!==o&&i.splice(o,1)}}}var tx=["startTimestamp"];function utils_ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}function isMeasurementValue(r){return"number"==typeof r&&isFinite(r)}function _startChild(r,n){var i=n.startTimestamp,o=function(r,n){if(null==r)return{};var i,o,a=function(r,n){if(null==r)return{};var i,o,a={},c=Object.keys(r);for(o=0;o<c.length;o++)i=c[o],n.indexOf(i)>=0||(a[i]=r[i]);return a}(r,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(r);for(o=0;o<c.length;o++)i=c[o],!(n.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(a[i]=r[i])}return a}(n,tx);return i&&r.startTimestamp>i&&(r.startTimestamp=i),r.startChild(function(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?utils_ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):utils_ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}({startTimestamp:i},o))}function metrics_createForOfIteratorHelper(r,n){var i="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!i){if(Array.isArray(r)||(i=function(r,n){if(r){if("string"==typeof r)return metrics_arrayLikeToArray(r,n);var i=Object.prototype.toString.call(r).slice(8,-1);if("Object"===i&&r.constructor&&(i=r.constructor.name),"Map"===i||"Set"===i)return Array.from(r);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return metrics_arrayLikeToArray(r,n)}}(r))||n&&r&&"number"==typeof r.length){i&&(r=i);var o=0,F=function(){};return{s:F,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(r){throw r},f:F}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){i=i.call(r)},n:function(){var r=i.next();return c=r.done,r},e:function(r){u=!0,a=r},f:function(){try{c||null==i.return||i.return()}finally{if(u)throw a}}}}function metrics_arrayLikeToArray(r,n){(null==n||n>r.length)&&(n=r.length);for(var i=0,o=Array(n);i<n;i++)o[i]=r[i];return o}function msToSec(r){return r/1e3}function getBrowserPerformanceAPI(){return tO&&tO.addEventListener&&tO.performance}var tA=0,tP={};function _addPerformanceNavigationTiming(r,n,i,o,a,c){var u=c?n[c]:n["".concat(i,"End")],l=n["".concat(i,"Start")];l&&u&&_startChild(r,{op:"browser",origin:"auto.browser.browser.metrics",description:a||i,startTimestamp:o+msToSec(l),endTimestamp:o+msToSec(u)})}function request_arrayLikeToArray(r,n){(null==n||n>r.length)&&(n=r.length);for(var i=0,o=Array(n);i<n;i++)o[i]=r[i];return o}function request_ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}function request_objectSpread(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?request_ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):request_ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}var tj=["localhost",/^\/(?!\/)/],tN={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:tj,tracePropagationTargets:tj};function addHTTPTimings(r){var n=r.data.url;if(n)var i=addPerformanceInstrumentationHandler("resource",function(o){o.entries.forEach(function(o){if("resource"===o.entryType&&"initiatorType"in o&&"string"==typeof o.nextHopProtocol&&("fetch"===o.initiatorType||"xmlhttprequest"===o.initiatorType)&&o.name.endsWith(n)){var a,c,u,l;(c=(a=function(r){var n,i="unknown",o="unknown",a="",c=function(r,n){var i="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!i){if(Array.isArray(r)||(i=function(r,n){if(r){if("string"==typeof r)return request_arrayLikeToArray(r,n);var i=Object.prototype.toString.call(r).slice(8,-1);if("Object"===i&&r.constructor&&(i=r.constructor.name),"Map"===i||"Set"===i)return Array.from(r);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return request_arrayLikeToArray(r,n)}}(r))){i&&(r=i);var o=0,F=function(){};return{s:F,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(r){throw r},f:F}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){i=i.call(r)},n:function(){var r=i.next();return c=r.done,r},e:function(r){u=!0,a=r},f:function(){try{c||null==i.return||i.return()}finally{if(u)throw a}}}}(r);try{for(c.s();!(n=c.n()).done;){var u=n.value;if("/"===u){var l=r.split("/"),p=(0,ex.Z)(l,2);i=p[0],o=p[1];break}if(!isNaN(Number(u))){i="h"===a?"http":a,o=r.split(a)[1];break}a+=u}}catch(r){c.e(r)}finally{c.f()}return a===r&&(i=a),{name:i,version:o}}(o.nextHopProtocol)).name,u=a.version,((l=[]).push(["network.protocol.version",u],["network.protocol.name",c]),em.Z1)?[].concat(l,[["http.request.redirect_start",getAbsoluteTime(o.redirectStart)],["http.request.fetch_start",getAbsoluteTime(o.fetchStart)],["http.request.domain_lookup_start",getAbsoluteTime(o.domainLookupStart)],["http.request.domain_lookup_end",getAbsoluteTime(o.domainLookupEnd)],["http.request.connect_start",getAbsoluteTime(o.connectStart)],["http.request.secure_connection_start",getAbsoluteTime(o.secureConnectionStart)],["http.request.connection_end",getAbsoluteTime(o.connectEnd)],["http.request.request_start",getAbsoluteTime(o.requestStart)],["http.request.response_start",getAbsoluteTime(o.responseStart)],["http.request.response_end",getAbsoluteTime(o.responseEnd)]]):l).forEach(function(n){return r.setData.apply(r,(0,eu.Z)(n))}),setTimeout(i)}})})}function getAbsoluteTime(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return((em.Z1||performance.timeOrigin)+r)/1e3}function setHeaderOnXhr(r,n,i){try{r.setRequestHeader("sentry-trace",n),i&&r.setRequestHeader(tv,i)}catch(r){}}function browsertracing_ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}function browsertracing_objectSpread(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?browsertracing_ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):browsertracing_ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}var tD=browsertracing_objectSpread(browsertracing_objectSpread({},tS),{},{markBackgroundTransactions:!0,routingInstrumentation:function(r){var n,i=!(arguments.length>1)||void 0===arguments[1]||arguments[1],o=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(tO&&tO.location){var a=tO.location.href;i&&(n=r({name:tO.location.pathname,startTimestamp:em.Z1?em.Z1/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),o&&addInstrumentationHandler("history",function(i){var o=i.to,c=i.from;if(void 0===c&&a&&-1!==a.indexOf(o)){a=void 0;return}c!==o&&(a=void 0,n&&n.finish(),n=r({name:tO.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))})}},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{}},tN),tM=function(){function BrowserTracing(r){var n;(0,ef.Z)(this,BrowserTracing),this.name="BrowserTracing",this._hasSetTracePropagationTargets=!1,(n=getMainCarrier()).__SENTRY__&&(n.__SENTRY__.extensions=n.__SENTRY__.extensions||{},n.__SENTRY__.extensions.startTransaction||(n.__SENTRY__.extensions.startTransaction=_startTransaction),n.__SENTRY__.extensions.traceHeaders||(n.__SENTRY__.extensions.traceHeaders=traceHeaders),tT||(tT=!0,addInstrumentationHandler("error",errorCallback),addInstrumentationHandler("unhandledrejection",errorCallback))),this.options=browsertracing_objectSpread(browsertracing_objectSpread({},tD),r),void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),r&&!r.tracePropagationTargets&&r.tracingOrigins&&(this.options.tracePropagationTargets=r.tracingOrigins),this._collectWebVitals=function(){var r=getBrowserPerformanceAPI();if(r&&em.Z1){r.mark&&tO.performance.mark("sentry-tracing-init");var n=addMetricObserver("fid",function(r){var n=r.metric,i=n.entries.pop();if(i){var o=msToSec(em.Z1),a=msToSec(i.startTime);tP.fid={value:n.value,unit:"millisecond"},tP["mark.fid"]={value:o+a,unit:"second"}}},instrumentFid,W),i=addMetricObserver("cls",function(r){var n=r.metric,i=n.entries.pop();i&&(tP.cls={value:n.value,unit:""},J=i)},instrumentCls,N),o=addLcpInstrumentationHandler(function(r){var n=r.metric,i=n.entries.pop();i&&(tP.lcp={value:n.value,unit:"millisecond"},$=i)});return function(){n(),i(),o()}}return function(){}}(),this.options.enableLongTask&&addPerformanceInstrumentationHandler("longtask",function(r){var n,i=metrics_createForOfIteratorHelper(r.entries);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=getActiveTransaction();if(!a)return;var c=msToSec(em.Z1+o.startTime),u=msToSec(o.duration);a.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:c,endTimestamp:c+u})}}catch(r){i.e(r)}finally{i.f()}}),this.options._experiments.enableInteractions&&addPerformanceInstrumentationHandler("event",function(r){var n,i=metrics_createForOfIteratorHelper(r.entries);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=getActiveTransaction();if(!a)return;if("click"===o.name){var c=msToSec(em.Z1+o.startTime),u=msToSec(o.duration);a.startChild({description:htmlTreeAsString(o.target),op:"ui.interaction.".concat(o.name),origin:"auto.ui.browser.metrics",startTimestamp:c,endTimestamp:c+u})}}}catch(r){i.e(r)}finally{i.f()}})}return(0,ed.Z)(BrowserTracing,[{key:"setupOnce",value:function(r,n){var i,o,a,c,u,l,p,S,k,O,w=this;this._getCurrentHub=n;var C=n().getClient(),I=C&&C.getOptions(),R=this.options,x=R.routingInstrumentation,j=R.startTransactionOnLocationChange,N=R.startTransactionOnPageLoad,W=R.markBackgroundTransactions,G=R.traceFetch,$=R.traceXHR,J=R.shouldCreateSpanForRequest,et=R.enableHTTPTimings,er=R._experiments,en=I&&I.tracePropagationTargets||this.options.tracePropagationTargets;x(function(r){var i=w._createRouteTransaction(r);return w.options._experiments.onStartRouteTransaction&&w.options._experiments.onStartRouteTransaction(i,r,n),i},N,j),W&&tO&&tO.document&&tO.document.addEventListener("visibilitychange",function(){var r=getActiveTransaction();tO.document.hidden&&r&&(r.status||r.setStatus("cancelled"),r.setTag("visibilitychange","document.hidden"),r.finish())}),er.enableInteractions&&this._registerInteractionListener(),o=(i=request_objectSpread({traceFetch:tN.traceFetch,traceXHR:tN.traceXHR},{traceFetch:G,traceXHR:$,tracePropagationTargets:en,shouldCreateSpanForRequest:J,enableHTTPTimings:et})).traceFetch,a=i.traceXHR,c=i.tracePropagationTargets,u=i.tracingOrigins,l=i.shouldCreateSpanForRequest,p=i.enableHTTPTimings,S="function"==typeof l?l:function(r){return!0},k=function(r){return stringMatchesSomePattern(r,c||u||tj)},O={},o&&addInstrumentationHandler("fetch",function(r){var n=function(r,n,i,o){if(hasTracingEnabled()&&r.fetchData){var a=n(r.fetchData.url);if(r.endTimestamp&&a){var c=r.fetchData.__span;if(!c)return;var u=o[c];if(u){if(r.response){u.setHttpStatus(r.response.status);var l=parseInt(r.response&&r.response.headers&&r.response.headers.get("content-length"));l>0&&u.setData("http.response_content_length",l)}else r.error&&u.setStatus("internal_error");u.finish(),delete o[c]}return}var p=hub_getCurrentHub(),S=p.getScope(),k=p.getClient(),O=S.getSpan(),w=r.fetchData,C=w.method,I=w.url,R=a&&O?O.startChild({data:{url:I,type:"fetch","http.method":C},description:"".concat(C," ").concat(I),op:"http.client",origin:"auto.http.browser"}):void 0;if(R&&(r.fetchData.__span=R.spanId,o[R.spanId]=R),i(r.fetchData.url)&&k){var x=r.args[0];r.args[1]=r.args[1]||{};var j=r.args[1];j.headers=function(r,n,i,o,a){var c=a||i.getSpan(),u=c&&c.transaction,l=i.getPropagationContext(),p=l.traceId,S=l.sampled,k=l.dsc,O=c?c.toTraceparent():generateSentryTraceHeader(p,void 0,S),w=dynamicSamplingContextToSentryBaggageHeader(u?u.getDynamicSamplingContext():k||getDynamicSamplingContextFromClient(p,n,i)),C="undefined"!=typeof Request&&isInstanceOf(r,Request)?r.headers:o.headers;if(!C)return{"sentry-trace":O,baggage:w};if("undefined"!=typeof Headers&&isInstanceOf(C,Headers)){var I=new Headers(C);return I.append("sentry-trace",O),w&&I.append(tv,w),I}if(Array.isArray(C)){var R=[].concat((0,eu.Z)(C),[["sentry-trace",O]]);return w&&R.push([tv,w]),R}var x="baggage"in C?C.baggage:void 0,j=[];return Array.isArray(x)?j.push.apply(j,(0,eu.Z)(x)):x&&j.push(x),w&&j.push(w),request_objectSpread(request_objectSpread({},C),{},{"sentry-trace":O,baggage:j.length>0?j.join(","):void 0})}(x,k,S,j,R)}return R}}(r,S,k,O);p&&n&&addHTTPTimings(n)}),a&&addInstrumentationHandler("xhr",function(r){var n=function(r,n,i,o){var a=r.xhr,c=a&&a[eB];if(hasTracingEnabled()&&(!a||!a.__sentry_own_request__)&&a&&c){var u=n(c.url);if(r.endTimestamp&&u){var l=a.__sentry_xhr_span_id__;if(!l)return;var p=o[l];p&&(p.setHttpStatus(c.status_code),p.finish(),delete o[l]);return}var S=hub_getCurrentHub(),k=S.getScope(),O=k.getSpan(),w=u&&O?O.startChild({data:request_objectSpread(request_objectSpread({},c.data),{},{type:"xhr","http.method":c.method,url:c.url}),description:"".concat(c.method," ").concat(c.url),op:"http.client",origin:"auto.http.browser"}):void 0;if(w&&(a.__sentry_xhr_span_id__=w.spanId,o[a.__sentry_xhr_span_id__]=w),a.setRequestHeader&&i(c.url)){if(w){var C=w&&w.transaction,I=dynamicSamplingContextToSentryBaggageHeader(C&&C.getDynamicSamplingContext());setHeaderOnXhr(a,w.toTraceparent(),I)}else{var R=S.getClient(),x=k.getPropagationContext(),j=x.traceId,N=x.sampled,W=x.dsc;setHeaderOnXhr(a,generateSentryTraceHeader(j,void 0,N),dynamicSamplingContextToSentryBaggageHeader(W||(R?getDynamicSamplingContextFromClient(j,R,k):void 0)))}}return w}}(r,S,k,O);p&&n&&addHTTPTimings(n)})}},{key:"_createRouteTransaction",value:function(r){var n=this;if(this._getCurrentHub){var i=this._getCurrentHub(),o=this.options,a=o.beforeNavigate,c=o.idleTimeout,u=o.finalTimeout,l=o.heartbeatInterval,p="pageload"===r.op,S=tracingContextFromHeaders(p?getMetaContent("sentry-trace"):"",p?getMetaContent("baggage"):""),k=S.traceparentData,O=S.dynamicSamplingContext,w=S.propagationContext,C=browsertracing_objectSpread(browsertracing_objectSpread(browsertracing_objectSpread({},r),k),{},{metadata:browsertracing_objectSpread(browsertracing_objectSpread({},r.metadata),{},{dynamicSamplingContext:k&&!O?{}:O}),trimEnd:!0}),I="function"==typeof a?a(C):C,R=void 0===I?browsertracing_objectSpread(browsertracing_objectSpread({},C),{},{sampled:!1}):I;R.metadata=R.name!==C.name?browsertracing_objectSpread(browsertracing_objectSpread({},R.metadata),{},{source:"custom"}):R.metadata,this._latestRouteName=R.name,this._latestRouteSource=R.metadata&&R.metadata.source,R.sampled;var x=startIdleTransaction(i,R,c,u,!0,{location:tO.location},l),j=i.getScope();return p&&k?j.setPropagationContext(w):j.setPropagationContext({traceId:x.traceId,spanId:x.spanId,parentSpanId:x.parentSpanId,sampled:x.sampled}),x.registerBeforeFinishCallback(function(r){n._collectWebVitals(),function(r){var n,i,o=getBrowserPerformanceAPI();if(o&&tO.performance.getEntries&&em.Z1){var a=msToSec(em.Z1),c=o.getEntries();if(c.slice(tA).forEach(function(o){var c=msToSec(o.startTime),u=msToSec(o.duration);if("navigation"!==r.op||!(a+c<r.startTimestamp))switch(o.entryType){case"navigation":["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(function(n){_addPerformanceNavigationTiming(r,o,n,a)}),_addPerformanceNavigationTiming(r,o,"secureConnection",a,"TLS/SSL","connectEnd"),_addPerformanceNavigationTiming(r,o,"fetch",a,"cache","domainLookupStart"),_addPerformanceNavigationTiming(r,o,"domainLookup",a,"DNS"),_startChild(r,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:a+msToSec(o.requestStart),endTimestamp:a+msToSec(o.responseEnd)}),_startChild(r,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:a+msToSec(o.responseStart),endTimestamp:a+msToSec(o.responseEnd)}),n=a+msToSec(o.responseStart),i=a+msToSec(o.requestStart);break;case"mark":case"paint":case"measure":l=a+c,_startChild(r,{description:o.name,endTimestamp:l+u,op:o.entryType,origin:"auto.resource.browser.metrics",startTimestamp:l});var l,p=getVisibilityWatcher(),S=o.startTime<p.firstHiddenTime;"first-paint"===o.name&&S&&(tP.fp={value:o.startTime,unit:"millisecond"}),"first-contentful-paint"===o.name&&S&&(tP.fcp={value:o.startTime,unit:"millisecond"});break;case"resource":var k=o.name.replace(tO.location.origin,"");(function(r,n,i,o,a,c){if("xmlhttprequest"!==n.initiatorType&&"fetch"!==n.initiatorType){var u={};"transferSize"in n&&(u["http.response_transfer_size"]=n.transferSize),"encodedBodySize"in n&&(u["http.response_content_length"]=n.encodedBodySize),"decodedBodySize"in n&&(u["http.decoded_response_content_length"]=n.decodedBodySize),"renderBlockingStatus"in n&&(u["resource.render_blocking_status"]=n.renderBlockingStatus);var l=c+o;_startChild(r,{description:i,endTimestamp:l+a,op:n.initiatorType?"resource.".concat(n.initiatorType):"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:l,data:u})}})(r,o,k,c,u,a)}}),tA=Math.max(c.length-1,0),function(r){var n=tO.navigator;if(n){var i=n.connection;i&&(i.effectiveType&&r.setTag("effectiveConnectionType",i.effectiveType),i.type&&r.setTag("connectionType",i.type),isMeasurementValue(i.rtt)&&(tP["connection.rtt"]={value:i.rtt,unit:"millisecond"})),isMeasurementValue(n.deviceMemory)&&r.setTag("deviceMemory","".concat(n.deviceMemory," GB")),isMeasurementValue(n.hardwareConcurrency)&&r.setTag("hardwareConcurrency",String(n.hardwareConcurrency))}}(r),"pageload"===r.op){"number"==typeof n&&(tP.ttfb={value:(n-r.startTimestamp)*1e3,unit:"millisecond"},"number"==typeof i&&i<=n&&(tP["ttfb.requestTime"]={value:(n-i)*1e3,unit:"millisecond"})),["fcp","fp","lcp"].forEach(function(n){if(tP[n]&&!(a>=r.startTimestamp)){var i=Math.abs((a+msToSec(tP[n].value)-r.startTimestamp)*1e3);tP[n].value=i}});var u=tP["mark.fid"];u&&tP.fid&&(_startChild(r,{description:"first input delay",endTimestamp:u.value+msToSec(tP.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:u.value}),delete tP["mark.fid"]),"fcp"in tP||delete tP.cls,Object.keys(tP).forEach(function(n){r.setMeasurement(n,tP[n].value,tP[n].unit)}),$&&($.element&&r.setTag("lcp.element",htmlTreeAsString($.element)),$.id&&r.setTag("lcp.id",$.id),$.url&&r.setTag("lcp.url",$.url.trim().slice(0,200)),r.setTag("lcp.size",$.size)),J&&J.sources&&J.sources.forEach(function(n,i){return r.setTag("cls.source.".concat(i+1),htmlTreeAsString(n.node))})}$=void 0,J=void 0,tP={}}}(r)}),x}}},{key:"_registerInteractionListener",value:function(){var r,n=this,registerInteractionTransaction=function(){var i=n.options,o=i.idleTimeout,a=i.finalTimeout,c=i.heartbeatInterval,u=getActiveTransaction();if(!(u&&u.op&&["navigation","pageload"].includes(u.op))&&(r&&(r.setFinishReason("interactionInterrupted"),r.finish(),r=void 0),n._getCurrentHub&&n._latestRouteName)){var l=n._getCurrentHub(),p=tO.location;r=startIdleTransaction(l,{name:n._latestRouteName,op:"ui.action.click",trimEnd:!0,metadata:{source:n._latestRouteSource||"url"}},o,a,!0,{location:p},c)}};["click"].forEach(function(r){addEventListener(r,registerInteractionTransaction,{once:!1,capture:!0})})}}]),BrowserTracing}();function getMetaContent(r){var n,i=(n="meta[name=".concat(r,"]"),ev.document&&ev.document.querySelector?ev.document.querySelector(n):null);return i?i.getAttribute("content"):void 0}function addOrUpdateIntegration(r,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Array.isArray(n)?addOrUpdateIntegrationInArray(r,n,i):function(o){var a=n(o);return r.allowExclusionByUser&&!a.find(function(n){return n.name===r.name})?a:addOrUpdateIntegrationInArray(r,a,i)}}function addOrUpdateIntegrationInArray(r,n,i){var o=n.find(function(n){return n.name===r.name});if(o){for(var a=0,c=Object.entries(i);a<c.length;a++){var u=(0,ex.Z)(c[a],2);!function setNestedKey(r,n,i){var o=n.match(/([a-z_]+)\.(.*)/i);null===o?r[n]=i:setNestedKey(r[o[1]],o[2],i)}(o,u[0],u[1])}return n}return[].concat((0,eu.Z)(n),[r])}var tL=i(8104);function appRouterRoutingInstrumentation_ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}function appRouterRoutingInstrumentation_objectSpread(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?appRouterRoutingInstrumentation_ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):appRouterRoutingInstrumentation_ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}var tB={"routing.instrumentation":"next-app-router"},tF=i(8526),tU=i.n(tF);function pagesRouterRoutingInstrumentation_ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}function pagesRouterRoutingInstrumentation_objectSpread(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?pagesRouterRoutingInstrumentation_ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):pagesRouterRoutingInstrumentation_ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}var tH={"routing.instrumentation":"next-pages-router"},tZ=void 0,tq=void 0,tz=hub_getCurrentHub().getClient();function nextRouterInstrumentation(r){var n=!(arguments.length>1)||void 0===arguments[1]||arguments[1],i=!(arguments.length>2)||void 0===arguments[2]||arguments[2];e5.document.getElementById("__NEXT_DATA__")?function(r){var n=!(arguments.length>1)||void 0===arguments[1]||arguments[1],i=!(arguments.length>2)||void 0===arguments[2]||arguments[2],o=function(){var r,n=e5.document.getElementById("__NEXT_DATA__");if(n&&n.innerHTML)try{r=JSON.parse(n.innerHTML)}catch(r){}if(!r)return{};var i={},o=r,a=o.page,c=o.query,u=o.props;return i.route=a,i.params=c,u&&u.pageProps&&(i.sentryTrace=u.pageProps._sentryTraceData,i.baggage=u.pageProps._sentryBaggage),i}(),a=o.route,c=o.params,u=tracingContextFromHeaders(o.sentryTrace,o.baggage),l=u.traceparentData,p=u.dynamicSamplingContext,S=u.propagationContext;hub_getCurrentHub().getScope().setPropagationContext(S),tq=a||e5.location.pathname,n&&(tZ=r(pagesRouterRoutingInstrumentation_objectSpread(pagesRouterRoutingInstrumentation_objectSpread(pagesRouterRoutingInstrumentation_objectSpread({name:tq,op:"pageload",origin:"auto.pageload.nextjs.pages_router_instrumentation",tags:tH,startTimestamp:em.Z1?em.Z1/1e3:void 0},c&&tz&&tz.getOptions().sendDefaultPii&&{data:c}),l),{},{metadata:{source:a?"route":"url",dynamicSamplingContext:l&&!p?{}:p}}))),i&&tU().events.on("routeChangeStart",function(n){var i,o,a=n.split(/[\?#]/,1)[0],c=function(r){var n=(e5.__BUILD_MANIFEST||{}).sortedPages;if(n)return n.find(function(n){var i,o,a,c=(i=n.split("/"),o="",i[i.length-1].match(/^\[\[\.\.\..+\]\]$/)&&(i.pop(),o="(?:/(.+?))?"),a=i.map(function(r){return r.replace(/^\[\.\.\..+\]$/,"(.+?)").replace(/^\[.*\]$/,"([^/]+?)")}).join("/"),new RegExp("^".concat(a).concat(o,"(?:/)?$")));return r.match(c)})}(a);c?(i=c,o="route"):(i=a,o="url");var u=pagesRouterRoutingInstrumentation_objectSpread(pagesRouterRoutingInstrumentation_objectSpread({},tH),{},{from:tq});tq=i,tZ&&tZ.finish();var l=r({name:i,op:"navigation",origin:"auto.navigation.nextjs.pages_router_instrumentation",tags:u,metadata:{source:o}});if(l){var p=l.startChild({op:"ui.nextjs.route-change",origin:"auto.ui.nextjs.pages_router_instrumentation",description:"Next.js Route Change"});tU().events.on("routeChangeComplete",function finishRouteChangeSpan(){p.finish(),tU().events.off("routeChangeComplete",finishRouteChangeSpan)})}})}(r,n,i):function(r){var n=!(arguments.length>1)||void 0===arguments[1]||arguments[1],i=!(arguments.length>2)||void 0===arguments[2]||arguments[2],o=void 0,a=e5.location.pathname;n&&(o=r({name:a,op:"pageload",origin:"auto.pageload.nextjs.app_router_instrumentation",tags:tB,startTimestamp:em.Z1?em.Z1/1e3:void 0,metadata:{source:"url"}})),i&&addInstrumentationHandler("fetch",function(n){if(void 0===n.endTimestamp&&"GET"===n.fetchData.method){var i=function(r){if(!r[0]||"object"!=typeof r[0]||void 0===r[0].searchParams||!r[1]||"object"!=typeof r[1]||!("headers"in r[1]))return null;try{var n=r[0],i=r[1].headers;if("1"!==i.RSC||"1"===i["Next-Router-Prefetch"])return null;return{targetPathname:n.pathname}}catch(r){return null}}(n.args);if(null!==i){var c=i.targetPathname,u=appRouterRoutingInstrumentation_objectSpread(appRouterRoutingInstrumentation_objectSpread({},tB),{},{from:a});a=c,o&&o.finish(),r({name:c,op:"navigation",origin:"auto.navigation.nextjs.app_router_instrumentation",tags:u,metadata:{source:"url"}})}}})}(r,n,i)}var tW=i.g;function client_ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}var tG=i.g,tK=i(3571);function removeTrailingSlash(r){return"/"===r[r.length-1]?r.slice(0,-1):r}var tV=i(7994);function isBrowser(){return!(0,tV.KV)()||void 0!==eh.n2.process&&"renderer"===eh.n2.process.type}function esm_createSuper(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}();return function(){var i,o=(0,eG.Z)(r);if(n){var a=(0,eG.Z)(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return(0,eW.Z)(this,i)}}function esm_ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}function esm_objectSpread(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?esm_ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):esm_ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}function esm_createForOfIteratorHelper(r,n){var i="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!i){if(Array.isArray(r)||(i=function(r,n){if(r){if("string"==typeof r)return esm_arrayLikeToArray(r,n);var i=Object.prototype.toString.call(r).slice(8,-1);if("Object"===i&&r.constructor&&(i=r.constructor.name),"Map"===i||"Set"===i)return Array.from(r);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return esm_arrayLikeToArray(r,n)}}(r))||n&&r&&"number"==typeof r.length){i&&(r=i);var o=0,F=function(){};return{s:F,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(r){throw r},f:F}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){i=i.call(r)},n:function(){var r=i.next();return c=r.done,r},e:function(r){u=!0,a=r},f:function(){try{c||null==i.return||i.return()}finally{if(u)throw a}}}}function esm_arrayLikeToArray(r,n){(null==n||n>r.length)&&(n=r.length);for(var i=0,o=Array(n);i<n;i++)o[i]=r[i];return o}var t$=eh.n2,tX="sentryReplaySession",tY="Unable to send Replay";function isShadowRoot(r){var n=null==r?void 0:r.host;return(null==n?void 0:n.shadowRoot)===r}function isNativeShadowDom(r){return"[object ShadowRoot]"===Object.prototype.toString.call(r)}function stringifyStylesheet(r){try{var n,i=r.rules||r.cssRules;return i?((n=Array.from(i,stringifyRule).join("")).includes(" background-clip: text;")&&!n.includes(" -webkit-background-clip: text;")&&(n=n.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),n):null}catch(r){return null}}function stringifyRule(r){var n;if("styleSheet"in r)try{n=stringifyStylesheet(r.styleSheet)||function(r){var n=r.cssText;if(n.split('"').length<3)return n;var i=["@import","url(".concat(JSON.stringify(r.href),")")];return""===r.layerName?i.push("layer"):r.layerName&&i.push("layer(".concat(r.layerName,")")),r.supportsText&&i.push("supports(".concat(r.supportsText,")")),r.media.length&&i.push(r.media.mediaText),i.join(" ")+";"}(r)}catch(r){}else if("selectorText"in r&&r.selectorText.includes(":"))return r.cssText.replace(/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,"$1\\$2");return n||r.cssText}(u=et||(et={}))[u.Document=0]="Document",u[u.DocumentType=1]="DocumentType",u[u.Element=2]="Element",u[u.Text=3]="Text",u[u.CDATA=4]="CDATA",u[u.Comment=5]="Comment";var tQ=function(){function Mirror(){(0,ef.Z)(this,Mirror),this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}return(0,ed.Z)(Mirror,[{key:"getId",value:function(r){if(!r)return -1;var n,i=null===(n=this.getMeta(r))||void 0===n?void 0:n.id;return null!=i?i:-1}},{key:"getNode",value:function(r){return this.idNodeMap.get(r)||null}},{key:"getIds",value:function(){return Array.from(this.idNodeMap.keys())}},{key:"getMeta",value:function(r){return this.nodeMetaMap.get(r)||null}},{key:"removeNodeFromMap",value:function(r){var n=this,i=this.getId(r);this.idNodeMap.delete(i),r.childNodes&&r.childNodes.forEach(function(r){return n.removeNodeFromMap(r)})}},{key:"has",value:function(r){return this.idNodeMap.has(r)}},{key:"hasNode",value:function(r){return this.nodeMetaMap.has(r)}},{key:"add",value:function(r,n){var i=n.id;this.idNodeMap.set(i,r),this.nodeMetaMap.set(r,n)}},{key:"replace",value:function(r,n){var i=this.getNode(r);if(i){var o=this.nodeMetaMap.get(i);o&&this.nodeMetaMap.set(n,o)}this.idNodeMap.set(r,n)}},{key:"reset",value:function(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}]),Mirror}();function shouldMaskInput(r){var n=r.maskInputOptions,i=r.tagName,o=r.type;return"OPTION"===i&&(i="SELECT"),!!(n[i.toLowerCase()]||o&&n[o]||"password"===o||"INPUT"===i&&!o&&n.text)}function maskInputValue(r){var n=r.isMasked,i=r.element,o=r.value,a=r.maskInputFn,c=o||"";return n?(a&&(c=a(c,i)),"*".repeat(c.length)):c}function toLowerCase(r){return r.toLowerCase()}function toUpperCase(r){return r.toUpperCase()}var tJ="__rrweb_original__";function getInputType(r){var n=r.type;return r.hasAttribute("data-rr-is-password")?"password":n?toLowerCase(n):null}function getInputValue(r,n,i){return"INPUT"===n&&("radio"===i||"checkbox"===i)?r.getAttribute("value")||"":r.value}var t0=1,t1=RegExp("[^a-z0-9-_:]");function genId(){return t0++}var t2=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,t3=/^(?:[a-z+]+:)?\/\//i,t5=/^www\..*/i,t4=/^(data:)([^,]*),(.*)/i;function absoluteToStylesheet(r,n){return(r||"").replace(t2,function(r,i,o,a,c,u){var l=o||c||u,p=i||a||"";if(!l)return r;if(t3.test(l)||t5.test(l)||t4.test(l))return"url(".concat(p).concat(l).concat(p,")");if("/"===l[0])return"url(".concat(p).concat((n.indexOf("//")>-1?n.split("/").slice(0,3).join("/"):n.split("/")[0]).split("?")[0]+l).concat(p,")");var S=n.split("/"),k=l.split("/");S.pop();var O,w=esm_createForOfIteratorHelper(k);try{for(w.s();!(O=w.n()).done;){var C=O.value;"."!==C&&(".."===C?S.pop():S.push(C))}}catch(r){w.e(r)}finally{w.f()}return"url(".concat(p).concat(S.join("/")).concat(p,")")})}var t6=/^[^ \t\n\r\u000c]+/,t8=/^[, \t\n\r\u000c]+/;function absoluteToDoc(r,n){if(!n||""===n.trim())return n;var i=r.createElement("a");return i.href=n,i.href}function getHref(){var r=document.createElement("a");return r.href="",r.href}function transformAttribute(r,n,i,o,a,c){return o?"src"!==i&&("href"!==i||"use"===n&&"#"===o[0])&&("xlink:href"!==i||"#"===o[0])&&("background"!==i||"table"!==n&&"td"!==n&&"th"!==n)?"srcset"===i?function(r,n){if(""===n.trim())return n;var i=0;function collectCharacters(r){var o,a=r.exec(n.substring(i));return a?(o=a[0],i+=o.length,o):""}for(var o=[];collectCharacters(t8),!(i>=n.length);){var a=collectCharacters(t6);if(","===a.slice(-1))a=absoluteToDoc(r,a.substring(0,a.length-1)),o.push(a);else{var c="";a=absoluteToDoc(r,a);for(var u=!1;;){var l=n.charAt(i);if(""===l){o.push((a+c).trim());break}if(u)")"===l&&(u=!1);else{if(","===l){i+=1,o.push((a+c).trim());break}"("===l&&(u=!0)}c+=l,i+=1}}}return o.join(", ")}(r,o):"style"===i?absoluteToStylesheet(o,getHref()):"object"===n&&"data"===i?absoluteToDoc(r,o):"function"==typeof c?c(i,o,a):o:absoluteToDoc(r,o):o}function ignoreAttribute(r,n,i){return("video"===r||"audio"===r)&&"autoplay"===n}function distanceToMatch(r,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return!r||r.nodeType!==r.ELEMENT_NODE||o>i?-1:n(r)?o:distanceToMatch(r.parentNode,n,i,o+1)}function createMatchPredicate(r,n){return function(i){if(null===i)return!1;if(r){if("string"==typeof r){if(i.matches(".".concat(r)))return!0}else if(function(r,n){for(var i=r.classList.length;i--;){var o=r.classList[i];if(n.test(o))return!0}return!1}(i,r))return!0}return!!(n&&i.matches(n))}}function needMaskingText(r,n,i,o,a,c){try{var u=r.nodeType===r.ELEMENT_NODE?r:r.parentElement;if(null===u)return!1;var l=-1,p=-1;if(c){if((p=distanceToMatch(u,createMatchPredicate(o,a)))<0)return!0;l=distanceToMatch(u,createMatchPredicate(n,i),p>=0?p:1/0)}else{if((l=distanceToMatch(u,createMatchPredicate(n,i)))<0)return!1;p=distanceToMatch(u,createMatchPredicate(o,a),l>=0?l:1/0)}return l>=0?!(p>=0)||l<=p:!(p>=0)&&!!c}catch(r){}return!!c}function lowerIfExists(r){return null==r?"":r.toLowerCase()}function serializeNodeWithId(r,n){var i,o=n.doc,a=n.mirror,c=n.blockClass,u=n.blockSelector,l=n.unblockSelector,p=n.maskAllText,S=n.maskTextClass,k=n.unmaskTextClass,O=n.maskTextSelector,w=n.unmaskTextSelector,C=n.skipChild,I=void 0!==C&&C,R=n.inlineStylesheet,x=void 0===R||R,j=n.maskInputOptions,N=void 0===j?{}:j,W=n.maskAttributeFn,G=n.maskTextFn,$=n.maskInputFn,J=n.slimDOMOptions,ei=n.dataURLOptions,eo=void 0===ei?{}:ei,es=n.inlineImages,ec=void 0!==es&&es,eu=n.recordCanvas,el=void 0!==eu&&eu,ef=n.onSerialize,ed=n.onIframeLoad,ep=n.iframeLoadTimeout,eh=void 0===ep?5e3:ep,ev=n.onStylesheetLoad,em=n.stylesheetLoadTimeout,ey=void 0===em?5e3:em,eg=n.keepIframeSrcFn,e_=void 0===eg?function(){return!1}:eg,eb=n.newlyAddedElement,eS=n.preserveWhiteSpace,eE=void 0===eS||eS,ek=function(r,n){var i=n.doc,o=n.mirror,a=n.blockClass,c=n.blockSelector,u=n.unblockSelector,l=n.maskAllText,p=n.maskAttributeFn,S=n.maskTextClass,k=n.unmaskTextClass,O=n.maskTextSelector,w=n.unmaskTextSelector,C=n.inlineStylesheet,I=n.maskInputOptions,R=void 0===I?{}:I,x=n.maskTextFn,j=n.maskInputFn,N=n.dataURLOptions,W=n.inlineImages,G=n.recordCanvas,$=n.keepIframeSrcFn,J=n.newlyAddedElement,ei=function(r,n){if(n.hasNode(r)){var i=n.getId(r);return 1===i?void 0:i}}(i,o);switch(r.nodeType){case r.DOCUMENT_NODE:if("CSS1Compat"!==r.compatMode)return{type:et.Document,childNodes:[],compatMode:r.compatMode};return{type:et.Document,childNodes:[]};case r.DOCUMENT_TYPE_NODE:return{type:et.DocumentType,name:r.name,publicId:r.publicId,systemId:r.systemId,rootId:ei};case r.ELEMENT_NODE:return function(r,n){for(var i,o=n.doc,a=n.blockClass,c=n.blockSelector,u=n.unblockSelector,l=n.inlineStylesheet,p=n.maskInputOptions,S=void 0===p?{}:p,k=n.maskAttributeFn,O=n.maskInputFn,w=n.dataURLOptions,C=void 0===w?{}:w,I=n.inlineImages,R=n.recordCanvas,x=n.keepIframeSrcFn,j=n.newlyAddedElement,N=n.rootId,W=(n.maskAllText,n.maskTextClass),G=n.unmaskTextClass,$=n.maskTextSelector,J=n.unmaskTextSelector,ei=function(r,n,i,o){try{if(o&&r.matches(o))return!1;if("string"==typeof n){if(r.classList.contains(n))return!0}else for(var a=r.classList.length;a--;){var c=r.classList[a];if(n.test(c))return!0}if(i)return r.matches(i)}catch(r){}return!1}(r,a,c,u),eo=function(r){if(r instanceof HTMLFormElement)return"form";var n=toLowerCase(r.tagName);return t1.test(n)?"div":n}(r),es={},ec=r.attributes.length,eu=0;eu<ec;eu++){var el=r.attributes[eu];ignoreAttribute(eo,el.name,el.value)||(es[el.name]=transformAttribute(o,eo,toLowerCase(el.name),el.value,r,k))}if("link"===eo&&l){var ef=Array.from(o.styleSheets).find(function(n){return n.href===r.href}),ed=null;ef&&(ed=stringifyStylesheet(ef)),ed&&(delete es.rel,delete es.href,es._cssText=absoluteToStylesheet(ed,ef.href))}if("style"===eo&&r.sheet&&!(r.innerText||r.textContent||"").trim().length){var ep=stringifyStylesheet(r.sheet);ep&&(es._cssText=absoluteToStylesheet(ep,getHref()))}if("input"===eo||"textarea"===eo||"select"===eo||"option"===eo){var eh=getInputType(r),ev=getInputValue(r,toUpperCase(eo),eh),em=r.checked;if("submit"!==eh&&"button"!==eh&&ev){var ey=needMaskingText(r,W,$,G,J,shouldMaskInput({type:eh,tagName:toUpperCase(eo),maskInputOptions:S}));es.value=maskInputValue({isMasked:ey,element:r,value:ev,maskInputFn:O})}em&&(es.checked=em)}if("option"===eo&&(r.selected&&!S.select?es.selected=!0:delete es.selected),"canvas"===eo&&R){if("2d"===r.__context)!function(r){var n=r.getContext("2d");if(!n)return!0;for(var i=0;i<r.width;i+=50)for(var o=0;o<r.height;o+=50){var a=n.getImageData,c=tJ in a?a[tJ]:a;if(new Uint32Array(c.call(n,i,o,Math.min(50,r.width-i),Math.min(50,r.height-o)).data.buffer).some(function(r){return 0!==r}))return!1}return!0}(r)&&(es.rr_dataURL=r.toDataURL(C.type,C.quality));else if(!("__context"in r)){var eg=r.toDataURL(C.type,C.quality),e_=document.createElement("canvas");e_.width=r.width,e_.height=r.height,eg!==e_.toDataURL(C.type,C.quality)&&(es.rr_dataURL=eg)}}if("img"===eo&&I){er||(en=(er=o.createElement("canvas")).getContext("2d"));var eb=r.crossOrigin;r.crossOrigin="anonymous";var recordInlineImage=function recordInlineImage(){r.removeEventListener("load",recordInlineImage);try{er.width=r.naturalWidth,er.height=r.naturalHeight,en.drawImage(r,0,0),es.rr_dataURL=er.toDataURL(C.type,C.quality)}catch(n){console.warn("Cannot inline img src=".concat(r.currentSrc,"! Error: ").concat(n))}eb?es.crossOrigin=eb:r.removeAttribute("crossorigin")};r.complete&&0!==r.naturalWidth?recordInlineImage():r.addEventListener("load",recordInlineImage)}if(("audio"===eo||"video"===eo)&&(es.rr_mediaState=r.paused?"paused":"played",es.rr_mediaCurrentTime=r.currentTime),!(void 0!==j&&j)&&(r.scrollLeft&&(es.rr_scrollLeft=r.scrollLeft),r.scrollTop&&(es.rr_scrollTop=r.scrollTop)),ei){var eS=r.getBoundingClientRect(),eE=eS.width,ek=eS.height;es={class:es.class,rr_width:"".concat(eE,"px"),rr_height:"".concat(ek,"px")}}"iframe"!==eo||x(es.src)||(r.contentDocument||(es.rr_src=es.src),delete es.src);try{customElements.get(eo)&&(i=!0)}catch(r){}return{type:et.Element,tagName:eo,attributes:es,childNodes:[],isSVG:!!("svg"===r.tagName||r.ownerSVGElement)||void 0,needBlock:ei,rootId:N,isCustom:i}}(r,{doc:i,blockClass:a,blockSelector:c,unblockSelector:u,inlineStylesheet:C,maskAttributeFn:p,maskInputOptions:R,maskInputFn:j,dataURLOptions:void 0===N?{}:N,inlineImages:W,recordCanvas:G,keepIframeSrcFn:$,newlyAddedElement:void 0!==J&&J,rootId:ei,maskAllText:l,maskTextClass:S,unmaskTextClass:k,maskTextSelector:O,unmaskTextSelector:w});case r.TEXT_NODE:return function(r,n){var i,o=n.maskAllText,a=n.maskTextClass,c=n.unmaskTextClass,u=n.maskTextSelector,l=n.unmaskTextSelector,p=n.maskTextFn,S=n.maskInputOptions,k=n.maskInputFn,O=n.rootId,w=r.parentNode&&r.parentNode.tagName,C=r.textContent,I="STYLE"===w||void 0,R="SCRIPT"===w||void 0,x="TEXTAREA"===w||void 0;if(I&&C){try{r.nextSibling||r.previousSibling||(null===(i=r.parentNode.sheet)||void 0===i?void 0:i.cssRules)&&(C=stringifyStylesheet(r.parentNode.sheet))}catch(n){console.warn("Cannot get CSS styles from text's parentNode. Error: ".concat(n),r)}C=absoluteToStylesheet(C,getHref())}R&&(C="SCRIPT_PLACEHOLDER");var j=needMaskingText(r,a,u,c,l,o);return I||R||x||!C||!j||(C=p?p(C):C.replace(/[\S]/g,"*")),x&&C&&(S.textarea||j)&&(C=k?k(C,r.parentNode):C.replace(/[\S]/g,"*")),"OPTION"===w&&C&&(C=maskInputValue({isMasked:needMaskingText(r,a,u,c,l,shouldMaskInput({type:null,tagName:w,maskInputOptions:S})),element:r,value:C,maskInputFn:k})),{type:et.Text,textContent:C||"",isStyle:I,rootId:O}}(r,{maskAllText:l,maskTextClass:S,unmaskTextClass:k,maskTextSelector:O,unmaskTextSelector:w,maskTextFn:x,maskInputOptions:R,maskInputFn:j,rootId:ei});case r.CDATA_SECTION_NODE:return{type:et.CDATA,textContent:"",rootId:ei};case r.COMMENT_NODE:return{type:et.Comment,textContent:r.textContent||"",rootId:ei};default:return!1}}(r,{doc:o,mirror:a,blockClass:c,blockSelector:u,maskAllText:p,unblockSelector:l,maskTextClass:S,unmaskTextClass:k,maskTextSelector:O,unmaskTextSelector:w,inlineStylesheet:x,maskInputOptions:N,maskAttributeFn:W,maskTextFn:G,maskInputFn:$,dataURLOptions:eo,inlineImages:ec,recordCanvas:el,keepIframeSrcFn:e_,newlyAddedElement:void 0!==eb&&eb});if(!ek)return console.warn(r,"not serialized"),null;i=a.hasNode(r)?a.getId(r):!function(r,n){if(n.comment&&r.type===et.Comment)return!0;if(r.type===et.Element){if(n.script&&("script"===r.tagName||"link"===r.tagName&&("preload"===r.attributes.rel||"modulepreload"===r.attributes.rel)&&"script"===r.attributes.as||"link"===r.tagName&&"prefetch"===r.attributes.rel&&"string"==typeof r.attributes.href&&r.attributes.href.endsWith(".js"))||n.headFavicon&&("link"===r.tagName&&"shortcut icon"===r.attributes.rel||"meta"===r.tagName&&(lowerIfExists(r.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===lowerIfExists(r.attributes.name)||"icon"===lowerIfExists(r.attributes.rel)||"apple-touch-icon"===lowerIfExists(r.attributes.rel)||"shortcut icon"===lowerIfExists(r.attributes.rel))))return!0;if("meta"===r.tagName){if(n.headMetaDescKeywords&&lowerIfExists(r.attributes.name).match(/^description|keywords$/)||n.headMetaSocial&&(lowerIfExists(r.attributes.property).match(/^(og|twitter|fb):/)||lowerIfExists(r.attributes.name).match(/^(og|twitter):/)||"pinterest"===lowerIfExists(r.attributes.name)))return!0;if(n.headMetaRobots&&("robots"===lowerIfExists(r.attributes.name)||"googlebot"===lowerIfExists(r.attributes.name)||"bingbot"===lowerIfExists(r.attributes.name)))return!0;if(n.headMetaHttpEquiv&&void 0!==r.attributes["http-equiv"])return!0;else if(n.headMetaAuthorship&&("author"===lowerIfExists(r.attributes.name)||"generator"===lowerIfExists(r.attributes.name)||"framework"===lowerIfExists(r.attributes.name)||"publisher"===lowerIfExists(r.attributes.name)||"progid"===lowerIfExists(r.attributes.name)||lowerIfExists(r.attributes.property).match(/^article:/)||lowerIfExists(r.attributes.property).match(/^product:/)))return!0;else if(n.headMetaVerification&&("google-site-verification"===lowerIfExists(r.attributes.name)||"yandex-verification"===lowerIfExists(r.attributes.name)||"csrf-token"===lowerIfExists(r.attributes.name)||"p:domain_verify"===lowerIfExists(r.attributes.name)||"verify-v1"===lowerIfExists(r.attributes.name)||"verification"===lowerIfExists(r.attributes.name)||"shopify-checkout-api-token"===lowerIfExists(r.attributes.name)))return!0}}return!1}(ek,J)&&(eE||ek.type!==et.Text||ek.isStyle||ek.textContent.replace(/^\s+|\s+$/gm,"").length)?genId():-2;var eT=Object.assign(ek,{id:i});if(a.add(r,eT),-2===i)return null;ef&&ef(r);var eO=!I;if(eT.type===et.Element){eO=eO&&!eT.needBlock,delete eT.needBlock;var ew=r.shadowRoot;ew&&isNativeShadowDom(ew)&&(eT.isShadowHost=!0)}if((eT.type===et.Document||eT.type===et.Element)&&eO){J.headWhitespace&&eT.type===et.Element&&"head"===eT.tagName&&(eE=!1);for(var eC={doc:o,mirror:a,blockClass:c,blockSelector:u,maskAllText:p,unblockSelector:l,maskTextClass:S,unmaskTextClass:k,maskTextSelector:O,unmaskTextSelector:w,skipChild:I,inlineStylesheet:x,maskInputOptions:N,maskAttributeFn:W,maskTextFn:G,maskInputFn:$,slimDOMOptions:J,dataURLOptions:eo,inlineImages:ec,recordCanvas:el,preserveWhiteSpace:eE,onSerialize:ef,onIframeLoad:ed,iframeLoadTimeout:eh,onStylesheetLoad:ev,stylesheetLoadTimeout:ey,keepIframeSrcFn:e_},eI=0,eR=Array.from(r.childNodes);eI<eR.length;eI++){var ex=serializeNodeWithId(eR[eI],eC);ex&&eT.childNodes.push(ex)}if(r.nodeType===r.ELEMENT_NODE&&r.shadowRoot)for(var eA=0,eP=Array.from(r.shadowRoot.childNodes);eA<eP.length;eA++){var ej=serializeNodeWithId(eP[eA],eC);ej&&(isNativeShadowDom(r.shadowRoot)&&(ej.isShadow=!0),eT.childNodes.push(ej))}}return r.parentNode&&isShadowRoot(r.parentNode)&&isNativeShadowDom(r.parentNode)&&(eT.isShadow=!0),eT.type===et.Element&&"iframe"===eT.tagName&&function(r,n,i){var o,a=r.contentWindow;if(a){var c=!1;try{o=a.document.readyState}catch(r){return}if("complete"!==o){var u=setTimeout(function(){c||(n(),c=!0)},i);r.addEventListener("load",function(){clearTimeout(u),c=!0,n()});return}var l="about:blank";if(a.location.href!==l||r.src===l||""===r.src)return setTimeout(n,0),r.addEventListener("load",n);r.addEventListener("load",n)}}(r,function(){var n=r.contentDocument;if(n&&ed){var i=serializeNodeWithId(n,{doc:n,mirror:a,blockClass:c,blockSelector:u,unblockSelector:l,maskAllText:p,maskTextClass:S,unmaskTextClass:k,maskTextSelector:O,unmaskTextSelector:w,skipChild:!1,inlineStylesheet:x,maskInputOptions:N,maskAttributeFn:W,maskTextFn:G,maskInputFn:$,slimDOMOptions:J,dataURLOptions:eo,inlineImages:ec,recordCanvas:el,preserveWhiteSpace:eE,onSerialize:ef,onIframeLoad:ed,iframeLoadTimeout:eh,onStylesheetLoad:ev,stylesheetLoadTimeout:ey,keepIframeSrcFn:e_});i&&ed(r,i)}},eh),eT.type===et.Element&&"link"===eT.tagName&&"stylesheet"===eT.attributes.rel&&function(r,n,i){var o,a=!1;try{o=r.sheet}catch(r){return}if(!o){var c=setTimeout(function(){a||(n(),a=!0)},i);r.addEventListener("load",function(){clearTimeout(c),a=!0,n()})}}(r,function(){if(ev){var n=serializeNodeWithId(r,{doc:o,mirror:a,blockClass:c,blockSelector:u,unblockSelector:l,maskAllText:p,maskTextClass:S,unmaskTextClass:k,maskTextSelector:O,unmaskTextSelector:w,skipChild:!1,inlineStylesheet:x,maskInputOptions:N,maskAttributeFn:W,maskTextFn:G,maskInputFn:$,slimDOMOptions:J,dataURLOptions:eo,inlineImages:ec,recordCanvas:el,preserveWhiteSpace:eE,onSerialize:ef,onIframeLoad:ed,iframeLoadTimeout:eh,onStylesheetLoad:ev,stylesheetLoadTimeout:ey,keepIframeSrcFn:e_});n&&ev(r,n)}},ey),eT}function on(r,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document,o={capture:!0,passive:!0};return i.addEventListener(r,n,o),function(){return i.removeEventListener(r,n,o)}}var t7="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.",t9={map:{},getId:function(){return console.error(t7),-1},getNode:function(){return console.error(t7),null},removeNodeFromMap:function(){console.error(t7)},has:function(){return console.error(t7),!1},reset:function(){console.error(t7)}};function throttle$1(r,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=null,a=0;return function(){for(var c=arguments.length,u=Array(c),l=0;l<c;l++)u[l]=arguments[l];var p=Date.now();a||!1!==i.leading||(a=p);var S=n-(p-a),k=this;S<=0||S>n?(o&&(clearTimeout(o),o=null),a=p,r.apply(k,u)):o||!1===i.trailing||(o=setTimeout(function(){a=!1===i.leading?0:Date.now(),o=null,r.apply(k,u)},S))}}function patch(r,n,i){try{if(!(n in r))return function(){};var o=r[n],a=i(o);return"function"==typeof a&&(a.prototype=a.prototype||{},Object.defineProperties(a,{__rrweb_original__:{enumerable:!1,value:o}})),r[n]=a,function(){r[n]=o}}catch(r){return function(){}}}window.Proxy&&window.Reflect&&(t9=new Proxy(t9,{get:function(r,n,i){return"map"===n&&console.error(t7),Reflect.get(r,n,i)}}));var re=Date.now;function getWindowScroll(r){var n,i,o,a,c,u,l=r.document;return{left:l.scrollingElement?l.scrollingElement.scrollLeft:void 0!==r.pageXOffset?r.pageXOffset:(null==l?void 0:l.documentElement.scrollLeft)||(null===(i=null===(n=null==l?void 0:l.body)||void 0===n?void 0:n.parentElement)||void 0===i?void 0:i.scrollLeft)||(null===(o=null==l?void 0:l.body)||void 0===o?void 0:o.scrollLeft)||0,top:l.scrollingElement?l.scrollingElement.scrollTop:void 0!==r.pageYOffset?r.pageYOffset:(null==l?void 0:l.documentElement.scrollTop)||(null===(c=null===(a=null==l?void 0:l.body)||void 0===a?void 0:a.parentElement)||void 0===c?void 0:c.scrollTop)||(null===(u=null==l?void 0:l.body)||void 0===u?void 0:u.scrollTop)||0}}function getWindowHeight(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function getWindowWidth(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function isBlocked(r,n,i,o,a){if(!r)return!1;var c=r.nodeType===r.ELEMENT_NODE?r:r.parentElement;if(!c)return!1;var u=createMatchPredicate(n,i);if(!a){var l=o&&c.matches(o);return u(c)&&!l}var p=distanceToMatch(c,u),S=-1;return!(p<0)&&(o&&(S=distanceToMatch(c,createMatchPredicate(null,o))),p>-1&&S<0||p<S)}function isIgnored(r,n){return -2===n.getId(r)}function legacy_isTouchEvent(r){return!!r.changedTouches}function isSerializedIframe(r,n){return!!("IFRAME"===r.nodeName&&n.getMeta(r))}function isSerializedStylesheet(r,n){return!!("LINK"===r.nodeName&&r.nodeType===r.ELEMENT_NODE&&r.getAttribute&&"stylesheet"===r.getAttribute("rel")&&n.getMeta(r))}function hasShadowRoot(r){return!!(null==r?void 0:r.shadowRoot)}/[1-9][0-9]{12}/.test(Date.now().toString())||(re=function(){return new Date().getTime()});var rt=function(){function StyleSheetMirror(){(0,ef.Z)(this,StyleSheetMirror),this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}return(0,ed.Z)(StyleSheetMirror,[{key:"getId",value:function(r){var n;return null!==(n=this.styleIDMap.get(r))&&void 0!==n?n:-1}},{key:"has",value:function(r){return this.styleIDMap.has(r)}},{key:"add",value:function(r,n){var i;return this.has(r)?this.getId(r):(i=void 0===n?this.id++:n,this.styleIDMap.set(r,i),this.idStyleMap.set(i,r),i)}},{key:"getStyle",value:function(r){return this.idStyleMap.get(r)||null}},{key:"reset",value:function(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}},{key:"generateId",value:function(){return this.id++}}]),StyleSheetMirror}();function getShadowHost(r){var n,i,o=null;return(null===(i=null===(n=r.getRootNode)||void 0===n?void 0:n.call(r))||void 0===i?void 0:i.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&r.getRootNode().host&&(o=r.getRootNode().host),o}function inDom(r){var n=r.ownerDocument;return!!n&&(n.contains(r)||function(r){var n=r.ownerDocument;if(!n)return!1;var i=function(r){for(var n,i=r;n=getShadowHost(i);)i=n;return i}(r);return n.contains(i)}(r))}var rr=((l=rr||{})[l.DomContentLoaded=0]="DomContentLoaded",l[l.Load=1]="Load",l[l.FullSnapshot=2]="FullSnapshot",l[l.IncrementalSnapshot=3]="IncrementalSnapshot",l[l.Meta=4]="Meta",l[l.Custom=5]="Custom",l[l.Plugin=6]="Plugin",l),rn=((p=rn||{})[p.Mutation=0]="Mutation",p[p.MouseMove=1]="MouseMove",p[p.MouseInteraction=2]="MouseInteraction",p[p.Scroll=3]="Scroll",p[p.ViewportResize=4]="ViewportResize",p[p.Input=5]="Input",p[p.TouchMove=6]="TouchMove",p[p.MediaInteraction=7]="MediaInteraction",p[p.StyleSheetRule=8]="StyleSheetRule",p[p.CanvasMutation=9]="CanvasMutation",p[p.Font=10]="Font",p[p.Log=11]="Log",p[p.Drag=12]="Drag",p[p.StyleDeclaration=13]="StyleDeclaration",p[p.Selection=14]="Selection",p[p.AdoptedStyleSheet=15]="AdoptedStyleSheet",p[p.CustomElement=16]="CustomElement",p),ri=((S=ri||{})[S.MouseUp=0]="MouseUp",S[S.MouseDown=1]="MouseDown",S[S.Click=2]="Click",S[S.ContextMenu=3]="ContextMenu",S[S.DblClick=4]="DblClick",S[S.Focus=5]="Focus",S[S.Blur=6]="Blur",S[S.TouchStart=7]="TouchStart",S[S.TouchMove_Departed=8]="TouchMove_Departed",S[S.TouchEnd=9]="TouchEnd",S[S.TouchCancel=10]="TouchCancel",S),ro=((k=ro||{})[k.Mouse=0]="Mouse",k[k.Pen=1]="Pen",k[k.Touch=2]="Touch",k),ra=function(){function DoubleLinkedList(){(0,ef.Z)(this,DoubleLinkedList),this.length=0,this.head=null,this.tail=null}return(0,ed.Z)(DoubleLinkedList,[{key:"get",value:function(r){if(r>=this.length)throw Error("Position outside of list range");for(var n=this.head,i=0;i<r;i++)n=(null==n?void 0:n.next)||null;return n}},{key:"addNode",value:function(r){var n={value:r,previous:null,next:null};if(r.__ln=n,r.previousSibling&&"__ln"in r.previousSibling){var i=r.previousSibling.__ln.next;n.next=i,n.previous=r.previousSibling.__ln,r.previousSibling.__ln.next=n,i&&(i.previous=n)}else if(r.nextSibling&&"__ln"in r.nextSibling&&r.nextSibling.__ln.previous){var o=r.nextSibling.__ln.previous;n.previous=o,n.next=r.nextSibling.__ln,r.nextSibling.__ln.previous=n,o&&(o.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;null===n.next&&(this.tail=n),this.length++}},{key:"removeNode",value:function(r){var n=r.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),r.__ln&&delete r.__ln,this.length--)}}]),DoubleLinkedList}(),moveKey=function(r,n){return"".concat(r,"@").concat(n)},rs=function(){function MutationBuffer(){var r=this;(0,ef.Z)(this,MutationBuffer),this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=function(n){n.forEach(r.processMutation),r.emit()},this.emit=function(){if(!r.frozen&&!r.locked){for(var n=[],i=new Set,o=new ra,getNextId=function(n){for(var i=n,o=-2;-2===o;)o=(i=i&&i.nextSibling)&&r.mirror.getId(i);return o},pushAdd=function(a){if(a.parentNode&&inDom(a)){var c=isShadowRoot(a.parentNode)?r.mirror.getId(getShadowHost(a)):r.mirror.getId(a.parentNode),u=getNextId(a);if(-1===c||-1===u)return o.addNode(a);var l=serializeNodeWithId(a,{doc:r.doc,mirror:r.mirror,blockClass:r.blockClass,blockSelector:r.blockSelector,maskAllText:r.maskAllText,unblockSelector:r.unblockSelector,maskTextClass:r.maskTextClass,unmaskTextClass:r.unmaskTextClass,maskTextSelector:r.maskTextSelector,unmaskTextSelector:r.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:r.inlineStylesheet,maskInputOptions:r.maskInputOptions,maskAttributeFn:r.maskAttributeFn,maskTextFn:r.maskTextFn,maskInputFn:r.maskInputFn,slimDOMOptions:r.slimDOMOptions,dataURLOptions:r.dataURLOptions,recordCanvas:r.recordCanvas,inlineImages:r.inlineImages,onSerialize:function(n){isSerializedIframe(n,r.mirror)&&r.iframeManager.addIframe(n),isSerializedStylesheet(n,r.mirror)&&r.stylesheetManager.trackLinkElement(n),hasShadowRoot(a)&&r.shadowDomManager.addShadowRoot(a.shadowRoot,r.doc)},onIframeLoad:function(n,i){r.iframeManager.attachIframe(n,i),r.shadowDomManager.observeAttachShadow(n)},onStylesheetLoad:function(n,i){r.stylesheetManager.attachLinkElement(n,i)}});l&&(n.push({parentId:c,nextId:u,node:l}),i.add(l.id))}};r.mapRemoves.length;)r.mirror.removeNodeFromMap(r.mapRemoves.shift());var a,c=esm_createForOfIteratorHelper(r.movedSet);try{for(c.s();!(a=c.n()).done;){var u=a.value;(!isParentRemoved(r.removes,u,r.mirror)||r.movedSet.has(u.parentNode))&&pushAdd(u)}}catch(r){c.e(r)}finally{c.f()}var l,p=esm_createForOfIteratorHelper(r.addedSet);try{for(p.s();!(l=p.n()).done;){var S=l.value;isAncestorInSet(r.droppedSet,S)||isParentRemoved(r.removes,S,r.mirror)?isAncestorInSet(r.movedSet,S)?pushAdd(S):r.droppedSet.add(S):pushAdd(S)}}catch(r){p.e(r)}finally{p.f()}for(var k=null;o.length;){var O=null;if(k){var w=r.mirror.getId(k.value.parentNode),C=getNextId(k.value);-1!==w&&-1!==C&&(O=k)}if(!O)for(var I=o.tail;I;){var R=I;if(I=I.previous,R){var x=r.mirror.getId(R.value.parentNode);if(-1===getNextId(R.value))continue;if(-1!==x){O=R;break}var j=R.value;if(j.parentNode&&j.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var N=j.parentNode.host;if(-1!==r.mirror.getId(N)){O=R;break}}}}if(!O){for(;o.head;)o.removeNode(o.head.value);break}k=O.previous,o.removeNode(O.value),pushAdd(O.value)}var W={texts:r.texts.map(function(n){return{id:r.mirror.getId(n.node),value:n.value}}).filter(function(r){return!i.has(r.id)}).filter(function(n){return r.mirror.has(n.id)}),attributes:r.attributes.map(function(n){var i=n.attributes;if("string"==typeof i.style){var o=JSON.stringify(n.styleDiff),a=JSON.stringify(n._unchangedStyles);o.length<i.style.length&&(o+a).split("var(").length===i.style.split("var(").length&&(i.style=n.styleDiff)}return{id:r.mirror.getId(n.node),attributes:i}}).filter(function(r){return!i.has(r.id)}).filter(function(n){return r.mirror.has(n.id)}),removes:r.removes,adds:n};(W.texts.length||W.attributes.length||W.removes.length||W.adds.length)&&(r.texts=[],r.attributes=[],r.removes=[],r.addedSet=new Set,r.movedSet=new Set,r.droppedSet=new Set,r.movedMap={},r.mutationCb(W))}},this.processMutation=function(n){if(!isIgnored(n.target,r.mirror)){try{i=document.implementation.createHTMLDocument()}catch(n){i=r.doc}switch(n.type){case"characterData":var i,o=n.target.textContent;isBlocked(n.target,r.blockClass,r.blockSelector,r.unblockSelector,!1)||o===n.oldValue||r.texts.push({value:needMaskingText(n.target,r.maskTextClass,r.maskTextSelector,r.unmaskTextClass,r.unmaskTextSelector,r.maskAllText)&&o?r.maskTextFn?r.maskTextFn(o):o.replace(/[\S]/g,"*"):o,node:n.target});break;case"attributes":var a=n.target,c=n.attributeName,u=n.target.getAttribute(c);if("value"===c){var l=getInputType(a),p=a.tagName;u=getInputValue(a,p,l);var S=shouldMaskInput({maskInputOptions:r.maskInputOptions,tagName:p,type:l});u=maskInputValue({isMasked:needMaskingText(n.target,r.maskTextClass,r.maskTextSelector,r.unmaskTextClass,r.unmaskTextSelector,S),element:a,value:u,maskInputFn:r.maskInputFn})}if(isBlocked(n.target,r.blockClass,r.blockSelector,r.unblockSelector,!1)||u===n.oldValue)return;var k=r.attributes.find(function(r){return r.node===n.target});if("IFRAME"===a.tagName&&"src"===c&&!r.keepIframeSrcFn(u)){if(a.contentDocument)return;c="rr_src"}if(k||(k={node:n.target,attributes:{},styleDiff:{},_unchangedStyles:{}},r.attributes.push(k)),"type"===c&&"INPUT"===a.tagName&&"password"===(n.oldValue||"").toLowerCase()&&a.setAttribute("data-rr-is-password","true"),!ignoreAttribute(a.tagName,c)&&(k.attributes[c]=transformAttribute(r.doc,toLowerCase(a.tagName),toLowerCase(c),u,a,r.maskAttributeFn),"style"===c)){var O=i.createElement("span");n.oldValue&&O.setAttribute("style",n.oldValue);for(var w=0,C=Array.from(a.style);w<C.length;w++){var I=C[w],R=a.style.getPropertyValue(I),x=a.style.getPropertyPriority(I);R!==O.style.getPropertyValue(I)||x!==O.style.getPropertyPriority(I)?""===x?k.styleDiff[I]=R:k.styleDiff[I]=[R,x]:k._unchangedStyles[I]=[R,x]}for(var j=0,N=Array.from(O.style);j<N.length;j++){var W=N[j];""===a.style.getPropertyValue(W)&&(k.styleDiff[W]=!1)}}break;case"childList":if(isBlocked(n.target,r.blockClass,r.blockSelector,r.unblockSelector,!0))return;n.addedNodes.forEach(function(i){return r.genAdds(i,n.target)}),n.removedNodes.forEach(function(i){var o=r.mirror.getId(i),a=isShadowRoot(n.target)?r.mirror.getId(n.target.host):r.mirror.getId(n.target);isBlocked(n.target,r.blockClass,r.blockSelector,r.unblockSelector,!1)||isIgnored(i,r.mirror)||-1===r.mirror.getId(i)||(r.addedSet.has(i)?(deepDelete(r.addedSet,i),r.droppedSet.add(i)):r.addedSet.has(n.target)&&-1===o||function isAncestorRemoved(r,n){if(isShadowRoot(r))return!1;var i=n.getId(r);return!n.has(i)||(!r.parentNode||r.parentNode.nodeType!==r.DOCUMENT_NODE)&&(!r.parentNode||isAncestorRemoved(r.parentNode,n))}(n.target,r.mirror)||(r.movedSet.has(i)&&r.movedMap[moveKey(o,a)]?deepDelete(r.movedSet,i):r.removes.push({parentId:a,id:o,isShadow:!!(isShadowRoot(n.target)&&isNativeShadowDom(n.target))||void 0})),r.mapRemoves.push(i))})}}},this.genAdds=function(n,i){if(!r.processedNodeManager.inOtherBuffer(n,r)&&!(r.addedSet.has(n)||r.movedSet.has(n))){if(r.mirror.hasNode(n)){if(isIgnored(n,r.mirror))return;r.movedSet.add(n);var o=null;i&&r.mirror.hasNode(i)&&(o=r.mirror.getId(i)),o&&-1!==o&&(r.movedMap[moveKey(r.mirror.getId(n),o)]=!0)}else r.addedSet.add(n),r.droppedSet.delete(n);!isBlocked(n,r.blockClass,r.blockSelector,r.unblockSelector,!1)&&(n.childNodes.forEach(function(n){return r.genAdds(n)}),hasShadowRoot(n)&&n.shadowRoot.childNodes.forEach(function(i){r.processedNodeManager.add(i,r),r.genAdds(i,n)}))}}}return(0,ed.Z)(MutationBuffer,[{key:"init",value:function(r){var n=this;["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(function(i){n[i]=r[i]})}},{key:"freeze",value:function(){this.frozen=!0,this.canvasManager.freeze()}},{key:"unfreeze",value:function(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}},{key:"isFrozen",value:function(){return this.frozen}},{key:"lock",value:function(){this.locked=!0,this.canvasManager.lock()}},{key:"unlock",value:function(){this.locked=!1,this.canvasManager.unlock(),this.emit()}},{key:"reset",value:function(){this.shadowDomManager.reset(),this.canvasManager.reset()}}]),MutationBuffer}();function deepDelete(r,n){r.delete(n),n.childNodes.forEach(function(n){return deepDelete(r,n)})}function isParentRemoved(r,n,i){return 0!==r.length&&function _isParentRemoved(r,n,i){var o=n.parentNode;if(!o)return!1;var a=i.getId(o);return!!r.some(function(r){return r.id===a})||_isParentRemoved(r,o,i)}(r,n,i)}function isAncestorInSet(r,n){return 0!==r.size&&function _isAncestorInSet(r,n){var i=n.parentNode;return!!i&&(!!r.has(i)||_isAncestorInSet(r,i))}(r,n)}var callbackWrapper=function(r){return ei?function(){try{return r.apply(void 0,arguments)}catch(r){if(ei&&!0===ei(r))return function(){};throw r}}:r},rc=[];function esm_getEventTarget(r){try{if("composedPath"in r){var n=r.composedPath();if(n.length)return n[0]}else if("path"in r&&r.path.length)return r.path[0]}catch(r){}return r&&r.target}function initMutationObserver(r,n){var i,o,a=new rs;rc.push(a),a.init(r);var c=window.MutationObserver||window.__rrMutationObserver,u=null===(o=null===(i=null==window?void 0:window.Zone)||void 0===i?void 0:i.__symbol__)||void 0===o?void 0:o.call(i,"MutationObserver");u&&window[u]&&(c=window[u]);var l=new c(callbackWrapper(function(n){r.onMutation&&!1===r.onMutation(n)||a.processMutations.bind(a)(n)}));return l.observe(n,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),l}function initScrollObserver(r){var n=r.scrollCb,i=r.doc,o=r.mirror,a=r.blockClass,c=r.blockSelector,u=r.unblockSelector,l=r.sampling;return on("scroll",callbackWrapper(throttle$1(callbackWrapper(function(r){var l=esm_getEventTarget(r);if(!(!l||isBlocked(l,a,c,u,!0))){var p=o.getId(l);if(l===i&&i.defaultView){var S=getWindowScroll(i.defaultView);n({id:p,x:S.left,y:S.top})}else n({id:p,x:l.scrollLeft,y:l.scrollTop})}}),l.scroll||100)),i)}var ru=["INPUT","TEXTAREA","SELECT"],rl=new WeakMap;function getNestedCSSRulePositions(r){var n;return n=[],hasNestedCSSRule("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||hasNestedCSSRule("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||hasNestedCSSRule("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||hasNestedCSSRule("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule?n.unshift(Array.from(r.parentRule.cssRules).indexOf(r)):r.parentStyleSheet&&n.unshift(Array.from(r.parentStyleSheet.cssRules).indexOf(r)),n}function getIdAndStyleId(r,n,i){var o,a;return r?(r.ownerNode?o=n.getId(r.ownerNode):a=i.getId(r),{styleId:a,id:o}):{}}function initAdoptedStyleSheetObserver(r,n){var i,o,a,c=r.mirror,u=r.stylesheetManager,l=null;l="#document"===n.nodeName?c.getId(n):c.getId(n.host);var p="#document"===n.nodeName?null===(i=n.defaultView)||void 0===i?void 0:i.Document:null===(a=null===(o=n.ownerDocument)||void 0===o?void 0:o.defaultView)||void 0===a?void 0:a.ShadowRoot,S=(null==p?void 0:p.prototype)?Object.getOwnPropertyDescriptor(null==p?void 0:p.prototype,"adoptedStyleSheets"):void 0;return null!==l&&-1!==l&&p&&S?(Object.defineProperty(n,"adoptedStyleSheets",{configurable:S.configurable,enumerable:S.enumerable,get:function(){var r;return null===(r=S.get)||void 0===r?void 0:r.call(this)},set:function(r){var n,i=null===(n=S.set)||void 0===n?void 0:n.call(this,r);if(null!==l&&-1!==l)try{u.adoptStyleSheets(r,l)}catch(r){}return i}}),callbackWrapper(function(){Object.defineProperty(n,"adoptedStyleSheets",{configurable:S.configurable,enumerable:S.enumerable,get:S.get,set:S.set})})):function(){}}function initObservers(r){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n,i,o,a,c,u,l,p,S,k,O,w,C,I,R,x,j,N,W,G,$,J,et,er,en,ei,eo,es,ec,el=r.doc.defaultView;if(!el)return function(){};var ef=initMutationObserver(r,r.doc),ed=function(r){var n,i=r.mousemoveCb,o=r.sampling,a=r.doc,c=r.mirror;if(!1===o.mousemove)return function(){};var u="number"==typeof o.mousemove?o.mousemove:50,l="number"==typeof o.mousemoveCallback?o.mousemoveCallback:500,p=[],S=throttle$1(callbackWrapper(function(r){var o=Date.now()-n;i(p.map(function(r){return r.timeOffset-=o,r}),r),p=[],n=null}),l),k=callbackWrapper(throttle$1(callbackWrapper(function(r){var i=esm_getEventTarget(r),o=legacy_isTouchEvent(r)?r.changedTouches[0]:r,a=o.clientX,u=o.clientY;n||(n=re()),p.push({x:a,y:u,id:c.getId(i),timeOffset:re()-n}),S("undefined"!=typeof DragEvent&&r instanceof DragEvent?rn.Drag:r instanceof MouseEvent?rn.MouseMove:rn.TouchMove)}),u,{trailing:!1})),O=[on("mousemove",k,a),on("touchmove",k,a),on("drag",k,a)];return callbackWrapper(function(){O.forEach(function(r){return r()})})}(r),ep=function(r){var n=r.mouseInteractionCb,i=r.doc,o=r.mirror,a=r.blockClass,c=r.blockSelector,u=r.unblockSelector,l=r.sampling;if(!1===l.mouseInteraction)return function(){};var p=!0===l.mouseInteraction||void 0===l.mouseInteraction?{}:l.mouseInteraction,S=[],k=null;return Object.keys(ri).filter(function(r){return Number.isNaN(Number(r))&&!r.endsWith("_Departed")&&!1!==p[r]}).forEach(function(r){var l=toLowerCase(r);if(window.PointerEvent)switch(ri[r]){case ri.MouseDown:case ri.MouseUp:l=l.replace("mouse","pointer");break;case ri.TouchStart:case ri.TouchEnd:return}S.push(on(l,function(i){var l=esm_getEventTarget(i);if(!isBlocked(l,a,c,u,!0)){var p=null,S=r;if("pointerType"in i){switch(i.pointerType){case"mouse":p=ro.Mouse;break;case"touch":p=ro.Touch;break;case"pen":p=ro.Pen}p===ro.Touch?ri[r]===ri.MouseDown?S="TouchStart":ri[r]===ri.MouseUp&&(S="TouchEnd"):ro.Pen}else legacy_isTouchEvent(i)&&(p=ro.Touch);null!==p?(k=p,(S.startsWith("Touch")&&p===ro.Touch||S.startsWith("Mouse")&&p===ro.Mouse)&&(p=null)):ri[r]===ri.Click&&(p=k,k=null);var O=legacy_isTouchEvent(i)?i.changedTouches[0]:i;if(O){var w=o.getId(l),C=O.clientX,I=O.clientY;callbackWrapper(n)(Object.assign({type:ri[S],id:w,x:C,y:I},null!==p&&{pointerType:p}))}}},i))}),callbackWrapper(function(){S.forEach(function(r){return r()})})}(r),eh=initScrollObserver(r),ev=(n=r.viewportResizeCb,i=-1,o=-1,on("resize",callbackWrapper(throttle$1(callbackWrapper(function(){var r=getWindowHeight(),a=getWindowWidth();(i!==r||o!==a)&&(n({width:Number(a),height:Number(r)}),i=r,o=a)}),200)),el)),em=function(r){var n=r.inputCb,i=r.doc,o=r.mirror,a=r.blockClass,c=r.blockSelector,u=r.unblockSelector,l=r.ignoreClass,p=r.ignoreSelector,S=r.maskInputOptions,k=r.maskInputFn,O=r.sampling,w=r.userTriggeredOnInput,C=r.maskTextClass,I=r.unmaskTextClass,R=r.maskTextSelector,x=r.unmaskTextSelector;function eventHandler(r){var n=esm_getEventTarget(r),o=r.isTrusted,O=n&&toUpperCase(n.tagName);if("OPTION"===O&&(n=n.parentElement),!(!n||!O||0>ru.indexOf(O)||isBlocked(n,a,c,u,!0))){var j=n;if(!(j.classList.contains(l)||p&&j.matches(p))){var N=getInputType(n),W=getInputValue(j,O,N),G=!1,$=shouldMaskInput({maskInputOptions:S,tagName:O,type:N}),J=needMaskingText(n,C,R,I,x,$);("radio"===N||"checkbox"===N)&&(G=n.checked),W=maskInputValue({isMasked:J,element:n,value:W,maskInputFn:k}),cbWithDedup(n,w?{text:W,isChecked:G,userTriggered:o}:{text:W,isChecked:G});var et=n.name;"radio"===N&&et&&G&&i.querySelectorAll('input[type="radio"][name="'.concat(et,'"]')).forEach(function(r){if(r!==n){var i=maskInputValue({isMasked:J,element:r,value:getInputValue(r,O,N),maskInputFn:k});cbWithDedup(r,w?{text:i,isChecked:!G,userTriggered:!1}:{text:i,isChecked:!G})}})}}}function cbWithDedup(r,i){var a=rl.get(r);if(!a||a.text!==i.text||a.isChecked!==i.isChecked){rl.set(r,i);var c=o.getId(r);callbackWrapper(n)(Object.assign(Object.assign({},i),{id:c}))}}var j=("last"===O.input?["change"]:["input","change"]).map(function(r){return on(r,callbackWrapper(eventHandler),i)}),N=i.defaultView;if(!N)return function(){j.forEach(function(r){return r()})};var W=N.Object.getOwnPropertyDescriptor(N.HTMLInputElement.prototype,"value"),G=[[N.HTMLInputElement.prototype,"value"],[N.HTMLInputElement.prototype,"checked"],[N.HTMLSelectElement.prototype,"value"],[N.HTMLTextAreaElement.prototype,"value"],[N.HTMLSelectElement.prototype,"selectedIndex"],[N.HTMLOptionElement.prototype,"selected"]];return W&&W.set&&j.push.apply(j,(0,eu.Z)(G.map(function(r){return function hookSetter(r,n,i,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window,c=a.Object.getOwnPropertyDescriptor(r,n);return a.Object.defineProperty(r,n,o?i:{set:function(r){var n=this;setTimeout(function(){i.set.call(n,r)},0),c&&c.set&&c.set.call(this,r)}}),function(){return hookSetter(r,n,c||{},!0)}}(r[0],r[1],{set:function(){callbackWrapper(eventHandler)({target:this,isTrusted:!1})}},!1,N)}))),callbackWrapper(function(){j.forEach(function(r){return r()})})}(r),ey=(a=r.mediaInteractionCb,c=r.blockClass,u=r.blockSelector,l=r.unblockSelector,p=r.mirror,S=r.sampling,k=r.doc,w=[on("play",(O=callbackWrapper(function(r){return throttle$1(callbackWrapper(function(n){var i=esm_getEventTarget(n);if(!(!i||isBlocked(i,c,u,l,!0))){var o=i.currentTime,S=i.volume,k=i.muted,O=i.playbackRate;a({type:r,id:p.getId(i),currentTime:o,volume:S,muted:k,playbackRate:O})}}),S.media||500)}))(0),k),on("pause",O(1),k),on("seeked",O(2),k),on("volumechange",O(3),k),on("ratechange",O(4),k)],callbackWrapper(function(){w.forEach(function(r){return r()})})),eg=function(r,n){var i,o,a=r.styleSheetRuleCb,c=r.mirror,u=r.stylesheetManager,l=n.win;if(!l.CSSStyleSheet||!l.CSSStyleSheet.prototype)return function(){};var p=l.CSSStyleSheet.prototype.insertRule;l.CSSStyleSheet.prototype.insertRule=new Proxy(p,{apply:callbackWrapper(function(r,n,i){var o=(0,ex.Z)(i,2),l=o[0],p=o[1],S=getIdAndStyleId(n,c,u.styleMirror),k=S.id,O=S.styleId;return(k&&-1!==k||O&&-1!==O)&&a({id:k,styleId:O,adds:[{rule:l,index:p}]}),r.apply(n,i)})});var S=l.CSSStyleSheet.prototype.deleteRule;l.CSSStyleSheet.prototype.deleteRule=new Proxy(S,{apply:callbackWrapper(function(r,n,i){var o=(0,ex.Z)(i,1)[0],l=getIdAndStyleId(n,c,u.styleMirror),p=l.id,S=l.styleId;return(p&&-1!==p||S&&-1!==S)&&a({id:p,styleId:S,removes:[{index:o}]}),r.apply(n,i)})}),l.CSSStyleSheet.prototype.replace&&(i=l.CSSStyleSheet.prototype.replace,l.CSSStyleSheet.prototype.replace=new Proxy(i,{apply:callbackWrapper(function(r,n,i){var o=(0,ex.Z)(i,1)[0],l=getIdAndStyleId(n,c,u.styleMirror),p=l.id,S=l.styleId;return(p&&-1!==p||S&&-1!==S)&&a({id:p,styleId:S,replace:o}),r.apply(n,i)})})),l.CSSStyleSheet.prototype.replaceSync&&(o=l.CSSStyleSheet.prototype.replaceSync,l.CSSStyleSheet.prototype.replaceSync=new Proxy(o,{apply:callbackWrapper(function(r,n,i){var o=(0,ex.Z)(i,1)[0],l=getIdAndStyleId(n,c,u.styleMirror),p=l.id,S=l.styleId;return(p&&-1!==p||S&&-1!==S)&&a({id:p,styleId:S,replaceSync:o}),r.apply(n,i)})}));var k={};canMonkeyPatchNestedCSSRule("CSSGroupingRule")?k.CSSGroupingRule=l.CSSGroupingRule:(canMonkeyPatchNestedCSSRule("CSSMediaRule")&&(k.CSSMediaRule=l.CSSMediaRule),canMonkeyPatchNestedCSSRule("CSSConditionRule")&&(k.CSSConditionRule=l.CSSConditionRule),canMonkeyPatchNestedCSSRule("CSSSupportsRule")&&(k.CSSSupportsRule=l.CSSSupportsRule));var O={};return Object.entries(k).forEach(function(r){var n=(0,ex.Z)(r,2),i=n[0],o=n[1];O[i]={insertRule:o.prototype.insertRule,deleteRule:o.prototype.deleteRule},o.prototype.insertRule=new Proxy(O[i].insertRule,{apply:callbackWrapper(function(r,n,i){var o=(0,ex.Z)(i,2),l=o[0],p=o[1],S=getIdAndStyleId(n.parentStyleSheet,c,u.styleMirror),k=S.id,O=S.styleId;return(k&&-1!==k||O&&-1!==O)&&a({id:k,styleId:O,adds:[{rule:l,index:[].concat((0,eu.Z)(getNestedCSSRulePositions(n)),[p||0])}]}),r.apply(n,i)})}),o.prototype.deleteRule=new Proxy(O[i].deleteRule,{apply:callbackWrapper(function(r,n,i){var o=(0,ex.Z)(i,1)[0],l=getIdAndStyleId(n.parentStyleSheet,c,u.styleMirror),p=l.id,S=l.styleId;return(p&&-1!==p||S&&-1!==S)&&a({id:p,styleId:S,removes:[{index:[].concat((0,eu.Z)(getNestedCSSRulePositions(n)),[o])}]}),r.apply(n,i)})})}),callbackWrapper(function(){l.CSSStyleSheet.prototype.insertRule=p,l.CSSStyleSheet.prototype.deleteRule=S,i&&(l.CSSStyleSheet.prototype.replace=i),o&&(l.CSSStyleSheet.prototype.replaceSync=o),Object.entries(k).forEach(function(r){var n=(0,ex.Z)(r,2),i=n[0],o=n[1];o.prototype.insertRule=O[i].insertRule,o.prototype.deleteRule=O[i].deleteRule})})}(r,{win:el}),e_=initAdoptedStyleSheetObserver(r,r.doc),eb=(C=r.styleDeclarationCb,I=r.mirror,R=r.ignoreCSSAttributes,x=r.stylesheetManager,j=el.CSSStyleDeclaration.prototype.setProperty,el.CSSStyleDeclaration.prototype.setProperty=new Proxy(j,{apply:callbackWrapper(function(r,n,i){var o,a=(0,ex.Z)(i,3),c=a[0],u=a[1],l=a[2];if(R.has(c))return j.apply(n,[c,u,l]);var p=getIdAndStyleId(null===(o=n.parentRule)||void 0===o?void 0:o.parentStyleSheet,I,x.styleMirror),S=p.id,k=p.styleId;return(S&&-1!==S||k&&-1!==k)&&C({id:S,styleId:k,set:{property:c,value:u,priority:l},index:getNestedCSSRulePositions(n.parentRule)}),r.apply(n,i)})}),N=el.CSSStyleDeclaration.prototype.removeProperty,el.CSSStyleDeclaration.prototype.removeProperty=new Proxy(N,{apply:callbackWrapper(function(r,n,i){var o,a=(0,ex.Z)(i,1)[0];if(R.has(a))return N.apply(n,[a]);var c=getIdAndStyleId(null===(o=n.parentRule)||void 0===o?void 0:o.parentStyleSheet,I,x.styleMirror),u=c.id,l=c.styleId;return(u&&-1!==u||l&&-1!==l)&&C({id:u,styleId:l,remove:{property:a},index:getNestedCSSRulePositions(n.parentRule)}),r.apply(n,i)})}),callbackWrapper(function(){el.CSSStyleDeclaration.prototype.setProperty=j,el.CSSStyleDeclaration.prototype.removeProperty=N})),eS=r.collectFonts?function(r){var n=r.fontCb,i=r.doc,o=i.defaultView;if(!o)return function(){};var a=[],c=new WeakMap,u=o.FontFace;o.FontFace=function(r,n,i){var o=new u(r,n,i);return c.set(o,{family:r,buffer:"string"!=typeof n,descriptors:i,fontSource:"string"==typeof n?n:JSON.stringify(Array.from(new Uint8Array(n)))}),o};var l=patch(i.fonts,"add",function(r){return function(i){return setTimeout(callbackWrapper(function(){var r=c.get(i);r&&(n(r),c.delete(i))}),0),r.apply(this,[i])}});return a.push(function(){o.FontFace=u}),a.push(l),callbackWrapper(function(){a.forEach(function(r){return r()})})}(r):function(){},eE=(W=r.doc,G=r.mirror,$=r.blockClass,J=r.blockSelector,et=r.unblockSelector,er=r.selectionCb,en=!0,(ei=callbackWrapper(function(){var r=W.getSelection();if(r&&(!en||null==r||!r.isCollapsed)){en=r.isCollapsed||!1;for(var n=[],i=r.rangeCount||0,o=0;o<i;o++){var a=r.getRangeAt(o),c=a.startContainer,u=a.startOffset,l=a.endContainer,p=a.endOffset;isBlocked(c,$,J,et,!0)||isBlocked(l,$,J,et,!0)||n.push({start:G.getId(c),startOffset:u,end:G.getId(l),endOffset:p})}er({ranges:n})}}))(),on("selectionchange",ei)),ek=(eo=r.doc,es=r.customElementCb,(ec=eo.defaultView)&&ec.customElements?patch(ec.customElements,"define",function(r){return function(n,i,o){try{es({define:{name:n}})}catch(r){}return r.apply(this,[n,i,o])}}):function(){});return callbackWrapper(function(){rc.forEach(function(r){return r.reset()}),ef.disconnect(),ed(),ep(),eh(),ev(),em(),ey(),eg(),e_(),eb(),eS(),eE(),ek()})}function hasNestedCSSRule(r){return void 0!==window[r]}function canMonkeyPatchNestedCSSRule(r){return!!(void 0!==window[r]&&window[r].prototype&&"insertRule"in window[r].prototype&&"deleteRule"in window[r].prototype)}var rf=function(){function CrossOriginIframeMirror(r){(0,ef.Z)(this,CrossOriginIframeMirror),this.generateIdFn=r,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}return(0,ed.Z)(CrossOriginIframeMirror,[{key:"getId",value:function(r,n,i,o){var a=i||this.getIdToRemoteIdMap(r),c=o||this.getRemoteIdToIdMap(r),u=a.get(n);return u||(u=this.generateIdFn(),a.set(n,u),c.set(u,n)),u}},{key:"getIds",value:function(r,n){var i=this,o=this.getIdToRemoteIdMap(r),a=this.getRemoteIdToIdMap(r);return n.map(function(n){return i.getId(r,n,o,a)})}},{key:"getRemoteId",value:function(r,n,i){var o=i||this.getRemoteIdToIdMap(r);return"number"!=typeof n?n:o.get(n)||-1}},{key:"getRemoteIds",value:function(r,n){var i=this,o=this.getRemoteIdToIdMap(r);return n.map(function(n){return i.getRemoteId(r,n,o)})}},{key:"reset",value:function(r){if(!r){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(r),this.iframeRemoteIdToIdMap.delete(r)}},{key:"getIdToRemoteIdMap",value:function(r){var n=this.iframeIdToRemoteIdMap.get(r);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(r,n)),n}},{key:"getRemoteIdToIdMap",value:function(r){var n=this.iframeRemoteIdToIdMap.get(r);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(r,n)),n}}]),CrossOriginIframeMirror}(),rd=function(){function IframeManagerNoop(){(0,ef.Z)(this,IframeManagerNoop),this.crossOriginIframeMirror=new rf(genId),this.crossOriginIframeRootIdMap=new WeakMap}return(0,ed.Z)(IframeManagerNoop,[{key:"addIframe",value:function(){}},{key:"addLoadListener",value:function(){}},{key:"attachIframe",value:function(){}}]),IframeManagerNoop}(),rp=function(){function IframeManager(r){(0,ef.Z)(this,IframeManager),this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new rf(genId),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=r.mutationCb,this.wrappedEmit=r.wrappedEmit,this.stylesheetManager=r.stylesheetManager,this.recordCrossOriginIframes=r.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new rf(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=r.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}return(0,ed.Z)(IframeManager,[{key:"addIframe",value:function(r){this.iframes.set(r,!0),r.contentWindow&&this.crossOriginIframeMap.set(r.contentWindow,r)}},{key:"addLoadListener",value:function(r){this.loadListener=r}},{key:"attachIframe",value:function(r,n){var i;this.mutationCb({adds:[{parentId:this.mirror.getId(r),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),null===(i=this.loadListener)||void 0===i||i.call(this,r),r.contentDocument&&r.contentDocument.adoptedStyleSheets&&r.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.contentDocument.adoptedStyleSheets,this.mirror.getId(r.contentDocument))}},{key:"handleMessage",value:function(r){if("rrweb"===r.data.type&&r.origin===r.data.origin&&r.source){var n=this.crossOriginIframeMap.get(r.source);if(n){var i=this.transformCrossOriginEvent(n,r.data.event);i&&this.wrappedEmit(i,r.data.isCheckout)}}}},{key:"transformCrossOriginEvent",value:function(r,n){var i,o=this;switch(n.type){case rr.FullSnapshot:this.crossOriginIframeMirror.reset(r),this.crossOriginIframeStyleMirror.reset(r),this.replaceIdOnNode(n.data.node,r);var a=n.data.node.id;return this.crossOriginIframeRootIdMap.set(r,a),this.patchRootIdOnNode(n.data.node,a),{timestamp:n.timestamp,type:rr.IncrementalSnapshot,data:{source:rn.Mutation,adds:[{parentId:this.mirror.getId(r),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}};case rr.Meta:case rr.Load:case rr.DomContentLoaded:break;case rr.Plugin:return n;case rr.Custom:return this.replaceIds(n.data.payload,r,["id","parentId","previousId","nextId"]),n;case rr.IncrementalSnapshot:switch(n.data.source){case rn.Mutation:return n.data.adds.forEach(function(n){o.replaceIds(n,r,["parentId","nextId","previousId"]),o.replaceIdOnNode(n.node,r);var i=o.crossOriginIframeRootIdMap.get(r);i&&o.patchRootIdOnNode(n.node,i)}),n.data.removes.forEach(function(n){o.replaceIds(n,r,["parentId","id"])}),n.data.attributes.forEach(function(n){o.replaceIds(n,r,["id"])}),n.data.texts.forEach(function(n){o.replaceIds(n,r,["id"])}),n;case rn.Drag:case rn.TouchMove:case rn.MouseMove:return n.data.positions.forEach(function(n){o.replaceIds(n,r,["id"])}),n;case rn.ViewportResize:return!1;case rn.MediaInteraction:case rn.MouseInteraction:case rn.Scroll:case rn.CanvasMutation:case rn.Input:return this.replaceIds(n.data,r,["id"]),n;case rn.StyleSheetRule:case rn.StyleDeclaration:return this.replaceIds(n.data,r,["id"]),this.replaceStyleIds(n.data,r,["styleId"]),n;case rn.Font:return n;case rn.Selection:return n.data.ranges.forEach(function(n){o.replaceIds(n,r,["start","end"])}),n;case rn.AdoptedStyleSheet:return this.replaceIds(n.data,r,["id"]),this.replaceStyleIds(n.data,r,["styleIds"]),null===(i=n.data.styles)||void 0===i||i.forEach(function(n){o.replaceStyleIds(n,r,["styleId"])}),n}}return!1}},{key:"replace",value:function(r,n,i,o){var a,c=esm_createForOfIteratorHelper(o);try{for(c.s();!(a=c.n()).done;){var u=a.value;(Array.isArray(n[u])||"number"==typeof n[u])&&(Array.isArray(n[u])?n[u]=r.getIds(i,n[u]):n[u]=r.getId(i,n[u]))}}catch(r){c.e(r)}finally{c.f()}return n}},{key:"replaceIds",value:function(r,n,i){return this.replace(this.crossOriginIframeMirror,r,n,i)}},{key:"replaceStyleIds",value:function(r,n,i){return this.replace(this.crossOriginIframeStyleMirror,r,n,i)}},{key:"replaceIdOnNode",value:function(r,n){var i=this;this.replaceIds(r,n,["id","rootId"]),"childNodes"in r&&r.childNodes.forEach(function(r){i.replaceIdOnNode(r,n)})}},{key:"patchRootIdOnNode",value:function(r,n){var i=this;r.type===et.Document||r.rootId||(r.rootId=n),"childNodes"in r&&r.childNodes.forEach(function(r){i.patchRootIdOnNode(r,n)})}}]),IframeManager}(),rh=function(){function ShadowDomManagerNoop(){(0,ef.Z)(this,ShadowDomManagerNoop)}return(0,ed.Z)(ShadowDomManagerNoop,[{key:"init",value:function(){}},{key:"addShadowRoot",value:function(){}},{key:"observeAttachShadow",value:function(){}},{key:"reset",value:function(){}}]),ShadowDomManagerNoop}(),rv=function(){function ShadowDomManager(r){(0,ef.Z)(this,ShadowDomManager),this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=r.mutationCb,this.scrollCb=r.scrollCb,this.bypassOptions=r.bypassOptions,this.mirror=r.mirror,this.init()}return(0,ed.Z)(ShadowDomManager,[{key:"init",value:function(){this.reset(),this.patchAttachShadow(Element,document)}},{key:"addShadowRoot",value:function(r,n){var i=this;if(isNativeShadowDom(r)&&!this.shadowDoms.has(r)){this.shadowDoms.add(r);var o=initMutationObserver(Object.assign(Object.assign({},this.bypassOptions),{doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),r);this.restoreHandlers.push(function(){return o.disconnect()}),this.restoreHandlers.push(initScrollObserver(Object.assign(Object.assign({},this.bypassOptions),{scrollCb:this.scrollCb,doc:r,mirror:this.mirror}))),setTimeout(function(){r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&i.bypassOptions.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,i.mirror.getId(r.host)),i.restoreHandlers.push(initAdoptedStyleSheetObserver({mirror:i.mirror,stylesheetManager:i.bypassOptions.stylesheetManager},r))},0)}}},{key:"observeAttachShadow",value:function(r){r.contentWindow&&r.contentDocument&&this.patchAttachShadow(r.contentWindow.Element,r.contentDocument)}},{key:"patchAttachShadow",value:function(r,n){var i=this;this.restoreHandlers.push(patch(r.prototype,"attachShadow",function(r){return function(o){var a=r.call(this,o);return this.shadowRoot&&inDom(this)&&i.addShadowRoot(this.shadowRoot,n),a}}))}},{key:"reset",value:function(){this.restoreHandlers.forEach(function(r){try{r()}catch(r){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}]),ShadowDomManager}(),rm=function(){function CanvasManagerNoop(){(0,ef.Z)(this,CanvasManagerNoop)}return(0,ed.Z)(CanvasManagerNoop,[{key:"reset",value:function(){}},{key:"freeze",value:function(){}},{key:"unfreeze",value:function(){}},{key:"lock",value:function(){}},{key:"unlock",value:function(){}}]),CanvasManagerNoop}(),ry=function(){function StylesheetManager(r){(0,ef.Z)(this,StylesheetManager),this.trackedLinkElements=new WeakSet,this.styleMirror=new rt,this.mutationCb=r.mutationCb,this.adoptedStyleSheetCb=r.adoptedStyleSheetCb}return(0,ed.Z)(StylesheetManager,[{key:"attachLinkElement",value:function(r,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(r)}},{key:"trackLinkElement",value:function(r){this.trackedLinkElements.has(r)||(this.trackedLinkElements.add(r),this.trackStylesheetInLinkElement(r))}},{key:"adoptStyleSheets",value:function(r,n){if(0!==r.length){var i,o={id:n,styleIds:[]},a=[],c=esm_createForOfIteratorHelper(r);try{for(c.s();!(i=c.n()).done;){var u=i.value,l=void 0;this.styleMirror.has(u)?l=this.styleMirror.getId(u):(l=this.styleMirror.add(u),a.push({styleId:l,rules:Array.from(u.rules||CSSRule,function(r,n){return{rule:stringifyRule(r),index:n}})})),o.styleIds.push(l)}}catch(r){c.e(r)}finally{c.f()}a.length>0&&(o.styles=a),this.adoptedStyleSheetCb(o)}}},{key:"reset",value:function(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}},{key:"trackStylesheetInLinkElement",value:function(r){}}]),StylesheetManager}(),rg=function(){function ProcessedNodeManager(){(0,ef.Z)(this,ProcessedNodeManager),this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}return(0,ed.Z)(ProcessedNodeManager,[{key:"periodicallyClear",value:function(){var r=this;requestAnimationFrame(function(){r.clear(),r.loop&&r.periodicallyClear()})}},{key:"inOtherBuffer",value:function(r,n){var i=this.nodeMap.get(r);return i&&Array.from(i).some(function(r){return r!==n})}},{key:"add",value:function(r,n){this.nodeMap.set(r,(this.nodeMap.get(r)||new Set).add(n))}},{key:"clear",value:function(){this.nodeMap=new WeakMap}},{key:"destroy",value:function(){this.loop=!1}}]),ProcessedNodeManager}();function wrapEvent(r){return r.timestamp=re(),r}var r_=new tQ;function record(){var r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.emit,o=n.checkoutEveryNms,a=n.checkoutEveryNth,c=n.blockClass,u=void 0===c?"rr-block":c,l=n.blockSelector,p=void 0===l?null:l,S=n.unblockSelector,k=void 0===S?null:S,O=n.ignoreClass,w=void 0===O?"rr-ignore":O,C=n.ignoreSelector,I=void 0===C?null:C,R=n.maskAllText,x=void 0!==R&&R,j=n.maskTextClass,N=void 0===j?"rr-mask":j,W=n.unmaskTextClass,G=void 0===W?null:W,$=n.maskTextSelector,J=void 0===$?null:$,et=n.unmaskTextSelector,er=void 0===et?null:et,en=n.inlineStylesheet,es=void 0===en||en,ec=n.maskAllInputs,eu=n.maskInputOptions,el=n.slimDOMOptions,ef=n.maskAttributeFn,ed=n.maskInputFn,ep=n.maskTextFn,eh=n.packFn,ev=n.sampling,em=void 0===ev?{}:ev,ey=n.dataURLOptions,eg=void 0===ey?{}:ey,e_=n.mousemoveWait,eb=n.recordCanvas,eS=void 0!==eb&&eb,eE=n.recordCrossOriginIframes,ek=void 0!==eE&&eE,eT=n.recordAfter,eO=void 0===eT?"DOMContentLoaded"===n.recordAfter?n.recordAfter:"load":eT,ew=n.userTriggeredOnInput,eC=void 0!==ew&&ew,eI=n.collectFonts,eR=void 0!==eI&&eI,ex=n.inlineImages,eA=void 0!==ex&&ex,eP=n.keepIframeSrcFn,ej=void 0===eP?function(){return!1}:eP,eN=n.ignoreCSSAttributes,eD=void 0===eN?new Set([]):eN,eM=n.errorHandler,eL=n.onMutation,eB=n.getCanvasManager;ei=eM;var eF=!ek||window.parent===window,eU=!1;if(!eF)try{window.parent.document&&(eU=!1)}catch(r){eU=!0}if(eF&&!i)throw Error("emit function is required");void 0!==e_&&void 0===em.mousemove&&(em.mousemove=e_),r_.reset();var eH=!0===ec?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==eu?eu:{},eZ=!0===el||"all"===el?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===el,headMetaDescKeywords:"all"===el}:el||{};!function(){var r=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;"NodeList"in n&&!n.NodeList.prototype.forEach&&(n.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in n&&!n.DOMTokenList.prototype.forEach&&(n.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=i[0];if(!(0 in i))throw TypeError("1 argument is required");do if(r===a)return!0;while(a=a&&a.parentNode);return!1})}();var eq=0,eventProcessor=function(r){return eh&&!eU&&(r=eh(r)),r},wrappedEmit=function(n,c){var u;if((null===(u=rc[0])||void 0===u?void 0:u.isFrozen())&&n.type!==rr.FullSnapshot&&!(n.type===rr.IncrementalSnapshot&&n.data.source===rn.Mutation)&&rc.forEach(function(r){return r.unfreeze()}),eF)null==i||i(eventProcessor(n),c);else if(eU){var l={type:"rrweb",event:eventProcessor(n),origin:window.location.origin,isCheckout:c};window.parent.postMessage(l,"*")}if(n.type===rr.FullSnapshot)r=n,eq=0;else if(n.type===rr.IncrementalSnapshot){if(n.data.source===rn.Mutation&&n.data.isAttachIframe)return;eq++;var p=a&&eq>=a,S=o&&n.timestamp-r.timestamp>o;(p||S)&&takeFullSnapshot(!0)}},wrappedMutationEmit=function(r){wrappedEmit(wrapEvent({type:rr.IncrementalSnapshot,data:Object.assign({source:rn.Mutation},r)}))},wrappedScrollEmit=function(r){return wrappedEmit(wrapEvent({type:rr.IncrementalSnapshot,data:Object.assign({source:rn.Scroll},r)}))},wrappedCanvasMutationEmit=function(r){return wrappedEmit(wrapEvent({type:rr.IncrementalSnapshot,data:Object.assign({source:rn.CanvasMutation},r)}))},ez=new ry({mutationCb:wrappedMutationEmit,adoptedStyleSheetCb:function(r){return wrappedEmit(wrapEvent({type:rr.IncrementalSnapshot,data:Object.assign({source:rn.AdoptedStyleSheet},r)}))}}),eW="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new rd:new rp({mirror:r_,mutationCb:wrappedMutationEmit,stylesheetManager:ez,recordCrossOriginIframes:ek,wrappedEmit:wrappedEmit}),eG=new rg,eK=eB?eB({recordCanvas:eS,blockClass:u,blockSelector:p,unblockSelector:k,sampling:em.canvas,dataURLOptions:eg}):new rm,eV="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new rh:new rv({mutationCb:wrappedMutationEmit,scrollCb:wrappedScrollEmit,bypassOptions:{onMutation:eL,blockClass:u,blockSelector:p,unblockSelector:k,maskAllText:x,maskTextClass:N,unmaskTextClass:G,maskTextSelector:J,unmaskTextSelector:er,inlineStylesheet:es,maskInputOptions:eH,dataURLOptions:eg,maskAttributeFn:ef,maskTextFn:ep,maskInputFn:ed,recordCanvas:eS,inlineImages:eA,sampling:em,slimDOMOptions:eZ,iframeManager:eW,stylesheetManager:ez,canvasManager:eK,keepIframeSrcFn:ej,processedNodeManager:eG},mirror:r_}),takeFullSnapshot=function(){var r,n,i,o,a,c,l,S,O,w,C,I,R,j,W,$,et,en,ei,eo,ec,eu,el,eh,ev,em,ey,e_,eb=arguments.length>0&&void 0!==arguments[0]&&arguments[0];wrappedEmit(wrapEvent({type:rr.Meta,data:{href:window.location.href,width:getWindowWidth(),height:getWindowHeight()}}),eb),ez.reset(),eV.init(),rc.forEach(function(r){return r.lock()});var eE=(r=document,o=void 0===(i=(n={mirror:r_,blockClass:u,blockSelector:p,unblockSelector:k,maskAllText:x,maskTextClass:N,unmaskTextClass:G,maskTextSelector:J,unmaskTextSelector:er,inlineStylesheet:es,maskAllInputs:eH,maskAttributeFn:ef,maskInputFn:ed,maskTextFn:ep,slimDOM:eZ,dataURLOptions:eg,recordCanvas:eS,inlineImages:eA,onSerialize:function(r){isSerializedIframe(r,r_)&&eW.addIframe(r),isSerializedStylesheet(r,r_)&&ez.trackLinkElement(r),hasShadowRoot(r)&&eV.addShadowRoot(r.shadowRoot,document)},onIframeLoad:function(r,n){eW.attachIframe(r,n),eV.observeAttachShadow(r)},onStylesheetLoad:function(r,n){ez.attachLinkElement(r,n)},keepIframeSrcFn:ej}).mirror)?new tQ:i,a=n.blockClass,c=n.blockSelector,l=n.unblockSelector,S=n.maskAllText,O=n.maskTextClass,w=n.unmaskTextClass,C=n.maskTextSelector,I=n.unmaskTextSelector,R=n.inlineStylesheet,j=n.inlineImages,W=n.recordCanvas,et=void 0!==($=n.maskAllInputs)&&$,en=n.maskAttributeFn,ei=n.maskTextFn,eo=n.maskInputFn,eu=void 0!==(ec=n.slimDOM)&&ec,el=n.dataURLOptions,eh=n.preserveWhiteSpace,ev=n.onSerialize,em=n.onIframeLoad,ey=n.iframeLoadTimeout,serializeNodeWithId(r,{doc:r,mirror:o,blockClass:void 0===a?"rr-block":a,blockSelector:void 0===c?null:c,unblockSelector:void 0===l?null:l,maskAllText:void 0!==S&&S,maskTextClass:void 0===O?"rr-mask":O,unmaskTextClass:void 0===w?null:w,maskTextSelector:void 0===C?null:C,unmaskTextSelector:void 0===I?null:I,skipChild:!1,inlineStylesheet:void 0===R||R,maskInputOptions:!0===et?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===et?{}:et,maskAttributeFn:en,maskTextFn:ei,maskInputFn:eo,slimDOMOptions:!0===eu||"all"===eu?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===eu,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===eu?{}:eu,dataURLOptions:el,inlineImages:void 0!==j&&j,recordCanvas:void 0!==W&&W,preserveWhiteSpace:eh,onSerialize:ev,onIframeLoad:em,iframeLoadTimeout:ey,onStylesheetLoad:n.onStylesheetLoad,stylesheetLoadTimeout:n.stylesheetLoadTimeout,keepIframeSrcFn:void 0===(e_=n.keepIframeSrcFn)?function(){return!1}:e_,newlyAddedElement:!1}));if(!eE)return console.warn("Failed to snapshot the document");wrappedEmit(wrapEvent({type:rr.FullSnapshot,data:{node:eE,initialOffset:getWindowScroll(window)}}),eb),rc.forEach(function(r){return r.unlock()}),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&ez.adoptStyleSheets(document.adoptedStyleSheets,r_.getId(document))};eo=takeFullSnapshot;try{var e$=[],observe=function(r){return callbackWrapper(initObservers)({onMutation:eL,mutationCb:wrappedMutationEmit,mousemoveCb:function(r,n){return wrappedEmit(wrapEvent({type:rr.IncrementalSnapshot,data:{source:n,positions:r}}))},mouseInteractionCb:function(r){return wrappedEmit(wrapEvent({type:rr.IncrementalSnapshot,data:Object.assign({source:rn.MouseInteraction},r)}))},scrollCb:wrappedScrollEmit,viewportResizeCb:function(r){return wrappedEmit(wrapEvent({type:rr.IncrementalSnapshot,data:Object.assign({source:rn.ViewportResize},r)}))},inputCb:function(r){return wrappedEmit(wrapEvent({type:rr.IncrementalSnapshot,data:Object.assign({source:rn.Input},r)}))},mediaInteractionCb:function(r){return wrappedEmit(wrapEvent({type:rr.IncrementalSnapshot,data:Object.assign({source:rn.MediaInteraction},r)}))},styleSheetRuleCb:function(r){return wrappedEmit(wrapEvent({type:rr.IncrementalSnapshot,data:Object.assign({source:rn.StyleSheetRule},r)}))},styleDeclarationCb:function(r){return wrappedEmit(wrapEvent({type:rr.IncrementalSnapshot,data:Object.assign({source:rn.StyleDeclaration},r)}))},canvasMutationCb:wrappedCanvasMutationEmit,fontCb:function(r){return wrappedEmit(wrapEvent({type:rr.IncrementalSnapshot,data:Object.assign({source:rn.Font},r)}))},selectionCb:function(r){wrappedEmit(wrapEvent({type:rr.IncrementalSnapshot,data:Object.assign({source:rn.Selection},r)}))},customElementCb:function(r){wrappedEmit(wrapEvent({type:rr.IncrementalSnapshot,data:Object.assign({source:rn.CustomElement},r)}))},blockClass:u,ignoreClass:w,ignoreSelector:I,maskAllText:x,maskTextClass:N,unmaskTextClass:G,maskTextSelector:J,unmaskTextSelector:er,maskInputOptions:eH,inlineStylesheet:es,sampling:em,recordCanvas:eS,inlineImages:eA,userTriggeredOnInput:eC,collectFonts:eR,doc:r,maskAttributeFn:ef,maskInputFn:ed,maskTextFn:ep,keepIframeSrcFn:ej,blockSelector:p,unblockSelector:k,slimDOMOptions:eZ,dataURLOptions:eg,mirror:r_,iframeManager:eW,stylesheetManager:ez,shadowDomManager:eV,processedNodeManager:eG,canvasManager:eK,ignoreCSSAttributes:eD,plugins:[]},{})};eW.addLoadListener(function(r){try{e$.push(observe(r.contentDocument))}catch(r){console.warn(r)}});var init=function(){takeFullSnapshot(),e$.push(observe(document))};return"interactive"===document.readyState||"complete"===document.readyState?init():(e$.push(on("DOMContentLoaded",function(){wrappedEmit(wrapEvent({type:rr.DomContentLoaded,data:{}})),"DOMContentLoaded"===eO&&init()})),e$.push(on("load",function(){wrappedEmit(wrapEvent({type:rr.Load,data:{}})),"load"===eO&&init()},window))),function(){e$.forEach(function(r){return r()}),eG.destroy(),eo=void 0,ei=void 0}}catch(r){console.warn(r)}}function timestampToMs(r){return r>9999999999?r:1e3*r}function timestampToS(r){return r>9999999999?r/1e3:r}function addBreadcrumbEvent(r,n){"sentry.transaction"!==n.category&&(["ui.click","ui.input"].includes(n.category)?r.triggerUserActivity():r.checkAndHandleExpiredSession(),r.addUpdate(function(){return r.throttledAddEvent({type:rr.Custom,timestamp:1e3*(n.timestamp||0),data:{tag:"breadcrumb",payload:normalize(n,10,1e3)}}),"console"===n.category}))}function getClosestInteractive(r){return r.closest("button,a")||r}function getClickTargetNode(r){var n=getTargetNode(r);return n&&n instanceof Element?getClosestInteractive(n):n}function getTargetNode(r){return"object"==typeof r&&r&&"target"in r?r.target:r}record.mirror=r_,record.takeFullSnapshot=function(r){if(!eo)throw Error("please take full snapshot after start recording");eo(r)};var rb=function(){function ClickDetector(r,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:addBreadcrumbEvent;(0,ef.Z)(this,ClickDetector),this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scollTimeout=n.scrollTimeout/1e3,this._replay=r,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=i}return(0,ed.Z)(ClickDetector,[{key:"addListeners",value:function(){var r,n=this,i=(r=function(){n._lastMutation=nowInSeconds()},es||(es=[],fill(t$,"open",function(r){return function(){if(es)try{es.forEach(function(r){return r()})}catch(r){}for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return r.apply(t$,i)}})),es.push(r),function(){var n=es?es.indexOf(r):-1;n>-1&&es.splice(n,1)});this._teardown=function(){i(),n._clicks=[],n._lastMutation=0,n._lastScroll=0}}},{key:"removeListeners",value:function(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}},{key:"handleClick",value:function(r,n){if(i=this._ignoreSelector,!(!rS.includes(n.tagName)||"INPUT"===n.tagName&&!["submit","button"].includes(n.getAttribute("type")||"")||"A"===n.tagName&&(n.hasAttribute("download")||n.hasAttribute("target")&&"_self"!==n.getAttribute("target"))||i&&n.matches(i))&&r.data&&"number"==typeof r.data.nodeId&&r.timestamp){var i,o={timestamp:timestampToS(r.timestamp),clickBreadcrumb:r,clickCount:0,node:n};this._clicks.some(function(r){return r.node===o.node&&1>Math.abs(r.timestamp-o.timestamp)})||(this._clicks.push(o),1===this._clicks.length&&this._scheduleCheckClicks())}}},{key:"registerMutation",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastMutation=timestampToS(r)}},{key:"registerScroll",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastScroll=timestampToS(r)}},{key:"registerClick",value:function(r){var n=getClosestInteractive(r);this._handleMultiClick(n)}},{key:"_handleMultiClick",value:function(r){this._getClicks(r).forEach(function(r){r.clickCount++})}},{key:"_getClicks",value:function(r){return this._clicks.filter(function(n){return n.node===r})}},{key:"_checkClicks",value:function(){var r=this,n=[],i=nowInSeconds();this._clicks.forEach(function(o){!o.mutationAfter&&r._lastMutation&&(o.mutationAfter=o.timestamp<=r._lastMutation?r._lastMutation-o.timestamp:void 0),!o.scrollAfter&&r._lastScroll&&(o.scrollAfter=o.timestamp<=r._lastScroll?r._lastScroll-o.timestamp:void 0),o.timestamp+r._timeout<=i&&n.push(o)});for(var o=0;o<n.length;o++){var a=n[o],c=this._clicks.indexOf(a);c>-1&&(this._generateBreadcrumbs(a),this._clicks.splice(c,1))}this._clicks.length&&this._scheduleCheckClicks()}},{key:"_generateBreadcrumbs",value:function(r){var n=this._replay,i=r.scrollAfter&&r.scrollAfter<=this._scollTimeout,o=r.mutationAfter&&r.mutationAfter<=this._threshold,a=r.clickCount,c=r.clickBreadcrumb;if(!i&&!o){var u=1e3*Math.min(r.mutationAfter||this._timeout,this._timeout),l=u<1e3*this._timeout?"mutation":"timeout",p={type:"default",message:c.message,timestamp:c.timestamp,category:"ui.slowClickDetected",data:esm_objectSpread(esm_objectSpread({},c.data),{},{url:t$.location.href,route:n.getCurrentRoute(),timeAfterClickMs:u,endReason:l,clickCount:a||1})};this._addBreadcrumbEvent(n,p);return}if(a>1){var S={type:"default",message:c.message,timestamp:c.timestamp,category:"ui.multiClick",data:esm_objectSpread(esm_objectSpread({},c.data),{},{url:t$.location.href,route:n.getCurrentRoute(),clickCount:a,metric:!0})};this._addBreadcrumbEvent(n,S)}}},{key:"_scheduleCheckClicks",value:function(){var r=this;this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout(function(){return r._checkClicks()},1e3)}}]),ClickDetector}(),rS=["A","BUTTON","INPUT"];function nowInSeconds(){return Date.now()/1e3}function createBreadcrumb(r){return esm_objectSpread({timestamp:Date.now()/1e3,type:"default"},r)}(O=ec||(ec={}))[O.Document=0]="Document",O[O.DocumentType=1]="DocumentType",O[O.Element=2]="Element",O[O.Text=3]="Text",O[O.CDATA=4]="CDATA",O[O.Comment=5]="Comment";var rE=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled"]);function getBaseDomBreadcrumb(r,n){var i=record.mirror.getId(r),o=i&&record.mirror.getNode(i),a=o&&record.mirror.getMeta(o),c=a&&a.type===ec.Element?a:null;return{message:n,data:c?{nodeId:i,node:{id:i,tagName:c.tagName,textContent:Array.from(c.childNodes).map(function(r){return r.type===ec.Text&&r.textContent}).filter(Boolean).map(function(r){return r.trim()}).join(""),attributes:function(r){var n={};for(var i in r)if(rE.has(i)){var o=i;("data-testid"===i||"data-test-id"===i)&&(o="testId"),n[o]=r[i]}return n}(c.attributes)}}:{}}}var rk={resource:function(r){var n=r.entryType,i=r.initiatorType,o=r.name,a=r.responseEnd,c=r.startTime,u=r.decodedBodySize,l=r.encodedBodySize,p=r.responseStatus,S=r.transferSize;return["fetch","xmlhttprequest"].includes(i)?null:{type:"".concat(n,".").concat(i),start:esm_getAbsoluteTime(c),end:esm_getAbsoluteTime(a),name:o,data:{size:S,statusCode:p,decodedBodySize:u,encodedBodySize:l}}},paint:function(r){var n=r.duration,i=r.entryType,o=r.name,a=esm_getAbsoluteTime(r.startTime);return{type:i,name:o,start:a,end:a+n,data:void 0}},navigation:function(r){var n=r.entryType,i=r.name,o=r.decodedBodySize,a=r.duration,c=r.domComplete,u=r.encodedBodySize,l=r.domContentLoadedEventStart,p=r.domContentLoadedEventEnd,S=r.domInteractive,k=r.loadEventStart,O=r.loadEventEnd,w=r.redirectCount,C=r.startTime,I=r.transferSize,R=r.type;return 0===a?null:{type:"".concat(n,".").concat(R),start:esm_getAbsoluteTime(C),end:esm_getAbsoluteTime(c),name:i,data:{size:I,decodedBodySize:o,encodedBodySize:u,duration:a,domInteractive:S,domContentLoadedEventStart:l,domContentLoadedEventEnd:p,loadEventStart:k,loadEventEnd:O,domComplete:c,redirectCount:w}}}};function createPerformanceEntry(r){return rk[r.entryType]?rk[r.entryType](r):null}function esm_getAbsoluteTime(r){return((em.Z1||t$.performance.timeOrigin)+r)/1e3}var rT=function(r){(0,ez.Z)(EventBufferSizeExceededError,r);var n=esm_createSuper(EventBufferSizeExceededError);function EventBufferSizeExceededError(){return(0,ef.Z)(this,EventBufferSizeExceededError),n.call(this,"Event buffer exceeded maximum size of ".concat(2e7,"."))}return(0,ed.Z)(EventBufferSizeExceededError)}((0,eX.Z)(Error)),rO=function(){var r;function EventBufferArray(){(0,ef.Z)(this,EventBufferArray),this.events=[],this._totalSize=0,this.hasCheckout=!1}return(0,ed.Z)(EventBufferArray,[{key:"hasEvents",get:function(){return this.events.length>0}},{key:"type",get:function(){return"sync"}},{key:"destroy",value:function(){this.events=[]}},{key:"addEvent",value:(r=(0,tK.Z)(e3().mark(function _callee(r){var n;return e3().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(n=JSON.stringify(r).length,this._totalSize+=n,!(this._totalSize>2e7)){i.next=4;break}throw new rT;case 4:this.events.push(r);case 5:case"end":return i.stop()}},_callee,this)})),function(n){return r.apply(this,arguments)})},{key:"finish",value:function(){var r=this;return new Promise(function(n){var i=r.events;r.clear(),n(JSON.stringify(i))})}},{key:"clear",value:function(){this.events=[],this._totalSize=0,this.hasCheckout=!1}},{key:"getEarliestTimestamp",value:function(){var r=this.events.map(function(r){return r.timestamp}).sort()[0];return r?timestampToMs(r):null}}]),EventBufferArray}(),rw=function(){function WorkerHandler(r){(0,ef.Z)(this,WorkerHandler),this._worker=r,this._id=0}return(0,ed.Z)(WorkerHandler,[{key:"ensureReady",value:function(){var r=this;return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise(function(n,i){r._worker.addEventListener("message",function(r){r.data.success?n():i()},{once:!0}),r._worker.addEventListener("error",function(r){i(r)},{once:!0})})),this._ensureReadyPromise}},{key:"destroy",value:function(){this._worker.terminate()}},{key:"postMessage",value:function(r,n){var i=this,o=this._getAndIncrementId();return new Promise(function(a,c){i._worker.addEventListener("message",function listener(n){var u=n.data;if(u.method===r&&u.id===o){if(i._worker.removeEventListener("message",listener),!u.success){c(Error("Error in compression worker"));return}a(u.response)}}),i._worker.postMessage({id:o,method:r,arg:n})})}},{key:"_getAndIncrementId",value:function(){return this._id++}}]),WorkerHandler}(),rC=function(){var r;function EventBufferCompressionWorker(r){(0,ef.Z)(this,EventBufferCompressionWorker),this._worker=new rw(r),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}return(0,ed.Z)(EventBufferCompressionWorker,[{key:"hasEvents",get:function(){return!!this._earliestTimestamp}},{key:"type",get:function(){return"worker"}},{key:"ensureReady",value:function(){return this._worker.ensureReady()}},{key:"destroy",value:function(){this._worker.destroy()}},{key:"addEvent",value:function(r){var n=timestampToMs(r.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);var i=JSON.stringify(r);return(this._totalSize+=i.length,this._totalSize>2e7)?Promise.reject(new rT):this._sendEventToWorker(i)}},{key:"finish",value:function(){return this._finishRequest()}},{key:"clear",value:function(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear")}},{key:"getEarliestTimestamp",value:function(){return this._earliestTimestamp}},{key:"_sendEventToWorker",value:function(r){return this._worker.postMessage("addEvent",r)}},{key:"_finishRequest",value:(r=(0,tK.Z)(e3().mark(function _callee2(){var r;return e3().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this._worker.postMessage("finish");case 2:return r=n.sent,this._earliestTimestamp=null,this._totalSize=0,n.abrupt("return",r);case 6:case"end":return n.stop()}},_callee2,this)})),function(){return r.apply(this,arguments)})}]),EventBufferCompressionWorker}(),rI=function(){var r,n,i;function EventBufferProxy(r){(0,ef.Z)(this,EventBufferProxy),this._fallback=new rO,this._compression=new rC(r),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}return(0,ed.Z)(EventBufferProxy,[{key:"type",get:function(){return this._used.type}},{key:"hasEvents",get:function(){return this._used.hasEvents}},{key:"hasCheckout",get:function(){return this._used.hasCheckout},set:function(r){this._used.hasCheckout=r}},{key:"destroy",value:function(){this._fallback.destroy(),this._compression.destroy()}},{key:"clear",value:function(){return this._used.clear()}},{key:"getEarliestTimestamp",value:function(){return this._used.getEarliestTimestamp()}},{key:"addEvent",value:function(r){return this._used.addEvent(r)}},{key:"finish",value:(r=(0,tK.Z)(e3().mark(function _callee3(){return e3().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.ensureWorkerIsLoaded();case 2:return r.abrupt("return",this._used.finish());case 3:case"end":return r.stop()}},_callee3,this)})),function(){return r.apply(this,arguments)})},{key:"ensureWorkerIsLoaded",value:function(){return this._ensureWorkerIsLoadedPromise}},{key:"_ensureWorkerIsLoaded",value:(n=(0,tK.Z)(e3().mark(function _callee4(){return e3().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,this._compression.ensureReady();case 3:r.next=9;break;case 5:return r.prev=5,r.t0=r.catch(0),r.abrupt("return");case 9:return r.next=11,this._switchToCompressionWorker();case 11:case"end":return r.stop()}},_callee4,this,[[0,5]])})),function(){return n.apply(this,arguments)})},{key:"_switchToCompressionWorker",value:(i=(0,tK.Z)(e3().mark(function _callee5(){var r,n,i,o,a,c,u;return e3().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:n=(r=this._fallback).events,i=r.hasCheckout,o=[],a=esm_createForOfIteratorHelper(n);try{for(a.s();!(c=a.n()).done;)u=c.value,o.push(this._compression.addEvent(u))}catch(r){a.e(r)}finally{a.f()}return this._compression.hasCheckout=i,this._used=this._compression,l.prev=6,l.next=9,Promise.all(o);case 9:l.next=14;break;case 11:l.prev=11,l.t0=l.catch(6);case 14:case"end":return l.stop()}},_callee5,this,[[6,11]])})),function(){return i.apply(this,arguments)})}]),EventBufferProxy}();function hasSessionStorage(){try{return"sessionStorage"in t$&&!!t$.sessionStorage}catch(r){return!1}}function isSampled(r){return void 0!==r&&Math.random()<r}function saveSession(r){if(hasSessionStorage())try{t$.sessionStorage.setItem(tX,JSON.stringify(r))}catch(r){}}function esm_makeSession(r){var n=Date.now();return{id:r.id||misc_uuid4(),started:r.started||n,lastActivity:r.lastActivity||n,segmentId:r.segmentId||0,sampled:r.sampled,previousSessionId:r.previousSessionId}}function createSession(r){var n=r.sessionSampleRate,i=r.allowBuffering,o=r.stickySession,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=a.previousSessionId,u=esm_makeSession({sampled:isSampled(n)?"session":!!i&&"buffer",previousSessionId:c});return void 0!==o&&o&&saveSession(u),u}function isExpired(r,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:+new Date;return null===r||void 0===n||n<0||0!==n&&r+n<=i}function isSessionExpired(r,n){var i=n.maxReplayDuration,o=n.sessionIdleExpire,a=n.targetTime,c=void 0===a?Date.now():a;return isExpired(r.started,i,c)||isExpired(r.lastActivity,o,c)}function shouldRefreshSession(r,n){return!!isSessionExpired(r,{sessionIdleExpire:n.sessionIdleExpire,maxReplayDuration:n.maxReplayDuration})&&("buffer"!==r.sampled||0!==r.segmentId)}function loadOrCreateSession(r,n){var i=r.traceInternals,o=r.sessionIdleExpire,a=r.maxReplayDuration,c=r.previousSessionId,u=n.stickySession&&function(r){if(!hasSessionStorage())return null;try{var n=t$.sessionStorage.getItem(tX);if(!n)return null;var i=JSON.parse(n);return esm_makeSession(i)}catch(r){return null}}(0);return u?shouldRefreshSession(u,{sessionIdleExpire:o,maxReplayDuration:a})?createSession(n,{previousSessionId:u.id}):u:createSession(n,{previousSessionId:c})}function addEventSync(r,n,i){return!!shouldAddEvent(r,n)&&(_addEvent(r,n,i),!0)}function _addEvent(r,n,i){return _addEvent3.apply(this,arguments)}function _addEvent3(){return(_addEvent3=(0,tK.Z)(e3().mark(function _callee11(r,n,i){var o,a,c;return e3().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(r.eventBuffer){u.next=2;break}return u.abrupt("return",null);case 2:if(u.prev=2,i&&"buffer"===r.recordingMode&&r.eventBuffer.clear(),i&&(r.eventBuffer.hasCheckout=!0),o=function(r,n){try{if("function"==typeof n&&r.type===rr.Custom)return n(r)}catch(r){return null}return r}(n,r.getOptions().beforeAddRecordingEvent)){u.next=9;break}return u.abrupt("return");case 9:return u.next=11,r.eventBuffer.addEvent(o);case 11:return u.abrupt("return",u.sent);case 14:return u.prev=14,u.t0=u.catch(2),a=u.t0&&u.t0 instanceof rT?"addEventSizeExceeded":"addEvent",u.next=20,r.stop({reason:a});case 20:(c=hub_getCurrentHub().getClient())&&c.recordDroppedEvent("internal_sdk_error","replay");case 22:case"end":return u.stop()}},_callee11,null,[[2,14]])}))).apply(this,arguments)}function shouldAddEvent(r,n){if(!r.eventBuffer||r.isPaused()||!r.isEnabled())return!1;var i=timestampToMs(n.timestamp);return!(i+r.timeouts.sessionIdlePause<Date.now())&&(!(i>r.getContext().initialTimestamp+r.getOptions().maxReplayDuration)||(r.getOptions()._experiments.traceInternals,!1))}function esm_isTransactionEvent(r){return"transaction"===r.type}function handleAfterSendEvent(r){var n=function(){var r=hub_getCurrentHub().getClient();if(!r)return!1;var n=r.getTransport();return!!n&&(n.send.__sentry__baseTransport__||!1)}();return function(i,o){if(r.isEnabled()&&(!i.type||esm_isTransactionEvent(i))){var a,c=o&&o.statusCode;if(!n||c&&!(c<200)&&!(c>=300)){if(esm_isTransactionEvent(i)){a=r.getContext(),i.contexts&&i.contexts.trace&&i.contexts.trace.trace_id&&a.traceIds.size<100&&a.traceIds.add(i.contexts.trace.trace_id);return}!function(r,n){var i=r.getContext();if(n.event_id&&i.errorIds.size<100&&i.errorIds.add(n.event_id),"buffer"===r.recordingMode&&n.tags&&n.tags.replayId){var o=r.getOptions().beforeErrorSampling;("function"!=typeof o||o(n))&&setTimeout(function(){r.sendBufferedReplayOrFlush()})}}(r,i)}}}}function createPerformanceSpans(r,n){return n.map(function(n){var i=n.type,o=n.start,a=n.end,c=n.name,u=n.data,l=r.throttledAddEvent({type:rr.Custom,timestamp:o,data:{tag:"performanceSpan",payload:{op:i,description:c,startTimestamp:o,endTimestamp:a,data:u}}});return"string"==typeof l?Promise.resolve(null):l})}function addNetworkBreadcrumb(r,n){var i,o,a,c;r.isEnabled()&&null!==n&&(i=n.name,a=(o=hub_getCurrentHub().getClient())&&o.getDsn(),c=o&&o.getOptions().tunnel,!(a&&i.includes(a.host))&&(!c||removeTrailingSlash(i)!==removeTrailingSlash(c))&&r.addUpdate(function(){return createPerformanceSpans(r,[n]),!0}))}function getBodySize(r,n){if(r)try{if("string"==typeof r)return n.encode(r).length;if(r instanceof URLSearchParams)return n.encode(r.toString()).length;if(r instanceof FormData){var i=_serializeFormData(r);return n.encode(i).length}if(r instanceof Blob)return r.size;if(r instanceof ArrayBuffer)return r.byteLength}catch(r){}}function parseContentLengthHeader(r){if(r){var n=parseInt(r,10);return isNaN(n)?void 0:n}}function getBodyString(r){return"string"==typeof r?r:r instanceof URLSearchParams?r.toString():r instanceof FormData?_serializeFormData(r):void 0}function makeNetworkReplayBreadcrumb(r,n){return n?{type:r,start:n.startTimestamp/1e3,end:n.endTimestamp/1e3,name:n.url,data:dropUndefinedKeys({method:n.method,statusCode:n.statusCode,request:n.request,response:n.response})}:null}function buildSkippedNetworkRequestOrResponse(r){return{headers:{},size:r,_meta:{warnings:["URL_SKIPPED"]}}}function buildNetworkRequestOrResponse(r,n,i){if(n||0!==Object.keys(r).length){if(!n)return{headers:r};if(!i)return{headers:r,size:n};var o={headers:r,size:n},a=function(r){if(!r||"string"!=typeof r)return{body:r};var n,i,o=r.length>15e4,a=(n=r[0],i=r[r.length-1],"["===n&&"]"===i||"{"===n&&"}"===i);if(o){var c=r.slice(0,15e4);return a?{body:c,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:"".concat(c,"…"),warnings:["TEXT_TRUNCATED"]}}if(a)try{return{body:JSON.parse(r)}}catch(r){}return{body:r}}(i),c=a.body,u=a.warnings;return o.body=c,u&&u.length>0&&(o._meta={warnings:u}),o}}function getAllowedHeaders(r,n){return Object.keys(r).reduce(function(i,o){var a=o.toLowerCase();return n.includes(a)&&r[o]&&(i[a]=r[o]),i},{})}function _serializeFormData(r){return new URLSearchParams(r).toString()}function getFullUrl(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t$.document.baseURI;if(r.startsWith("http://")||r.startsWith("https://")||r.startsWith(t$.location.origin))return r;var i=new URL(r,n);if(i.origin!==new URL(n).origin)return r;var o=i.href;return!r.endsWith("/")&&o.endsWith("/")?o.slice(0,-1):o}function _captureFetchBreadcrumbToReplay(){return(_captureFetchBreadcrumbToReplay=(0,tK.Z)(e3().mark(function _callee12(r,n,i){var o;return e3().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,function(r,n,i){return _prepareFetchData2.apply(this,arguments)}(r,n,i);case 3:o=makeNetworkReplayBreadcrumb("resource.fetch",a.sent),addNetworkBreadcrumb(i.replay,o),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0);case 11:case"end":return a.stop()}},_callee12,null,[[0,8]])}))).apply(this,arguments)}function _prepareFetchData2(){return(_prepareFetchData2=(0,tK.Z)(e3().mark(function _callee13(r,n,i){var o,a,c,u,l,p,S,k,O,w,C,I;return e3().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:var x,j,N,W;return o=n.startTimestamp,a=n.endTimestamp,u=(c=r.data).url,l=c.method,S=void 0===(p=c.status_code)?0:p,k=c.request_body_size,O=c.response_body_size,x=u,j=i.networkDetailAllowUrls,C=(w=stringMatchesSomePattern(getFullUrl(x),j)&&(N=u,W=i.networkDetailDenyUrls,!stringMatchesSomePattern(getFullUrl(N),W)))?function(r,n,i){var o,a=r.networkCaptureBodies,c=(o=r.networkRequestHeaders,1===n.length&&"string"!=typeof n[0]?getHeadersFromOptions(n[0],o):2===n.length?getHeadersFromOptions(n[1],o):{});return a?buildNetworkRequestOrResponse(c,i,getBodyString(_getFetchRequestArgBody(n))):buildNetworkRequestOrResponse(c,i,void 0)}(i,n.input,k):buildSkippedNetworkRequestOrResponse(k),R.next=6,function(r,n,i,o){return _getResponseInfo2.apply(this,arguments)}(w,i,n.response,O);case 6:return I=R.sent,R.abrupt("return",{startTimestamp:o,endTimestamp:a,url:u,method:l,statusCode:S,request:C,response:I});case 8:case"end":return R.stop()}},_callee13)}))).apply(this,arguments)}function _getResponseInfo2(){return(_getResponseInfo2=(0,tK.Z)(e3().mark(function _callee14(r,n,i,o){var a,c,u,l,p,S,k;return e3().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(a=n.networkCaptureBodies,c=n.textEncoder,u=n.networkResponseHeaders,!(!r&&void 0!==o)){O.next=3;break}return O.abrupt("return",buildSkippedNetworkRequestOrResponse(o));case 3:if(l=getAllHeaders(i.headers,u),!(!a&&void 0!==o)){O.next=6;break}return O.abrupt("return",buildNetworkRequestOrResponse(l,o,void 0));case 6:return O.prev=6,p=i.clone(),O.next=10,function(r){return _parseFetchBody2.apply(this,arguments)}(p);case 10:if(k=(S=O.sent)&&S.length&&void 0===o?getBodySize(S,c):o,r){O.next=14;break}return O.abrupt("return",buildSkippedNetworkRequestOrResponse(k));case 14:if(!a){O.next=16;break}return O.abrupt("return",buildNetworkRequestOrResponse(l,k,S));case 16:return O.abrupt("return",buildNetworkRequestOrResponse(l,k,void 0));case 19:return O.prev=19,O.t0=O.catch(6),O.abrupt("return",buildNetworkRequestOrResponse(l,o,void 0));case 22:case"end":return O.stop()}},_callee14,null,[[6,19]])}))).apply(this,arguments)}function _parseFetchBody2(){return(_parseFetchBody2=(0,tK.Z)(e3().mark(function _callee15(r){return e3().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.text();case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),n.abrupt("return",void 0);case 9:case"end":return n.stop()}},_callee15,null,[[0,6]])}))).apply(this,arguments)}function _getFetchRequestArgBody(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(2===r.length&&"object"==typeof r[1])return r[1].body}function getAllHeaders(r,n){var i={};return n.forEach(function(n){r.get(n)&&(i[n]=r.get(n))}),i}function getHeadersFromOptions(r,n){if(!r)return{};var i=r.headers;return i?i instanceof Headers?getAllHeaders(i,n):Array.isArray(i)?{}:getAllowedHeaders(i,n):{}}function _captureXhrBreadcrumbToReplay(){return(_captureXhrBreadcrumbToReplay=(0,tK.Z)(e3().mark(function _callee16(r,n,i){var o,a;return e3().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:try{o=function(r,n,i){var o,a,c=n.startTimestamp,u=n.endTimestamp,l=n.input,p=n.xhr,S=r.data,k=S.url,O=S.method,w=S.status_code,C=void 0===w?0:w,I=S.request_body_size,R=S.response_body_size;if(!k)return null;if(o=i.networkDetailAllowUrls,!stringMatchesSomePattern(getFullUrl(k),o)||(a=i.networkDetailDenyUrls,stringMatchesSomePattern(getFullUrl(k),a)))return{startTimestamp:c,endTimestamp:u,url:k,method:O,statusCode:C,request:buildSkippedNetworkRequestOrResponse(I),response:buildSkippedNetworkRequestOrResponse(R)};var x=p[eB],j=x?getAllowedHeaders(x.request_headers,i.networkRequestHeaders):{},N=getAllowedHeaders(function(r){var n=r.getAllResponseHeaders();return n?n.split("\r\n").reduce(function(r,n){var i=n.split(": "),o=(0,ex.Z)(i,2),a=o[0],c=o[1];return r[a.toLowerCase()]=c,r},{}):{}}(p),i.networkResponseHeaders);return{startTimestamp:c,endTimestamp:u,url:k,method:O,statusCode:C,request:buildNetworkRequestOrResponse(j,I,i.networkCaptureBodies?getBodyString(l):void 0),response:buildNetworkRequestOrResponse(N,R,i.networkCaptureBodies?n.xhr.responseText:void 0)}}(r,n,i),a=makeNetworkReplayBreadcrumb("resource.xhr",o),addNetworkBreadcrumb(i.replay,a)}catch(r){}case 1:case"end":return c.stop()}},_callee16)}))).apply(this,arguments)}var rR=null;function _addMemoryEntry(){return(_addMemoryEntry=(0,tK.Z)(e3().mark(function _callee17(r){return e3().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.abrupt("return",Promise.all(createPerformanceSpans(r,[function(r){var n=r.jsHeapSizeLimit,i=r.totalJSHeapSize,o=r.usedJSHeapSize,a=Date.now()/1e3;return{type:"memory",name:"memory",start:a,end:a,data:{memory:{jsHeapSizeLimit:n,totalJSHeapSize:i,usedJSHeapSize:o}}}}(t$.performance.memory)])));case 4:return n.prev=4,n.t0=n.catch(0),n.abrupt("return",[]);case 7:case"end":return n.stop()}},_callee17,null,[[0,4]])}))).apply(this,arguments)}function _prepareReplayEvent(){return(_prepareReplayEvent=(0,tK.Z)(e3().mark(function _callee18(r){var n,i,o,a,c,u,l,p,S,k;return e3().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return n=r.client,i=r.scope,o=r.replayId,a=r.event,c={event_id:o,integrations:"object"!=typeof n._integrations||null===n._integrations||Array.isArray(n._integrations)?void 0:Object.keys(n._integrations)},n.emit&&n.emit("preprocessEvent",a,c),O.next=6,prepareEvent(n.getOptions(),a,c,i,n);case 6:if(u=O.sent){O.next=9;break}return O.abrupt("return",null);case 9:return u.platform=u.platform||"javascript",S=(p=(l=n.getSdkMetadata&&n.getSdkMetadata())&&l.sdk||{}).name,k=p.version,u.sdk=esm_objectSpread(esm_objectSpread({},u.sdk),{},{name:S||"sentry.javascript.unknown",version:k||"0.0.0"}),O.abrupt("return",u);case 14:case"end":return O.stop()}},_callee18)}))).apply(this,arguments)}function _sendReplayRequest(){return(_sendReplayRequest=(0,tK.Z)(e3().mark(function _callee19(r){var n,i,o,a,c,u,l,p,S,k,O,w,C,I,R,x,j,N,W,G,$,J;return e3().wrap(function(et){for(;;)switch(et.prev=et.next){case 0:if(n=r.recordingData,i=r.replayId,o=r.segmentId,a=r.eventContext,c=r.timestamp,u=r.session,l=function(r){var n,i=r.recordingData,o=r.headers,a="".concat(JSON.stringify(o),"\n");if("string"==typeof i)n="".concat(a).concat(i);else{var c=new TextEncoder().encode(a);(n=new Uint8Array(c.length+i.length)).set(c),n.set(i,c.length)}return n}({recordingData:n,headers:{segment_id:o}}),p=a.urls,S=a.errorIds,k=a.traceIds,O=a.initialTimestamp,C=(w=hub_getCurrentHub()).getClient(),I=w.getScope(),R=C&&C.getTransport(),x=C&&C.getDsn(),!(!C||!R||!x||!u.sampled)){et.next=10;break}return et.abrupt("return");case 10:return j={type:"replay_event",replay_start_timestamp:O/1e3,timestamp:c/1e3,error_ids:S,trace_ids:k,urls:p,replay_id:i,segment_id:o,replay_type:u.sampled},et.next=13,function(r){return _prepareReplayEvent.apply(this,arguments)}({scope:I,client:C,replayId:i,event:j});case 13:if(N=et.sent){et.next=18;break}return C.recordDroppedEvent("event_processor","replay",j),et.abrupt("return");case 18:var er,en,ei,eo;return delete N.sdkProcessingMetadata,er=N,en=l,ei=x,eo=C.getOptions().tunnel,W=createEnvelope(createEventEnvelopeHeaders(er,getSdkMetadataForEnvelopeHeader(er),eo,ei),[[{type:"replay_event"},er],[{type:"replay_recording",length:"string"==typeof en?new TextEncoder().encode(en).length:en.length},en]]),et.prev=20,et.next=23,R.send(W);case 23:G=et.sent,et.next=31;break;case 26:et.prev=26,et.t0=et.catch(20),$=Error(tY);try{$.cause=et.t0}catch(r){}throw $;case 31:if(G){et.next=33;break}return et.abrupt("return",G);case 33:if(!("number"==typeof G.statusCode&&(G.statusCode<200||G.statusCode>=300))){et.next=35;break}throw new rx(G.statusCode);case 35:if(!isRateLimited(J=updateRateLimits({},G),"replay")){et.next=38;break}throw new rA(J);case 38:return et.abrupt("return",G);case 39:case"end":return et.stop()}},_callee19,null,[[20,26]])}))).apply(this,arguments)}var rx=function(r){(0,ez.Z)(TransportStatusCodeError,r);var n=esm_createSuper(TransportStatusCodeError);function TransportStatusCodeError(r){return(0,ef.Z)(this,TransportStatusCodeError),n.call(this,"Transport returned status code ".concat(r))}return(0,ed.Z)(TransportStatusCodeError)}((0,eX.Z)(Error)),rA=function(r){(0,ez.Z)(RateLimitError,r);var n=esm_createSuper(RateLimitError);function RateLimitError(r){var i;return(0,ef.Z)(this,RateLimitError),(i=n.call(this,"Rate limit hit")).rateLimits=r,i}return(0,ed.Z)(RateLimitError)}((0,eX.Z)(Error));function sendReplay(r){return _sendReplay.apply(this,arguments)}function _sendReplay(){return(_sendReplay=(0,tK.Z)(e3().mark(function _callee21(r){var n,i,o,a=arguments;return e3().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:{count:0,interval:5e3},i=r.recordingData,r.options,i.length){c.next=4;break}return c.abrupt("return");case 4:return c.prev=4,c.next=7,function(r){return _sendReplayRequest.apply(this,arguments)}(r);case 7:return c.abrupt("return",!0);case 10:if(c.prev=10,c.t0=c.catch(4),!(c.t0 instanceof rx||c.t0 instanceof rA)){c.next=14;break}throw c.t0;case 14:var u;if(u={_retryCount:n.count},hub_getCurrentHub().setContext("Replays",u),!(n.count>=3)){c.next=20;break}o=Error("".concat(tY," - max retries exceeded"));try{o.cause=c.t0}catch(r){}throw o;case 20:return n.interval*=++n.count,c.abrupt("return",new Promise(function(i,o){setTimeout((0,tK.Z)(e3().mark(function _callee20(){return e3().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,sendReplay(r,n);case 3:i(!0),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),o(a.t0);case 9:case"end":return a.stop()}},_callee20,null,[[0,6]])})),n.interval)}));case 22:case"end":return c.stop()}},_callee21,null,[[4,10]])}))).apply(this,arguments)}var rP="__THROTTLED",rj=function(){var r,n,i,o;function ReplayContainer(r){var n,i,o,a,c=this,u=r.options,l=r.recordingOptions;(0,ef.Z)(this,ReplayContainer),ReplayContainer.prototype.__init.call(this),ReplayContainer.prototype.__init2.call(this),ReplayContainer.prototype.__init3.call(this),ReplayContainer.prototype.__init4.call(this),ReplayContainer.prototype.__init5.call(this),ReplayContainer.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=l,this._options=u,this._debouncedFlush=function(r,n,i){var o,a,c,u=i&&i.maxWait?Math.max(i.maxWait,n):0;function invokeFunc(){return cancelTimers(),o=r()}function cancelTimers(){void 0!==a&&clearTimeout(a),void 0!==c&&clearTimeout(c),a=c=void 0}function debounced(){return a&&clearTimeout(a),a=setTimeout(invokeFunc,n),u&&void 0===c&&(c=setTimeout(invokeFunc,u)),o}return debounced.cancel=cancelTimers,debounced.flush=function(){return void 0!==a||void 0!==c?invokeFunc():o},debounced}(function(){return c._flush()},this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=(n=function(r,n){return shouldAddEvent(c,r)?_addEvent(c,r,n):Promise.resolve(null)},i=new Map,o=function(r){var n=r-5;i.forEach(function(r,o){o<n&&i.delete(o)})},a=!1,function(){var r=Math.floor(Date.now()/1e3);if(o(r),(0,eu.Z)(i.values()).reduce(function(r,n){return r+n},0)>=300){var c=a;return a=!0,c?"__SKIPPED":rP}a=!1;var u=i.get(r)||0;return i.set(r,u+1),n.apply(void 0,arguments)});var p=this.getOptions(),S=p.slowClickTimeout,k=p.slowClickIgnoreSelectors,O=S?{threshold:Math.min(3e3,S),timeout:S,scrollTimeout:300,ignoreSelector:k?k.join(","):""}:void 0;O&&(this.clickDetector=new rb(this,O))}return(0,ed.Z)(ReplayContainer,[{key:"getContext",value:function(){return this._context}},{key:"isEnabled",value:function(){return this._isEnabled}},{key:"isPaused",value:function(){return this._isPaused}},{key:"getOptions",value:function(){return this._options}},{key:"initializeSampling",value:function(r){var n=this._options,i=n.errorSampleRate,o=n.sessionSampleRate;if(!(i<=0)||!(o<=0)){if(this._initializeSessionForSampling(r),!this.session){this._handleException(Error("Unable to initialize and create session"));return}!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",this.recordingMode,this._options._experiments.traceInternals,this._initializeRecording())}}},{key:"start",value:function(){if(this._isEnabled&&"session"===this.recordingMode)throw Error("Replay recording is already in progress");if(this._isEnabled&&"buffer"===this.recordingMode)throw Error("Replay buffering is in progress, call `flush()` to save the replay");this._options._experiments.traceInternals;var r=loadOrCreateSession({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=r,this._initializeRecording()}},{key:"startBuffering",value:function(){if(this._isEnabled)throw Error("Replay recording is already in progress");this._options._experiments.traceInternals;var r=loadOrCreateSession({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=r,this.recordingMode="buffer",this._initializeRecording()}},{key:"startRecording",value:function(){try{var r,n;this._stopRecording=record(esm_objectSpread(esm_objectSpread(esm_objectSpread({},this._recordingOptions),"buffer"===this.recordingMode&&{checkoutEveryNms:6e4}),{},{emit:(r=this,n=!1,function(i,o){if(r.checkAndHandleExpiredSession()){var a=o||!n;n=!0,r.clickDetector&&function(r,n){try{if(3!==n.type)return;var i=n.data.source;if(i===rn.Mutation&&r.registerMutation(n.timestamp),i===rn.Scroll&&r.registerScroll(n.timestamp),n.data.source===rn.MouseInteraction){var o=n.data,a=o.type,c=o.id,u=record.mirror.getNode(c);u instanceof HTMLElement&&a===ri.Click&&r.registerClick(u)}}catch(r){}}(r.clickDetector,i),r.addUpdate(function(){if("buffer"===r.recordingMode&&a&&r.setInitialState(),!addEventSync(r,i,a))return!0;if(!a)return!1;if(n=r,a&&n.session&&0===n.session.segmentId&&addEventSync(n,(o=n.getOptions(),{type:rr.Custom,timestamp:Date.now(),data:{tag:"options",payload:{sessionSampleRate:o.sessionSampleRate,errorSampleRate:o.errorSampleRate,useCompressionOption:o.useCompression,blockAllMedia:o.blockAllMedia,maskAllText:o.maskAllText,maskAllInputs:o.maskAllInputs,useCompression:!!n.eventBuffer&&"worker"===n.eventBuffer.type,networkDetailHasUrls:o.networkDetailAllowUrls.length>0,networkCaptureBodies:o.networkCaptureBodies,networkRequestHasHeaders:o.networkRequestHeaders.length>0,networkResponseHasHeaders:o.networkResponseHeaders.length>0}}}),!1),r.session&&r.session.previousSessionId)return!0;if("buffer"===r.recordingMode&&r.session&&r.eventBuffer){var n,o,c=r.eventBuffer.getEarliestTimestamp();c&&(r.getOptions()._experiments.traceInternals,r.session.started=c,r.getOptions().stickySession&&saveSession(r.session))}return"session"===r.recordingMode&&r.flush(),!0})}}),onMutation:this._onMutationHandler}))}catch(r){this._handleException(r)}}},{key:"stopRecording",value:function(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(r){return this._handleException(r),!1}}},{key:"stop",value:(r=(0,tK.Z)(e3().mark(function _callee6(){var r,n,i,o,a=arguments;return e3().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(i=void 0!==(n=(r=a.length>0&&void 0!==a[0]?a[0]:{}).forceFlush)&&n,r.reason,this._isEnabled){o.next=3;break}return o.abrupt("return");case 3:if(this._isEnabled=!1,o.prev=4,this._options._experiments.traceInternals,this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),!i){o.next=12;break}return o.next=12,this._flush({force:!0});case 12:this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,function(){if(hasSessionStorage())try{t$.sessionStorage.removeItem(tX)}catch(r){}}(),this.session=void 0,o.next=20;break;case 17:o.prev=17,o.t0=o.catch(4),this._handleException(o.t0);case 20:case"end":return o.stop()}},_callee6,this,[[4,17]])})),function(){return r.apply(this,arguments)})},{key:"pause",value:function(){this._isPaused||(this._isPaused=!0,this.stopRecording(),this._options._experiments.traceInternals)}},{key:"resume",value:function(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),this._options._experiments.traceInternals)}},{key:"sendBufferedReplayOrFlush",value:(n=(0,tK.Z)(e3().mark(function _callee7(){var r,n,i,o,a=arguments;return e3().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(n=void 0===(r=(a.length>0&&void 0!==a[0]?a[0]:{}).continueRecording)||r,"session"!==this.recordingMode){c.next=3;break}return c.abrupt("return",this.flushImmediate());case 3:return i=Date.now(),this._options._experiments.traceInternals,c.next=7,this.flushImmediate();case 7:if(o=this.stopRecording(),!(!n||!o)){c.next=10;break}return c.abrupt("return");case 10:if("session"!==this.recordingMode){c.next=12;break}return c.abrupt("return");case 12:this.recordingMode="session",this.session&&(this._updateUserActivity(i),this._updateSessionActivity(i),this._maybeSaveSession()),this.startRecording();case 15:case"end":return c.stop()}},_callee7,this)})),function(){return n.apply(this,arguments)})},{key:"addUpdate",value:function(r){var n=r();"buffer"!==this.recordingMode&&!0!==n&&this._debouncedFlush()}},{key:"triggerUserActivity",value:function(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}},{key:"updateUserActivity",value:function(){this._updateUserActivity(),this._updateSessionActivity()}},{key:"conditionalFlush",value:function(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}},{key:"flush",value:function(){return this._debouncedFlush()}},{key:"flushImmediate",value:function(){return this._debouncedFlush(),this._debouncedFlush.flush()}},{key:"cancelFlush",value:function(){this._debouncedFlush.cancel()}},{key:"getSessionId",value:function(){return this.session&&this.session.id}},{key:"checkAndHandleExpiredSession",value:function(){if(this._lastActivity&&isExpired(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled){this.pause();return}return!!this._checkSession()}},{key:"setInitialState",value:function(){var r="".concat(t$.location.pathname).concat(t$.location.hash).concat(t$.location.search),n="".concat(t$.location.origin).concat(r);this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}},{key:"throttledAddEvent",value:function(r,n){var i=this,o=this._throttledAddEvent(r,n);if(o===rP){var a=createBreadcrumb({category:"replay.throttled"});this.addUpdate(function(){return!addEventSync(i,{type:5,timestamp:a.timestamp||0,data:{tag:"breadcrumb",payload:a,metric:!0}})})}return o}},{key:"getCurrentRoute",value:function(){var r=this.lastTransaction||hub_getCurrentHub().getScope().getTransaction();if(r&&["route","custom"].includes(r.metadata.source))return r.name}},{key:"_initializeRecording",value:function(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=function(r){var n=r.useCompression,i=r.workerUrl;if(n&&window.Worker){var o=function(r){try{var n=r||function(){if("undefined"==typeof __SENTRY_EXCLUDE_REPLAY_WORKER__||!__SENTRY_EXCLUDE_REPLAY_WORKER__){var r;return r=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});']),URL.createObjectURL(r)}return""}();if(!n)return;var i=new Worker(n);return new rI(i)}catch(r){}}(i);if(o)return o}return new rO}({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}},{key:"_handleException",value:function(r){}},{key:"_initializeSessionForSampling",value:function(r){var n=this._options.errorSampleRate>0,i=loadOrCreateSession({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:r},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=i}},{key:"_checkSession",value:function(){if(!this.session)return!1;var r=this.session;return!shouldRefreshSession(r,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(r),!1)}},{key:"_refreshSession",value:(i=(0,tK.Z)(e3().mark(function _callee8(r){return e3().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this._isEnabled){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,this.stop({reason:"refresh session"});case 4:this.initializeSampling(r.id);case 5:case"end":return n.stop()}},_callee8,this)})),function(r){return i.apply(this,arguments)})},{key:"_addListeners",value:function(){try{if(t$.document.addEventListener("visibilitychange",this._handleVisibilityChange),t$.addEventListener("blur",this._handleWindowBlur),t$.addEventListener("focus",this._handleWindowFocus),t$.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),!this._hasInitializedCoreListeners){var r,n,i,o;r=this,n=hub_getCurrentHub().getScope(),i=hub_getCurrentHub().getClient(),n.addScopeListener(function(n){if(r.isEnabled()){var i,o=(i=n.getLastBreadcrumb&&n.getLastBreadcrumb(),rR!==i&&i?(rR=i,!i.category||["fetch","xhr","sentry.event","sentry.transaction"].includes(i.category)||i.category.startsWith("ui."))?null:"console"===i.category?function(r){var n=r.data&&r.data.arguments;if(!Array.isArray(n)||0===n.length)return createBreadcrumb(r);var i=!1,o=n.map(function(r){if(!r)return r;if("string"==typeof r)return r.length>5e3?(i=!0,"".concat(r.slice(0,5e3),"…")):r;if("object"==typeof r)try{var n=normalize(r,7);if(JSON.stringify(n).length>5e3)return i=!0,"".concat(JSON.stringify(n,null,2).slice(0,5e3),"…");return n}catch(r){}return r});return createBreadcrumb(esm_objectSpread(esm_objectSpread({},r),{},{data:esm_objectSpread(esm_objectSpread({},r.data),{},{arguments:o},i?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{})}))}(i):createBreadcrumb(i):null);o&&addBreadcrumbEvent(r,o)}}),addInstrumentationHandler("dom",function(n){if(r.isEnabled()){var i,o,a,c=(o=(i=function(r){var n,i="click"===r.name,o=null;try{o=i?getClickTargetNode(r.event):getTargetNode(r.event),n=htmlTreeAsString(o,{maxStringLength:200})||"<unknown>"}catch(r){n="<unknown>"}return{target:o,message:n}}(n)).target,a=i.message,createBreadcrumb(esm_objectSpread({category:"ui.".concat(n.name)},getBaseDomBreadcrumb(o,a))));if(c){var u="click"===n.name,l=u&&n.event;!u||!r.clickDetector||!l||l.altKey||l.metaKey||l.ctrlKey||l.shiftKey||function(r,n,i){r.handleClick(n,i)}(r.clickDetector,c,getClickTargetNode(n.event)),addBreadcrumbEvent(r,c)}}}),addInstrumentationHandler("history",function(n){if(r.isEnabled()){var i,o,a,c=(i=n.from,o=n.to,{type:"navigation.push",start:a=Date.now()/1e3,end:a,name:o,data:{previous:i}});null!==c&&(r.getContext().urls.push(c.name),r.triggerUserActivity(),r.addUpdate(function(){return createPerformanceSpans(r,[c]),!1}))}}),function(r){var n=hub_getCurrentHub().getClient();try{var i=new TextEncoder,o=r.getOptions(),a=o.networkDetailAllowUrls,c=o.networkDetailDenyUrls,u=o.networkCaptureBodies,l=o.networkRequestHeaders,p=o.networkResponseHeaders,S={replay:r,textEncoder:i,networkDetailAllowUrls:a,networkDetailDenyUrls:c,networkCaptureBodies:u,networkRequestHeaders:l,networkResponseHeaders:p};n&&n.on?n.on("beforeAddBreadcrumb",function(r,n){return function(r,n,i){if(n.data)try{var o,a,c,u,l,p,S,k,O;"xhr"===n.category&&(k=i)&&k.xhr&&(o=i.xhr,a=getBodySize(i.input,r.textEncoder),c=o.getResponseHeader("content-length")?parseContentLengthHeader(o.getResponseHeader("content-length")):getBodySize(o.response,r.textEncoder),void 0!==a&&(n.data.request_body_size=a),void 0!==c&&(n.data.response_body_size=c),function(r,n,i){_captureXhrBreadcrumbToReplay.apply(this,arguments)}(n,i,r)),"fetch"===n.category&&(O=i)&&O.response&&(u=i.input,l=i.response,p=getBodySize(_getFetchRequestArgBody(u),r.textEncoder),S=l?parseContentLengthHeader(l.headers.get("content-length")):void 0,void 0!==p&&(n.data.request_body_size=p),void 0!==S&&(n.data.response_body_size=S),function(r,n,i){_captureFetchBreadcrumbToReplay.apply(this,arguments)}(n,i,r))}catch(r){}}(S,r,n)}):(addInstrumentationHandler("fetch",function(n){r.isEnabled()&&addNetworkBreadcrumb(r,function(r){var n=r.startTimestamp,i=r.endTimestamp,o=r.fetchData,a=r.response;if(!i)return null;var c=o.method;return{type:"resource.fetch",start:n/1e3,end:i/1e3,name:o.url,data:{method:c,statusCode:a?a.status:void 0}}}(n))}),addInstrumentationHandler("xhr",function(n){r.isEnabled()&&addNetworkBreadcrumb(r,function(r){var n=r.startTimestamp,i=r.endTimestamp,o=r.xhr[eB];if(!n||!i||!o)return null;var a=o.method,c=o.url,u=o.status_code;return void 0===c?null:{type:"resource.xhr",name:c,start:n/1e3,end:i/1e3,data:{method:a,statusCode:u}}}(n))}))}catch(r){}}(r),o=function(r){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=n?handleAfterSendEvent(r):void 0;return Object.assign(function(n,o){return r.isEnabled()?"replay_event"===n.type?(delete n.breadcrumbs,n):(!n.type||esm_isTransactionEvent(n))&&r.checkAndHandleExpiredSession()?!n.type&&n.exception&&n.exception.values&&n.exception.values.length&&o.originalException&&o.originalException.__rrweb__&&!r.getOptions()._experiments.captureExceptions?null:(("buffer"===r.recordingMode&&n.message!==tY&&n.exception&&!n.type&&isSampled(r.getOptions().errorSampleRate)||"session"===r.recordingMode)&&(n.tags=esm_objectSpread(esm_objectSpread({},n.tags),{},{replayId:r.getSessionId()})),i&&i(n,{statusCode:200}),n):n:n},{id:"Replay"})}(r,!(i&&i.on)),i&&i.addEventProcessor?i.addEventProcessor(o):addGlobalEventProcessor(o),i&&i.on&&(i.on("afterSendEvent",handleAfterSendEvent(r)),i.on("createDsc",function(n){var i=r.getSessionId();i&&r.isEnabled()&&"session"===r.recordingMode&&r.checkAndHandleExpiredSession()&&(n.replay_id=i)}),i.on("startTransaction",function(n){r.lastTransaction=n}),i.on("finishTransaction",function(n){r.lastTransaction=n})),this._hasInitializedCoreListeners=!0}}catch(r){this._handleException(r)}this._performanceCleanupCallback=function(r){function addPerformanceEntry(n){r.performanceEntries.includes(n)||r.performanceEntries.push(n)}function onEntries(r){r.entries.forEach(addPerformanceEntry)}var n=[];return["navigation","paint","resource"].forEach(function(r){n.push(addPerformanceInstrumentationHandler(r,onEntries))}),n.push(addLcpInstrumentationHandler(function(n){var i,o,a,c,u,l=n.metric;r.replayPerformanceEntries.push((a=(o=(i=l.entries)[i.length-1])?o.element:void 0,{type:"largest-contentful-paint",name:"largest-contentful-paint",start:u=esm_getAbsoluteTime(c=l.value),end:u,data:{value:c,size:c,nodeId:a?record.mirror.getId(a):void 0}}))})),function(){n.forEach(function(r){return r()})}}(this)}},{key:"_removeListeners",value:function(){try{t$.document.removeEventListener("visibilitychange",this._handleVisibilityChange),t$.removeEventListener("blur",this._handleWindowBlur),t$.removeEventListener("focus",this._handleWindowFocus),t$.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(r){this._handleException(r)}}},{key:"__init",value:function(){var r=this;this._handleVisibilityChange=function(){"visible"===t$.document.visibilityState?r._doChangeToForegroundTasks():r._doChangeToBackgroundTasks()}}},{key:"__init2",value:function(){var r=this;this._handleWindowBlur=function(){var n=createBreadcrumb({category:"ui.blur"});r._doChangeToBackgroundTasks(n)}}},{key:"__init3",value:function(){var r=this;this._handleWindowFocus=function(){var n=createBreadcrumb({category:"ui.focus"});r._doChangeToForegroundTasks(n)}}},{key:"__init4",value:function(){var r=this;this._handleKeyboardEvent=function(n){!function(r,n){if(r.isEnabled()){r.updateUserActivity();var i=function(r){var n,i=r.metaKey,o=r.shiftKey,a=r.ctrlKey,c=r.altKey,u=r.key,l=r.target;if(!l||"INPUT"===(n=l).tagName||"TEXTAREA"===n.tagName||n.isContentEditable||!u)return null;var p=1===u.length;if(!(i||a||c)&&p)return null;var S=htmlTreeAsString(l,{maxStringLength:200})||"<unknown>",k=getBaseDomBreadcrumb(l,S);return createBreadcrumb({category:"ui.keyDown",message:S,data:esm_objectSpread(esm_objectSpread({},k.data),{},{metaKey:i,shiftKey:o,ctrlKey:a,altKey:c,key:u})})}(n);i&&addBreadcrumbEvent(r,i)}}(r,n)}}},{key:"_doChangeToBackgroundTasks",value:function(r){!this.session||isSessionExpired(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(r&&this._createCustomBreadcrumb(r),this.conditionalFlush())}},{key:"_doChangeToForegroundTasks",value:function(r){this.session&&this.checkAndHandleExpiredSession()&&r&&this._createCustomBreadcrumb(r)}},{key:"_updateUserActivity",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastActivity=r}},{key:"_updateSessionActivity",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this.session&&(this.session.lastActivity=r,this._maybeSaveSession())}},{key:"_createCustomBreadcrumb",value:function(r){var n=this;this.addUpdate(function(){n.throttledAddEvent({type:rr.Custom,timestamp:r.timestamp||0,data:{tag:"breadcrumb",payload:r}})})}},{key:"_addPerformanceEntries",value:function(){var r=this.performanceEntries.map(createPerformanceEntry).filter(Boolean).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(createPerformanceSpans(this,r))}},{key:"_clearContext",value:function(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}},{key:"_updateInitialTimestampFromEventBuffer",value:function(){var r=this.session,n=this.eventBuffer;if(r&&n&&!r.segmentId){var i=n.getEarliestTimestamp();i&&i<this._context.initialTimestamp&&(this._context.initialTimestamp=i)}}},{key:"_popEventContext",value:function(){var r={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),r}},{key:"_runFlush",value:(o=(0,tK.Z)(e3().mark(function _callee9(){var r,n,i,o,a,c;return e3().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(r=this.getSessionId(),!(!this.session||!this.eventBuffer||!r)){u.next=4;break}return u.abrupt("return");case 4:return u.next=6,this._addPerformanceEntries();case 6:if(!(!this.eventBuffer||!this.eventBuffer.hasEvents)){u.next=8;break}return u.abrupt("return");case 8:return u.next=10,function(r){return _addMemoryEntry.apply(this,arguments)}(this);case 10:if(this.eventBuffer){u.next=12;break}return u.abrupt("return");case 12:if(!(r!==this.getSessionId())){u.next=14;break}return u.abrupt("return");case 14:if(u.prev=14,this._updateInitialTimestampFromEventBuffer(),!((n=Date.now())-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)){u.next=19;break}throw Error("Session is too long, not sending replay");case 19:return i=this._popEventContext(),o=this.session.segmentId++,this._maybeSaveSession(),u.next=24,this.eventBuffer.finish();case 24:return a=u.sent,u.next=27,sendReplay({replayId:r,recordingData:a,segmentId:o,eventContext:i,session:this.session,options:this.getOptions(),timestamp:n});case 27:u.next=35;break;case 29:u.prev=29,u.t0=u.catch(14),this._handleException(u.t0),this.stop({reason:"sendReplay"}),(c=hub_getCurrentHub().getClient())&&c.recordDroppedEvent("send_error","replay");case 35:case"end":return u.stop()}},_callee9,this,[[14,29]])})),function(){return o.apply(this,arguments)})},{key:"__init5",value:function(){var r=this;this._flush=(0,tK.Z)(e3().mark(function _callee10(){var n,i,o,a,c,u,l,p=arguments;return e3().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(i=void 0!==(n=(p.length>0&&void 0!==p[0]?p[0]:{}).force)&&n,!(!r._isEnabled&&!i)){S.next=3;break}return S.abrupt("return");case 3:if(r.checkAndHandleExpiredSession()){S.next=6;break}return S.abrupt("return");case 6:if(r.session){S.next=8;break}return S.abrupt("return");case 8:if(o=r.session.started,a=Date.now()-o,r._debouncedFlush.cancel(),c=a<r._options.minReplayDuration,u=a>r._options.maxReplayDuration+5e3,!(c||u)){S.next=18;break}return"[Replay] Session duration (".concat(Math.floor(a/1e3),"s) is too ").concat(c?"short":"long",", not sending replay."),r._options._experiments.traceInternals,c&&r._debouncedFlush(),S.abrupt("return");case 18:if((l=r.eventBuffer)&&0===r.session.segmentId&&!l.hasCheckout&&r._options._experiments.traceInternals,r._flushLock){S.next=26;break}return r._flushLock=r._runFlush(),S.next=24,r._flushLock;case 24:return r._flushLock=void 0,S.abrupt("return");case 26:return S.prev=26,S.next=29,r._flushLock;case 29:S.next=34;break;case 31:S.prev=31,S.t0=S.catch(26);case 34:return S.prev=34,r._debouncedFlush(),S.finish(34);case 37:case"end":return S.stop()}},_callee10,null,[[26,31,34,37]])}))}},{key:"_maybeSaveSession",value:function(){this.session&&this._options.stickySession&&saveSession(this.session)}},{key:"__init6",value:function(){var r=this;this._onMutationHandler=function(n){var i=n.length,o=r._options.mutationLimit,a=r._options.mutationBreadcrumbLimit,c=o&&i>o;if(i>a||c){var u=createBreadcrumb({category:"replay.mutations",data:{count:i,limit:c}});r._createCustomBreadcrumb(u)}return!c||(r.stop({reason:"mutationLimit",forceFlush:"session"===r.recordingMode}),!1)}}}]),ReplayContainer}();function getOption(r,n,i,o){var a="string"==typeof o?o.split(","):[],c=[].concat((0,eu.Z)(r),(0,eu.Z)(a),(0,eu.Z)(n));return void 0!==i&&("string"==typeof i&&c.push(".".concat(i)),console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")),c.join(",")}var rN='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',rD=["content-length","content-type","accept"],rM=!1,rL=function(){function Replay(){var r,n,i,o,a,c,u,l,p,S,k,O,w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},C=w.flushMinDelay,I=w.flushMaxDelay,R=w.minReplayDuration,x=w.maxReplayDuration,j=w.stickySession,N=w.useCompression,W=w.workerUrl,G=w._experiments,$=w.sessionSampleRate,J=w.errorSampleRate,et=w.maskAllText,er=void 0===et||et,en=w.maskAllInputs,ei=void 0===en||en,eo=w.blockAllMedia,es=w.mutationBreadcrumbLimit,ec=w.mutationLimit,eu=w.slowClickTimeout,el=w.slowClickIgnoreSelectors,ed=w.networkDetailAllowUrls,ep=w.networkDetailDenyUrls,eh=w.networkCaptureBodies,ev=w.networkRequestHeaders,em=void 0===ev?[]:ev,ey=w.networkResponseHeaders,eg=void 0===ey?[]:ey,e_=w.mask,eb=w.maskAttributes,eS=void 0===eb?["title","placeholder"]:eb,eE=w.unmask,ek=w.block,eT=w.unblock,eO=w.ignore,ew=w.maskFn,eC=w.beforeAddRecordingEvent,eI=w.beforeErrorSampling,eR=w.blockClass,ex=w.blockSelector,eA=w.maskInputOptions,eP=w.maskTextClass,ej=w.maskTextSelector,eN=w.ignoreClass;(0,ef.Z)(this,Replay),this.name=Replay.id;var eD=(n=(r={mask:void 0===e_?[]:e_,unmask:void 0===eE?[]:eE,block:void 0===ek?[]:ek,unblock:void 0===eT?[]:eT,ignore:void 0===eO?[]:eO,blockClass:eR,blockSelector:ex,maskTextClass:eP,maskTextSelector:ej,ignoreClass:eN}).mask,i=r.unmask,o=r.block,a=r.unblock,c=r.ignore,u=r.blockClass,l=r.blockSelector,p=r.maskTextClass,S=r.maskTextSelector,k=r.ignoreClass,O={maskTextSelector:getOption(n,[".sentry-mask","[data-sentry-mask]"],p,S),unmaskTextSelector:getOption(i,[".sentry-unmask","[data-sentry-unmask]"]),blockSelector:getOption(o,[".sentry-block","[data-sentry-block]"].concat(['base[href="/"]']),u,l),unblockSelector:getOption(a,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:getOption(c,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],k)},u instanceof RegExp&&(O.blockClass=u),p instanceof RegExp&&(O.maskTextClass=p),O);if(this._recordingOptions=esm_objectSpread(esm_objectSpread({maskAllInputs:ei,maskAllText:er,maskInputOptions:esm_objectSpread(esm_objectSpread({},eA||{}),{},{password:!0}),maskTextFn:ew,maskInputFn:ew,maskAttributeFn:function(r,n,i){var o,a,c,u,l,p,S;return a=(o={maskAttributes:eS,maskAllText:er,privacyOptions:eD,key:r,value:n,el:i}).el,c=o.key,u=o.maskAttributes,l=o.maskAllText,p=o.privacyOptions,S=o.value,!l||p.unmaskTextSelector&&a.matches(p.unmaskTextSelector)?S:u.includes(c)||"value"===c&&"INPUT"===a.tagName&&["submit","button"].includes(a.getAttribute("type")||"")?S.replace(/[\S]/g,"*"):S}},eD),{},{slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:function(r){try{r.__rrweb__=!0}catch(r){}}}),this._initialOptions={flushMinDelay:void 0===C?5e3:C,flushMaxDelay:void 0===I?5500:I,minReplayDuration:Math.min(void 0===R?4999:R,15e3),maxReplayDuration:Math.min(void 0===x?36e5:x,36e5),stickySession:void 0===j||j,sessionSampleRate:$,errorSampleRate:J,useCompression:void 0===N||N,workerUrl:W,blockAllMedia:void 0===eo||eo,maskAllInputs:ei,maskAllText:er,mutationBreadcrumbLimit:void 0===es?750:es,mutationLimit:void 0===ec?1e4:ec,slowClickTimeout:void 0===eu?7e3:eu,slowClickIgnoreSelectors:void 0===el?[]:el,networkDetailAllowUrls:void 0===ed?[]:ed,networkDetailDenyUrls:void 0===ep?[]:ep,networkCaptureBodies:void 0===eh||eh,networkRequestHeaders:_getMergedNetworkHeaders(em),networkResponseHeaders:_getMergedNetworkHeaders(eg),beforeAddRecordingEvent:eC,beforeErrorSampling:eI,_experiments:void 0===G?{}:G},"number"==typeof $&&(console.warn("[Replay] You are passing `sessionSampleRate` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure `replaysSessionSampleRate` directly in the SDK init options, e.g.:\nSentry.init({ replaysSessionSampleRate: ".concat($," })")),this._initialOptions.sessionSampleRate=$),"number"==typeof J&&(console.warn("[Replay] You are passing `errorSampleRate` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure `replaysOnErrorSampleRate` directly in the SDK init options, e.g.:\nSentry.init({ replaysOnErrorSampleRate: ".concat(J," })")),this._initialOptions.errorSampleRate=J),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?"".concat(this._recordingOptions.blockSelector,",").concat(rN):rN),this._isInitialized&&isBrowser())throw Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}return(0,ed.Z)(Replay,[{key:"_isInitialized",get:function(){return rM},set:function(r){rM=r}},{key:"setupOnce",value:function(){var r=this;isBrowser()&&(this._setup(),setTimeout(function(){return r._initialize()}))}},{key:"start",value:function(){this._replay&&this._replay.start()}},{key:"startBuffering",value:function(){this._replay&&this._replay.startBuffering()}},{key:"stop",value:function(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}},{key:"flush",value:function(r){return this._replay&&this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(r):Promise.resolve()}},{key:"getReplayId",value:function(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId()}},{key:"_initialize",value:function(){this._replay&&this._replay.initializeSampling()}},{key:"_setup",value:function(){var r,n,i,o,a=(r=this._initialOptions,i=(n=hub_getCurrentHub().getClient())&&n.getOptions(),o=esm_objectSpread({sessionSampleRate:0,errorSampleRate:0},dropUndefinedKeys(r)),i?(null==r.sessionSampleRate&&null==r.errorSampleRate&&null==i.replaysSessionSampleRate&&null==i.replaysOnErrorSampleRate&&console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set."),"number"==typeof i.replaysSessionSampleRate&&(o.sessionSampleRate=i.replaysSessionSampleRate),"number"==typeof i.replaysOnErrorSampleRate&&(o.errorSampleRate=i.replaysOnErrorSampleRate)):console.warn("SDK client is not available."),o);this._replay=new rj({options:a,recordingOptions:this._recordingOptions})}}],[{key:"__initStatic",value:function(){this.id="Replay"}}]),Replay}();function _getMergedNetworkHeaders(r){return[].concat(rD,(0,eu.Z)(r.map(function(r){return r.toLowerCase()})))}rL.__initStatic();var rB=window;rB.__sentryRewritesTunnelPath__="/embed/monitoring",rB.SENTRY_RELEASE={id:"274a72e7-ee5f-452c-b8a1-f5095142fcaa"},rB.__sentryBasePath=void 0,rB.__rewriteFramesAssetPrefixPath__="",function(r){var n,i,o,a,c=function(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?client_ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):client_ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}({environment:((o=tL.env.NEXT_PUBLIC_VERCEL_ENV)?"vercel-".concat(o):void 0)||"production"},r);(function(r){var n=tW.__sentryRewritesTunnelPath__;if(n&&r.dsn){var i=dsnFromString(r.dsn);if(!i)return;var o=i.host.match(/^o(\d+)\.ingest\.sentry\.io$/);if(o){var a=o[1],c="".concat(n,"?o=").concat(a,"&p=").concat(i.projectId);r.tunnel=c}}})(c),c._metadata=c._metadata||{},c._metadata.sdk=c._metadata.sdk||{name:"sentry.javascript.nextjs",packages:["nextjs","react"].map(function(r){return{name:"".concat("npm:@sentry/").concat(r),version:eO}}),version:eO},n=c.integrations||[],i=tG.__rewriteFramesAssetPrefixPath__||"",n=addOrUpdateIntegration(new eT({iteratee:function(r){try{var n=new URL(r.filename).origin;r.filename=function(r){for(var n=void 0,i=r[0],o=1;o<r.length;){var a=r[o],c=r[o+1];if(o+=2,("optionalAccess"===a||"optionalCall"===a)&&null==i)return;"access"===a||"optionalAccess"===a?(n=i,i=c(i)):("call"===a||"optionalCall"===a)&&(i=c(function(){for(var r,o=arguments.length,a=Array(o),c=0;c<o;c++)a[c]=arguments[c];return(r=i).call.apply(r,[n].concat(a))}),n=void 0)}return i}([r,"access",function(r){return r.filename},"optionalAccess",function(r){return r.replace},"call",function(r){return r(n,"app://")},"access",function(r){return r.replace},"call",function(r){return r(i,"")}])}catch(r){}return r.filename&&r.filename.startsWith("app:///_next")&&(r.filename=decodeURI(r.filename)),r.filename&&r.filename.match(/^app:\/\/\/_next\/static\/chunks\/(main-|main-app-|polyfills-|webpack-|framework-|framework\.)[0-9a-f]+\.js$/)&&(r.in_app=!1),r}}),n),("undefined"==typeof __SENTRY_TRACING__||__SENTRY_TRACING__)&&hasTracingEnabled(c)&&(n=addOrUpdateIntegration(new tM({tracingOrigins:[].concat((0,eu.Z)(tN.tracingOrigins),[/^(api\/)/]),routingInstrumentation:nextRouterInstrumentation}),n,{"options.routingInstrumentation":nextRouterInstrumentation})),c.integrations=n,(a=function(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?esm_sdk_ownKeys(Object(i),!0).forEach(function(n){(0,el.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):esm_sdk_ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}({_metadata:{}},c))._metadata.sdk=a._metadata.sdk||{name:"sentry.javascript.react",packages:[{name:"npm:@sentry/react",version:eO}],version:eO},function(){var r,n,i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};void 0===o.defaultIntegrations&&(o.defaultIntegrations=th),void 0===o.release&&("string"==typeof __SENTRY_RELEASE__&&(o.release=__SENTRY_RELEASE__),e5.SENTRY_RELEASE&&e5.SENTRY_RELEASE.id&&(o.release=e5.SENTRY_RELEASE.id)),void 0===o.autoSessionTracking&&(o.autoSessionTracking=!0),void 0===o.sendClientReports&&(o.sendClientReports=!0);var a=sdk_objectSpread(sdk_objectSpread({},o),{},{stackParser:Array.isArray(r=o.stackParser||td)?createStackParser.apply(void 0,(0,eu.Z)(r)):r,integrations:function(r){var n,i=r.defaultIntegrations||[],o=r.integrations;i.forEach(function(r){r.isDefaultInstance=!0});var a=(n={},(Array.isArray(o)?[].concat((0,eu.Z)(i),(0,eu.Z)(o)):"function"==typeof o?arrayify(o(i)):i).forEach(function(r){var i=r.name,o=n[i];o&&!o.isDefaultInstance&&r.isDefaultInstance||(n[i]=r)}),Object.keys(n).map(function(r){return n[r]})),c=function(r,n){for(var i=0;i<r.length;i++)if(!0===n(r[i]))return i;return -1}(a,function(r){return"Debug"===r.name});if(-1!==c){var u=a.splice(c,1),l=(0,ex.Z)(u,1)[0];a.push(l)}return a}(o),transport:o.transport||(supportsFetch()?makeFetchTransport:makeXHRTransport)});!0===a.debug&&console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."),(n=hub_getCurrentHub()).getScope().update(a.initialScope),i=new e6(a),n.bindClient(i),o.autoSessionTracking&&function(){if(void 0!==e5.document){var r=hub_getCurrentHub();r.captureSession&&(startSessionOnHub(r),addInstrumentationHandler("history",function(r){var n=r.from,i=r.to;void 0===n||n===i||startSessionOnHub(hub_getCurrentHub())}))}}()}(a),hub_getCurrentHub().configureScope(function(r){r.setTag("runtime","browser");var filterTransactions=function(r){return"transaction"===r.type&&"/404"===r.transaction?null:r};filterTransactions.id="NextClient404Filter",r.addEventProcessor(filterTransactions)})}({dsn:"https://4cc707ab12ea4779b417479c0550a5cb@o22381.ingest.sentry.io/4505164808585216",ignoreErrors:[/Extension context invalidated./],tracesSampleRate:0,debug:!1,sampleRate:.2,release:"c5082c4ac20f67b8b2cce46c186321169ec99656",replaysOnErrorSampleRate:1,replaysSessionSampleRate:0,integrations:[new rL({maskAllText:!0,blockAllMedia:!0})]})},6862:function(r,n,i){"use strict";var o=i(7267),a=i(4456),c=i(8907),u=i(2256),l=i(4140),p=i(3011),S=i(4408);Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return w}});var k=i(7042)._(i(1844)),O=i(8650);function appGetInitialProps(r){return _appGetInitialProps.apply(this,arguments)}function _appGetInitialProps(){return(_appGetInitialProps=S(o.mark(function _callee(r){var n,i,a;return o.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return n=r.Component,i=r.ctx,o.next=3,(0,O.loadGetInitialProps)(n,i);case 3:return a=o.sent,o.abrupt("return",{pageProps:a});case 5:case"end":return o.stop()}},_callee)}))).apply(this,arguments)}var w=function(r){u(App,r);var n,i=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,i=p(App);if(n){var o=p(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return l(this,r)});function App(){return a(this,App),i.apply(this,arguments)}return c(App,[{key:"render",value:function(){var r=this.props,n=r.Component,i=r.pageProps;return k.default.createElement(n,i)}}]),App}(k.default.Component);w.origGetInitialProps=appGetInitialProps,w.getInitialProps=appGetInitialProps,("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),r.exports=n.default)},2266:function(r,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AmpStateContext",{enumerable:!0,get:function(){return o}});var o=i(7042)._(i(1844)).default.createContext({})},2855:function(r,n){"use strict";function isInAmpMode(r){var n=void 0===r?{}:r,i=n.ampFirst,o=n.hybrid,a=n.hasQuery;return void 0!==i&&i||void 0!==o&&o&&void 0!==a&&a}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"isInAmpMode",{enumerable:!0,get:function(){return isInAmpMode}})},2410:function(r,n,i){"use strict";var o=i(8547);function ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}Object.defineProperty(n,"__esModule",{value:!0}),function(r,n){for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]})}(n,{defaultHead:function(){return _defaultHead},default:function(){return _default2}});var a=i(7042),c=i(1670)._(i(1844)),u=a._(i(8651)),l=i(2266),p=i(2992),S=i(2855);function _defaultHead(r){void 0===r&&(r=!1);var n=[c.default.createElement("meta",{charSet:"utf-8"})];return r||n.push(c.default.createElement("meta",{name:"viewport",content:"width=device-width"})),n}function onlyReactElement(r,n){return"string"==typeof n||"number"==typeof n?r:n.type===c.default.Fragment?r.concat(c.default.Children.toArray(n.props.children).reduce(function(r,n){return"string"==typeof n||"number"==typeof n?r:r.concat(n)},[])):r.concat(n)}i(9259);var k=["name","httpEquiv","charSet","itemProp"];function reduceComponents(r,n){var i,a,u,l,p=n.inAmpMode;return r.reduce(onlyReactElement,[]).reverse().concat(_defaultHead(p).reverse()).filter((i=new Set,a=new Set,u=new Set,l={},function(r){var n=!0,o=!1;if(r.key&&"number"!=typeof r.key&&r.key.indexOf("$")>0){o=!0;var c=r.key.slice(r.key.indexOf("$")+1);i.has(c)?n=!1:i.add(c)}switch(r.type){case"title":case"base":a.has(r.type)?n=!1:a.add(r.type);break;case"meta":for(var p=0,S=k.length;p<S;p++){var O=k[p];if(r.props.hasOwnProperty(O)){if("charSet"===O)u.has(O)?n=!1:u.add(O);else{var w=r.props[O],C=l[O]||new Set;("name"!==O||!o)&&C.has(w)?n=!1:(C.add(w),l[O]=C)}}}}return n})).reverse().map(function(r,n){var i=r.key||n;if(!p&&"link"===r.type&&r.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some(function(n){return r.props.href.startsWith(n)})){var a=function(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(i),!0).forEach(function(n){o(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}({},r.props||{});return a["data-href"]=a.href,a.href=void 0,a["data-optimized-fonts"]=!0,c.default.cloneElement(r,a)}return c.default.cloneElement(r,{key:i})})}var _default2=function(r){var n=r.children,i=(0,c.useContext)(l.AmpStateContext),o=(0,c.useContext)(p.HeadManagerContext);return c.default.createElement(u.default,{reduceComponentsToState:reduceComponents,headManager:o,inAmpMode:(0,S.isInAmpMode)(i)},n)};("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),r.exports=n.default)},8651:function(r,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return SideEffect}});var o=i(1670)._(i(1844)),a=o.useLayoutEffect,c=o.useEffect;function SideEffect(r){var n=r.headManager,i=r.reduceComponentsToState;function emitChange(){if(n&&n.mountedInstances){var a=o.Children.toArray(Array.from(n.mountedInstances).filter(Boolean));n.updateHead(i(a,r))}}return a(function(){var i;return null==n||null==(i=n.mountedInstances)||i.add(r.children),function(){var i;null==n||null==(i=n.mountedInstances)||i.delete(r.children)}}),a(function(){return n&&(n._pendingUpdate=emitChange),function(){n&&(n._pendingUpdate=emitChange)}}),c(function(){return n&&n._pendingUpdate&&(n._pendingUpdate(),n._pendingUpdate=null),function(){n&&n._pendingUpdate&&(n._pendingUpdate(),n._pendingUpdate=null)}}),null}},9259:function(r,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"warnOnce",{enumerable:!0,get:function(){return warnOnce}});var warnOnce=function(r){}},7124:function(r,n,i){"use strict";i.r(n),i.d(n,{CustomApp:function(){return el},default:function(){return ef},reportWebVitals:function(){return reportWebVitals}});var o,a,c,u=i(2674),l=i(6506),p=i(2188),S=i(5041),k=i(2945),O=i(8419),w={background:{base:"#283ea3",highlight:"#253a98",press:"#0c1331",elevated:{base:"#253a98",highlight:"#253a98",press:"#0c1331"},tinted:{base:"#283ea3",highlight:"#283ea3",press:"#283ea3"},unsafeForSmallText:{base:"#283ea3",highlight:"#283ea3",press:"#283ea3"}}},C=i(1844),I=i(5644),R=(0,i(5980).vJ)(c||(o=["\n  /*\n    Reset the box-sizing\n\n    Heads up! This reset may cause conflicts with some third-party widgets.\n    For recommendations on resolving such conflicts, see\n    http://getbootstrap.com/getting-started/#third-box-sizing\n  */\n\n  * {\n    box-sizing: border-box;\n  }\n\n  *::before,\n  *::after {\n    box-sizing: border-box;\n  }\n\n  /* Body reset */\n\n  body {\n    margin: 0;\n  }\n\n  body, input, textarea, button {\n    font-family: var(--font-family, ","), Helvetica, Arial, sans-serif;\n  }\n\n  html,\n  body {\n    height: 100%;\n  }\n"],a||(a=o.slice(0)),c=Object.freeze(Object.defineProperties(o,{raw:{value:Object.freeze(a)}}))),I.lS.fontFamily),GlobalStyles=function(){return C.createElement(C.Fragment,null,C.createElement(R,null))};i(6932),i(8714);var x=i(3057),j=i(7707),N=i.n(j),W=i(8896),G=i.n(W),$=i(8526),J=i.n($),et=i(333),er=i(2088),en=(0,C.createContext)(void 0),ei=function(r){(0,S.Z)(ErrorBoundaryProvider,r);var n,i=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,i=(0,O.Z)(ErrorBoundaryProvider);if(n){var o=(0,O.Z)(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return(0,k.Z)(this,r)});function ErrorBoundaryProvider(){var r;(0,l.Z)(this,ErrorBoundaryProvider);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=i.call.apply(i,[this].concat(o)),(0,u.Z)((0,et.Z)(r),"state",{error:void 0}),r}return(0,p.Z)(ErrorBoundaryProvider,[{key:"render",value:function(){return(0,er.jsx)(en.Provider,{value:this.state.error,children:this.props.children})}}],[{key:"getDerivedStateFromError",value:function(r){return{error:r}}}]),ErrorBoundaryProvider}(C.Component);i(4080);var eo=i(8681),es=i(2397);i(668);var ec=i(7312),hexToRGB=function(r){var n=parseInt(r.slice(1,3),16),i=parseInt(r.slice(3,5),16),o=parseInt(r.slice(5,7),16);return"".concat(n,", ").concat(i,", ").concat(o)},eu=i(8310),selectImage=function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.desiredSize,o=void 0===i?Number.MAX_SAFE_INTEGER:i,a=n.desiredHeight,c=void 0===a?o:a,u=n.desiredWidth,l=void 0===u?o:u,p=n.desiredLabel,S=void 0===p?"":p;if(r&&!(r.length<=0)){if(S){var k=r.filter(function(r){return r.label===S}),O=(0,eu.Z)(k,1)[0];if(O)return O}if(1===r.length)return r[0];var w=r.map(function(r){var n=[(r.width||0)*(r.height||0),c*l];return{ratio:Math.max.apply(Math,n)/Math.min.apply(Math,n),image:r}}).sort(function(r,n){return r.ratio-n.ratio});return(0,eu.Z)(w,1)[0].image}};function ownKeys(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,o)}return i}var el=function(r){(0,S.Z)(CustomApp,r);var n,i=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}(),function(){var r,i=(0,O.Z)(CustomApp);if(n){var o=(0,O.Z)(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return(0,k.Z)(this,r)});function CustomApp(){return(0,l.Z)(this,CustomApp),i.apply(this,arguments)}return(0,p.Z)(CustomApp,[{key:"render",value:function(){var r,n,i,o=this.props,a=o.Component,c=o.pageProps,l=c.state?c.state.data.backgroundColor:w.background.base,p=c.state?null===(r=selectImage((0,ec.m)(null!==(n=null===(i=c.state.data.entity.coverArt)||void 0===i?void 0:i.sources)&&void 0!==n?n:[]),{desiredSize:es.dN.largeScreen.small}))||void 0===r?void 0:r.url:"";return(0,er.jsxs)(C.Fragment,{children:[(0,er.jsxs)(G(),{children:[(0,er.jsx)("title",{children:"Spotify Embed"}),(0,er.jsx)("link",{rel:"preload",href:p,as:"image"})]}),(0,er.jsx)(GlobalStyles,{}),(0,er.jsx)(ei,{children:(0,er.jsx)("div",{style:{"--background-color":"".concat(hexToRGB(l)),"--image-src":"url('".concat(p,"')")},"data-testid":"main-page",children:(0,er.jsx)(a,function(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(i),!0).forEach(function(n){(0,u.Z)(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}({},c))})})]})}}]),CustomApp}(N());function reportWebVitals(r){var n,i;(0,eo.p1)(),(0,eo.sQ)(x.BrowserMetrics.getWebVitalsMetric(r,{route:null!==(n=null===(i=J().router)||void 0===i?void 0:i.route)&&void 0!==n?n:"unknown"}))}var ef=el},4080:function(){!function(){"use strict";try{if(window.hasOwnProperty("localStorage")&&null!==window.localStorage){var r="swxTest_".concat(Math.round(1e7*Math.random()));window.localStorage.setItem(r,"test"),window.localStorage.removeItem(r)}}catch(r){var n={};Object.defineProperty(window,"localStorage",{setItem:function(r,i){return n[r]=i,n[r]},getItem:function(r){return r in n?n[r]:void 0},removeItem:function(r){delete n[r]},clear:function(){return n={}}})}}()},8681:function(r,n,i){"use strict";i.d(n,{p1:function(){return initSemanticMetrics},sQ:function(){return sendMetric}});var o,a=i(3571),c=i(4714),u=i(7267),l=i.n(u),p=i(3057),S=i(8104);function initSemanticMetrics(){var r,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"embed-standalone-prod";o||(o=(0,p.createSemanticMetrics)({key:i,dev:!"production".startsWith("prod")&&!("1"===(r=S.env.DEBUG_SEMANTIC_METRICS)||"2"===r),reporter:"1"===(n=S.env.DEBUG_SEMANTIC_METRICS)?[new p.ConsoleReporter]:[(0,p.createUniversalReporter)()].concat((0,c.Z)("2"===n?[new p.ConsoleReporter]:[])),component_id:"embed-standalone-prod"}).sendMetric)}function sendMetric(r){return _sendMetric.apply(this,arguments)}function _sendMetric(){return(_sendMetric=(0,a.Z)(l().mark(function _callee(r){return l().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o){n.next=2;break}throw Error("Invalid call to sendMetric before initSemanticMetrics.");case 2:return r.tags||(r.tags={}),"slingshot"in r.tags||(r.tags.slingshot="1"===S.env.IS_SLINGSHOT?"true":"false"),n.abrupt("return",o(r));case 5:case"end":return n.stop()}},_callee)}))).apply(this,arguments)}},2397:function(r,n,i){"use strict";i.d(n,{Ki:function(){return N},Zo:function(){return G},dN:function(){return J},eL:function(){return I},p4:function(){return W},uJ:function(){return $},ue:function(){return x},wr:function(){return j}});var o,a,c,u,l,p,S=i(6382),k=i(234),O=i(5980),w=(0,k.iv)(o||(o=(0,S.Z)(["\n  color: ",";\n"])),"rgb(255, 255, 255)");(0,k.iv)(a||(a=(0,S.Z)(["\n  ",";\n  font-weight: 450;\n"])),w);var C="\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n";(0,k.iv)(c||(c=(0,S.Z)(["\n  ","\n"])),C);var I=(0,O.iv)(["",""],C),R=(0,k.iv)(u||(u=(0,S.Z)(["\n  h1,\n  h2 {\n    margin: 0;\n    font-size: initial;\n    font-weight: normal;\n  }\n\n  .no-focus-outline {\n    *:focus {\n      outline: 0;\n    }\n  }\n\n  button {\n    margin: 0;\n    border: 0;\n    padding: 0;\n    color: inherit;\n    background-color: transparent;\n    cursor: pointer;\n  }\n\n  a {\n    ",";\n    text-decoration: none;\n  }\n\n  button {\n    user-select: none;\n  }\n"])),w),x=(0,k.iv)(l||(l=(0,S.Z)(["\n  body {\n    ",";\n  }\n\n  ",";\n"])),w,R);(0,k.iv)(p||(p=(0,S.Z)(["\n  body {\n    ",";\n  }\n\n  ",";\n"])),w,R);var mediaQueryGenerator=function(r){var n=r.width,i=r.breakPointType,o=void 0===i?"max-width":i;return function(){return(0,O.iv)(["@media screen and (",":","px){","}"],o,n,O.iv.apply(void 0,arguments))}},j={small:{width:375},medium:{width:479},large:{width:589},xLarge:{width:1024,breakPointType:"min-width"}},N={small:mediaQueryGenerator(j.small),medium:mediaQueryGenerator(j.medium),large:mediaQueryGenerator(j.large),xLarge:mediaQueryGenerator(j.xLarge)},W={compactLegacy:80,landscape:152,landscapeLegacy:232,large:352},G={small:360,medium:510},$={width:{small:"@media (max-width: 300px)",medium:"@media (max-width: 520px)"},height:{small:"@media (max-height: ".concat(W.landscapeLegacy-1,"px)"),medium:"@media (max-height: ".concat(W.large-1,"px)")}},J={landscape:{small:90,large:120},landscapeLegacy:{small:152,medium:160,large:200},portrait:176,largeScreen:{small:216,large:272}}},7312:function(r,n,i){"use strict";i.d(n,{l:function(){return getDescSortedImages},m:function(){return getAscSortedImages}});var o=i(4714);function getAscSortedImages(r){return(0,o.Z)(r).sort(function(r,n){return(r.width||0)-(n.width||0)})}function getDescSortedImages(r){return(0,o.Z)(r).sort(function(r,n){return(n.width||0)-(r.width||0)})}},6840:function(r,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return i(7124)}])},6932:function(){},8714:function(){},668:function(){},5644:function(r,n,i){"use strict";i.d(n,{CX:function(){return O},GC:function(){return a},Jt:function(){return R},M$:function(){return C},Oj:function(){return x},PG:function(){return c},S2:function(){return N},S5:function(){return j},ac:function(){return I},dC:function(){return p},l2:function(){return G},lS:function(){return o},m8:function(){return $},mc:function(){return l},po:function(){return k},qU:function(){return w},ro:function(){return S},uW:function(){return u},x$:function(){return W}});var o={fontSize:"1rem",fontFamily:"CircularSp,CircularSp-Arab,CircularSp-Hebr,CircularSp-Cyrl,CircularSp-Grek,CircularSp-Deva, var(--fallback-fonts, sans-serif)",fontWeight:400},a={fontSize:"1rem",fontFamily:"CircularSp,CircularSp-Arab,CircularSp-Hebr,CircularSp-Cyrl,CircularSp-Grek,CircularSp-Deva, var(--fallback-fonts, sans-serif)",fontWeight:700},c={fontSize:"0.875rem",fontFamily:"CircularSp,CircularSp-Arab,CircularSp-Hebr,CircularSp-Cyrl,CircularSp-Grek,CircularSp-Deva, var(--fallback-fonts, sans-serif)",fontWeight:400},u={fontSize:"0.875rem",fontFamily:"CircularSp,CircularSp-Arab,CircularSp-Hebr,CircularSp-Cyrl,CircularSp-Grek,CircularSp-Deva, var(--fallback-fonts, sans-serif)",fontWeight:700},l={fontSize:"0.875rem",fontFamily:"CircularSp,CircularSp-Arab,CircularSp-Hebr,CircularSp-Cyrl,CircularSp-Grek,CircularSp-Deva, var(--fallback-fonts, sans-serif)",fontWeight:400},p={fontSize:"0.875rem",fontFamily:"CircularSp,CircularSp-Arab,CircularSp-Hebr,CircularSp-Cyrl,CircularSp-Grek,CircularSp-Deva, var(--fallback-fonts, sans-serif)",fontWeight:700},S={fontSize:"6rem",fontFamily:"CircularSpTitle,CircularSpTitle-Tall,CircularSp-Arab,CircularSp-Hebr,CircularSp-Cyrl,CircularSp-Grek,CircularSp-Deva, var(--fallback-fonts, sans-serif)",fontWeight:900},k={fontSize:"4.5rem",fontFamily:"CircularSpTitle,CircularSpTitle-Tall,CircularSp-Arab,CircularSp-Hebr,CircularSp-Cyrl,CircularSp-Grek,CircularSp-Deva, var(--fallback-fonts, sans-serif)",fontWeight:900},O={fontSize:"3rem",fontFamily:"CircularSpTitle,CircularSpTitle-Tall,CircularSp-Arab,CircularSp-Hebr,CircularSp-Cyrl,CircularSp-Grek,CircularSp-Deva, var(--fallback-fonts, sans-serif)",fontWeight:700},w={fontSize:"0.875rem",fontFamily:"CircularSp,CircularSp-Arab,CircularSp-Hebr,CircularSp-Cyrl,CircularSp-Grek,CircularSp-Deva, var(--fallback-fonts, sans-serif)",fontWeight:700,letterSpacing:"0.1em",textTransform:"uppercase"},C={fontSize:"0.75rem",fontFamily:"CircularSp,CircularSp-Arab,CircularSp-Hebr,CircularSp-Cyrl,CircularSp-Grek,CircularSp-Deva, var(--fallback-fonts, sans-serif)",fontWeight:400,letterSpacing:"0.1em",textTransform:"uppercase"},I={fontSize:"0.75rem",fontFamily:"CircularSp,CircularSp-Arab,CircularSp-Hebr,CircularSp-Cyrl,CircularSp-Grek,CircularSp-Deva, var(--fallback-fonts, sans-serif)",fontWeight:700,letterSpacing:"0.1em",textTransform:"uppercase"},R={fontSize:"0.6875rem",fontFamily:"CircularSp,CircularSp-Arab,CircularSp-Hebr,CircularSp-Cyrl,CircularSp-Grek,CircularSp-Deva, var(--fallback-fonts, sans-serif)",fontWeight:400},x={fontSize:"0.6875rem",fontFamily:"CircularSp,CircularSp-Arab,CircularSp-Hebr,CircularSp-Cyrl,CircularSp-Grek,CircularSp-Deva, var(--fallback-fonts, sans-serif)",fontWeight:700},j={fontSize:"3rem",fontFamily:"CircularSpTitle,CircularSpTitle-Tall,CircularSp-Arab,CircularSp-Hebr,CircularSp-Cyrl,CircularSp-Grek,CircularSp-Deva, var(--fallback-fonts, sans-serif)",fontWeight:700},N={fontSize:"2rem",fontFamily:"CircularSpTitle,CircularSpTitle-Tall,CircularSp-Arab,CircularSp-Hebr,CircularSp-Cyrl,CircularSp-Grek,CircularSp-Deva, var(--fallback-fonts, sans-serif)",fontWeight:700},W={fontSize:"1.5rem",fontFamily:"CircularSpTitle,CircularSpTitle-Tall,CircularSp-Arab,CircularSp-Hebr,CircularSp-Cyrl,CircularSp-Grek,CircularSp-Deva, var(--fallback-fonts, sans-serif)",fontWeight:700},G={fontSize:"1.5rem",fontFamily:"CircularSpTitle,CircularSpTitle-Tall,CircularSp-Arab,CircularSp-Hebr,CircularSp-Cyrl,CircularSp-Grek,CircularSp-Deva, var(--fallback-fonts, sans-serif)",fontWeight:700},$={fontSize:"1.125rem",fontFamily:"CircularSp,CircularSp-Arab,CircularSp-Hebr,CircularSp-Cyrl,CircularSp-Grek,CircularSp-Deva, var(--fallback-fonts, sans-serif)",fontWeight:700}},7376:function(r,n,i){"use strict";function _arrayLikeToArray(r,n){(null==n||n>r.length)&&(n=r.length);for(var i=0,o=Array(n);i<n;i++)o[i]=r[i];return o}i.d(n,{Z:function(){return _arrayLikeToArray}})},333:function(r,n,i){"use strict";function _assertThisInitialized(r){if(void 0===r)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return r}i.d(n,{Z:function(){return _assertThisInitialized}})},3571:function(r,n,i){"use strict";function asyncGeneratorStep(r,n,i,o,a,c,u){try{var l=r[c](u),p=l.value}catch(r){i(r);return}l.done?n(p):Promise.resolve(p).then(o,a)}function _asyncToGenerator(r){return function(){var n=this,i=arguments;return new Promise(function(o,a){var c=r.apply(n,i);function _next(r){asyncGeneratorStep(c,o,a,_next,_throw,"next",r)}function _throw(r){asyncGeneratorStep(c,o,a,_next,_throw,"throw",r)}_next(void 0)})}}i.d(n,{Z:function(){return _asyncToGenerator}})},6506:function(r,n,i){"use strict";function _classCallCheck(r,n){if(!(r instanceof n))throw TypeError("Cannot call a class as a function")}i.d(n,{Z:function(){return _classCallCheck}})},2188:function(r,n,i){"use strict";function _defineProperties(r,n){for(var i=0;i<n.length;i++){var o=n[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(r,o.key,o)}}function _createClass(r,n,i){return n&&_defineProperties(r.prototype,n),i&&_defineProperties(r,i),r}i.d(n,{Z:function(){return _createClass}})},2674:function(r,n,i){"use strict";function _defineProperty(r,n,i){return n in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}i.d(n,{Z:function(){return _defineProperty}})},1021:function(r,n,i){"use strict";i.d(n,{Z:function(){return _get}});var o=i(8419);function _get(r,n,i){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(r,n,i){var a=function(r,n){for(;!Object.prototype.hasOwnProperty.call(r,n)&&null!==(r=(0,o.Z)(r)););return r}(r,n);if(a){var c=Object.getOwnPropertyDescriptor(a,n);return c.get?c.get.call(i):c.value}})(r,n,i||r)}},8419:function(r,n,i){"use strict";function _getPrototypeOf(r){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)})(r)}i.d(n,{Z:function(){return _getPrototypeOf}})},5041:function(r,n,i){"use strict";i.d(n,{Z:function(){return _inherits}});var o=i(1637);function _inherits(r,n){if("function"!=typeof n&&null!==n)throw TypeError("Super expression must either be null or a function");r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),n&&(0,o.Z)(r,n)}},2945:function(r,n,i){"use strict";i.d(n,{Z:function(){return _possibleConstructorReturn}});var o=i(6153),a=i(333);function _possibleConstructorReturn(r,n){if(n&&("object"===o(n)||"function"==typeof n))return n;if(void 0!==n)throw TypeError("Derived constructors may only return object or undefined");return(0,a.Z)(r)}},1637:function(r,n,i){"use strict";function _setPrototypeOf(r,n){return(_setPrototypeOf=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r})(r,n)}i.d(n,{Z:function(){return _setPrototypeOf}})},8310:function(r,n,i){"use strict";i.d(n,{Z:function(){return _slicedToArray}});var o=i(8436);function _slicedToArray(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var i,o,a=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=a){var c=[],u=!0,l=!1;try{for(a=a.call(r);!(u=(i=a.next()).done)&&(c.push(i.value),!n||c.length!==n);u=!0);}catch(r){l=!0,o=r}finally{try{u||null==a.return||a.return()}finally{if(l)throw o}}return c}}(r,n)||(0,o.Z)(r,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},6382:function(r,n,i){"use strict";function _taggedTemplateLiteral(r,n){return n||(n=r.slice(0)),Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(n)}}))}i.d(n,{Z:function(){return _taggedTemplateLiteral}})},4714:function(r,n,i){"use strict";i.d(n,{Z:function(){return _toConsumableArray}});var o=i(7376),a=i(8436);function _toConsumableArray(r){return function(r){if(Array.isArray(r))return(0,o.Z)(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||(0,a.Z)(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},8436:function(r,n,i){"use strict";i.d(n,{Z:function(){return _unsupportedIterableToArray}});var o=i(7376);function _unsupportedIterableToArray(r,n){if(r){if("string"==typeof r)return(0,o.Z)(r,n);var i=Object.prototype.toString.call(r).slice(8,-1);if("Object"===i&&r.constructor&&(i=r.constructor.name),"Map"===i||"Set"===i)return Array.from(r);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return(0,o.Z)(r,n)}}},7403:function(r,n,i){"use strict";i.d(n,{Z:function(){return _wrapNativeSuper}});var o=i(8419),a=i(1637);function _construct(r,n,i){return(_construct=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}()?function(r,n,i){var o=[null];o.push.apply(o,n);var c=new(Function.bind.apply(r,o));return i&&(0,a.Z)(c,i.prototype),c}:Reflect.construct).apply(null,arguments)}function _wrapNativeSuper(r){var n="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(r){if(null===r||-1===Function.toString.call(r).indexOf("[native code]"))return r;if("function"!=typeof r)throw TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(r))return n.get(r);n.set(r,Wrapper)}function Wrapper(){return _construct(r,arguments,(0,o.Z)(this).constructor)}return Wrapper.prototype=Object.create(r.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),(0,a.Z)(Wrapper,r)})(r)}},4298:function(r,n,i){"use strict";i.r(n),i.d(n,{__addDisposableResource:function(){return __addDisposableResource},__assign:function(){return _assign},__asyncDelegator:function(){return __asyncDelegator},__asyncGenerator:function(){return __asyncGenerator},__asyncValues:function(){return __asyncValues},__await:function(){return __await},__awaiter:function(){return __awaiter},__classPrivateFieldGet:function(){return __classPrivateFieldGet},__classPrivateFieldIn:function(){return __classPrivateFieldIn},__classPrivateFieldSet:function(){return __classPrivateFieldSet},__createBinding:function(){return o},__decorate:function(){return __decorate},__disposeResources:function(){return __disposeResources},__esDecorate:function(){return __esDecorate},__exportStar:function(){return __exportStar},__extends:function(){return __extends},__generator:function(){return __generator},__importDefault:function(){return __importDefault},__importStar:function(){return __importStar},__makeTemplateObject:function(){return __makeTemplateObject},__metadata:function(){return __metadata},__param:function(){return __param},__propKey:function(){return __propKey},__read:function(){return __read},__rest:function(){return __rest},__runInitializers:function(){return __runInitializers},__setFunctionName:function(){return __setFunctionName},__spread:function(){return __spread},__spreadArray:function(){return __spreadArray},__spreadArrays:function(){return __spreadArrays},__values:function(){return __values}});var _extendStatics=function(r,n){return(_extendStatics=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(r,n)};function __extends(r,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function __(){this.constructor=r}_extendStatics(r,n),r.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}var _assign=function(){return(_assign=Object.assign||function(r){for(var n,i=1,o=arguments.length;i<o;i++)for(var a in n=arguments[i])Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a]);return r}).apply(this,arguments)};function __rest(r,n){var i={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&0>n.indexOf(o)&&(i[o]=r[o]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,o=Object.getOwnPropertySymbols(r);a<o.length;a++)0>n.indexOf(o[a])&&Object.prototype.propertyIsEnumerable.call(r,o[a])&&(i[o[a]]=r[o[a]]);return i}function __decorate(r,n,i,o){var a,c=arguments.length,u=c<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(r,n,i,o);else for(var l=r.length-1;l>=0;l--)(a=r[l])&&(u=(c<3?a(u):c>3?a(n,i,u):a(n,i))||u);return c>3&&u&&Object.defineProperty(n,i,u),u}function __param(r,n){return function(i,o){n(i,o,r)}}function __esDecorate(r,n,i,o,a,c){function accept(r){if(void 0!==r&&"function"!=typeof r)throw TypeError("Function expected");return r}for(var u,l=o.kind,p="getter"===l?"get":"setter"===l?"set":"value",S=!n&&r?o.static?r:r.prototype:null,k=n||(S?Object.getOwnPropertyDescriptor(S,o.name):{}),O=!1,w=i.length-1;w>=0;w--){var C={};for(var I in o)C[I]="access"===I?{}:o[I];for(var I in o.access)C.access[I]=o.access[I];C.addInitializer=function(r){if(O)throw TypeError("Cannot add initializers after decoration has completed");c.push(accept(r||null))};var R=(0,i[w])("accessor"===l?{get:k.get,set:k.set}:k[p],C);if("accessor"===l){if(void 0===R)continue;if(null===R||"object"!=typeof R)throw TypeError("Object expected");(u=accept(R.get))&&(k.get=u),(u=accept(R.set))&&(k.set=u),(u=accept(R.init))&&a.unshift(u)}else(u=accept(R))&&("field"===l?a.unshift(u):k[p]=u)}S&&Object.defineProperty(S,o.name,k),O=!0}function __runInitializers(r,n,i){for(var o=arguments.length>2,a=0;a<n.length;a++)i=o?n[a].call(r,i):n[a].call(r);return o?i:void 0}function __propKey(r){return"symbol"==typeof r?r:"".concat(r)}function __setFunctionName(r,n,i){return"symbol"==typeof n&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(r,"name",{configurable:!0,value:i?"".concat(i," ",n):n})}function __metadata(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)}function __awaiter(r,n,i,o){return new(i||(i=Promise))(function(a,c){function fulfilled(r){try{step(o.next(r))}catch(r){c(r)}}function rejected(r){try{step(o.throw(r))}catch(r){c(r)}}function step(r){var n;r.done?a(r.value):((n=r.value)instanceof i?n:new i(function(r){r(n)})).then(fulfilled,rejected)}step((o=o.apply(r,n||[])).next())})}function __generator(r,n){var i,o,a,c,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function verb(l){return function(p){return function(l){if(i)throw TypeError("Generator is already executing.");for(;c&&(c=0,l[0]&&(u=0)),u;)try{if(i=1,o&&(a=2&l[0]?o.return:l[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,l[1])).done)return a;switch(o=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return u.label++,{value:l[1],done:!1};case 5:u.label++,o=l[1],l=[0];continue;case 7:l=u.ops.pop(),u.trys.pop();continue;default:if(!(a=(a=u.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){u=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){u.label=l[1];break}if(6===l[0]&&u.label<a[1]){u.label=a[1],a=l;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(l);break}a[2]&&u.ops.pop(),u.trys.pop();continue}l=n.call(r,u)}catch(r){l=[6,r],o=0}finally{i=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,p])}}}var o=Object.create?function(r,n,i,o){void 0===o&&(o=i);var a=Object.getOwnPropertyDescriptor(n,i);(!a||("get"in a?!n.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return n[i]}}),Object.defineProperty(r,o,a)}:function(r,n,i,o){void 0===o&&(o=i),r[o]=n[i]};function __exportStar(r,n){for(var i in r)"default"===i||Object.prototype.hasOwnProperty.call(n,i)||o(n,r,i)}function __values(r){var n="function"==typeof Symbol&&Symbol.iterator,i=n&&r[n],o=0;if(i)return i.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&o>=r.length&&(r=void 0),{value:r&&r[o++],done:!r}}};throw TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(r,n){var i="function"==typeof Symbol&&r[Symbol.iterator];if(!i)return r;var o,a,c=i.call(r),u=[];try{for(;(void 0===n||n-- >0)&&!(o=c.next()).done;)u.push(o.value)}catch(r){a={error:r}}finally{try{o&&!o.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}return u}function __spread(){for(var r=[],n=0;n<arguments.length;n++)r=r.concat(__read(arguments[n]));return r}function __spreadArrays(){for(var r=0,n=0,i=arguments.length;n<i;n++)r+=arguments[n].length;for(var o=Array(r),a=0,n=0;n<i;n++)for(var c=arguments[n],u=0,l=c.length;u<l;u++,a++)o[a]=c[u];return o}function __spreadArray(r,n,i){if(i||2==arguments.length)for(var o,a=0,c=n.length;a<c;a++)!o&&a in n||(o||(o=Array.prototype.slice.call(n,0,a)),o[a]=n[a]);return r.concat(o||Array.prototype.slice.call(n))}function __await(r){return this instanceof __await?(this.v=r,this):new __await(r)}function __asyncGenerator(r,n,i){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var o,a=i.apply(r,n||[]),c=[];return o={},verb("next"),verb("throw"),verb("return"),o[Symbol.asyncIterator]=function(){return this},o;function verb(r){a[r]&&(o[r]=function(n){return new Promise(function(i,o){c.push([r,n,i,o])>1||resume(r,n)})})}function resume(r,n){try{var i;(i=a[r](n)).value instanceof __await?Promise.resolve(i.value.v).then(fulfill,reject):settle(c[0][2],i)}catch(r){settle(c[0][3],r)}}function fulfill(r){resume("next",r)}function reject(r){resume("throw",r)}function settle(r,n){r(n),c.shift(),c.length&&resume(c[0][0],c[0][1])}}function __asyncDelegator(r){var n,i;return n={},verb("next"),verb("throw",function(r){throw r}),verb("return"),n[Symbol.iterator]=function(){return this},n;function verb(o,a){n[o]=r[o]?function(n){return(i=!i)?{value:__await(r[o](n)),done:!1}:a?a(n):n}:a}}function __asyncValues(r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r[Symbol.asyncIterator];return i?i.call(r):(r=__values(r),n={},verb("next"),verb("throw"),verb("return"),n[Symbol.asyncIterator]=function(){return this},n);function verb(i){n[i]=r[i]&&function(n){return new Promise(function(o,a){!function(r,n,i,o){Promise.resolve(o).then(function(n){r({value:n,done:i})},n)}(o,a,(n=r[i](n)).done,n.value)})}}}function __makeTemplateObject(r,n){return Object.defineProperty?Object.defineProperty(r,"raw",{value:n}):r.raw=n,r}var a=Object.create?function(r,n){Object.defineProperty(r,"default",{enumerable:!0,value:n})}:function(r,n){r.default=n};function __importStar(r){if(r&&r.__esModule)return r;var n={};if(null!=r)for(var i in r)"default"!==i&&Object.prototype.hasOwnProperty.call(r,i)&&o(n,r,i);return a(n,r),n}function __importDefault(r){return r&&r.__esModule?r:{default:r}}function __classPrivateFieldGet(r,n,i,o){if("a"===i&&!o)throw TypeError("Private accessor was defined without a getter");if("function"==typeof n?r!==n||!o:!n.has(r))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?o:"a"===i?o.call(r):o?o.value:n.get(r)}function __classPrivateFieldSet(r,n,i,o,a){if("m"===o)throw TypeError("Private method is not writable");if("a"===o&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof n?r!==n||!a:!n.has(r))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?a.call(r,i):a?a.value=i:n.set(r,i),i}function __classPrivateFieldIn(r,n){if(null===n||"object"!=typeof n&&"function"!=typeof n)throw TypeError("Cannot use 'in' operator on non-object");return"function"==typeof r?n===r:r.has(n)}function __addDisposableResource(r,n,i){if(null!=n){var o;if("object"!=typeof n&&"function"!=typeof n)throw TypeError("Object expected.");if(i){if(!Symbol.asyncDispose)throw TypeError("Symbol.asyncDispose is not defined.");o=n[Symbol.asyncDispose]}if(void 0===o){if(!Symbol.dispose)throw TypeError("Symbol.dispose is not defined.");o=n[Symbol.dispose]}if("function"!=typeof o)throw TypeError("Object not disposable.");r.stack.push({value:n,dispose:o,async:i})}else i&&r.stack.push({async:!0});return n}var c="function"==typeof SuppressedError?SuppressedError:function(r,n,i){var o=Error(i);return o.name="SuppressedError",o.error=r,o.suppressed=n,o};function __disposeResources(r){function fail(n){r.error=r.hasError?new c(n,r.error,"An error was suppressed during disposal."):n,r.hasError=!0}return function next(){for(;r.stack.length;){var n=r.stack.pop();try{var i=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(i).then(next,function(r){return fail(r),next()})}catch(r){fail(r)}}if(r.hasError)throw r.error}()}n.default={__extends:__extends,__assign:_assign,__rest:__rest,__decorate:__decorate,__param:__param,__metadata:__metadata,__awaiter:__awaiter,__generator:__generator,__createBinding:o,__exportStar:__exportStar,__values:__values,__read:__read,__spread:__spread,__spreadArrays:__spreadArrays,__spreadArray:__spreadArray,__await:__await,__asyncGenerator:__asyncGenerator,__asyncDelegator:__asyncDelegator,__asyncValues:__asyncValues,__makeTemplateObject:__makeTemplateObject,__importStar:__importStar,__importDefault:__importDefault,__classPrivateFieldGet:__classPrivateFieldGet,__classPrivateFieldSet:__classPrivateFieldSet,__classPrivateFieldIn:__classPrivateFieldIn,__addDisposableResource:__addDisposableResource,__disposeResources:__disposeResources}}},function(r){var __webpack_exec__=function(n){return r(r.s=n)};r.O(0,[774,179],function(){return __webpack_exec__(8126),__webpack_exec__(6840),__webpack_exec__(793)}),_N_E=r.O()}]);